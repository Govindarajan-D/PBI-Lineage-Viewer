<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>PBI Lineage Viewer - SvelteFlow</title>
    <script type="module" crossorigin>(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();const ns=!1;var Tr=Array.isArray,ec=Array.prototype.indexOf,No=Array.from,Qa=Object.defineProperty,Tt=Object.getOwnPropertyDescriptor,Ja=Object.getOwnPropertyDescriptors,el=Object.prototype,tc=Array.prototype,Dr=Object.getPrototypeOf,rs=Object.isExtensible;function xn(e){return typeof e=="function"}const Ze=()=>{};function nc(e){return e()}function dr(e){for(var t=0;t<e.length;t++)e[t]()}const ot=2,tl=4,Rr=8,Po=16,Nt=32,vn=64,fr=128,Ue=256,hr=512,Ke=1024,ht=2048,Kt=4096,xt=8192,zr=16384,rc=32768,Wn=65536,ic=1<<17,oc=1<<19,nl=1<<20,ao=1<<21,Dt=Symbol("$state"),rl=Symbol("legacy props"),sc=Symbol("");function il(e){return e===this.v}function Co(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Io(e){return!Co(e,this.v)}function ac(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function lc(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function uc(e){throw new Error("https://svelte.dev/e/effect_orphan")}function cc(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function dc(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function fc(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function hc(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function $c(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let mn=!1,gc=!1;function pc(){mn=!0}const Oo=1,Ao=2,ol=4,vc=8,mc=16,yc=1,bc=2,wc=4,_c=8,xc=16,sl=1,Ec=2,qe=Symbol(),kc="http://www.w3.org/1999/xhtml",Sc="@attach",Nc=[];function al(e,t=!1){return or(e,new Map,"",Nc)}function or(e,t,n,r,i=null){if(typeof e=="object"&&e!==null){var s=t.get(e);if(s!==void 0)return s;if(e instanceof Map)return new Map(e);if(e instanceof Set)return new Set(e);if(Tr(e)){var o=Array(e.length);t.set(e,o),i!==null&&t.set(i,o);for(var a=0;a<e.length;a+=1){var l=e[a];a in e&&(o[a]=or(l,t,n,r))}return o}if(Dr(e)===el){o={},t.set(e,o),i!==null&&t.set(i,o);for(var c in e)o[c]=or(e[c],t,n,r);return o}if(e instanceof Date)return structuredClone(e);if(typeof e.toJSON=="function")return or(e.toJSON(),t,n,r,e)}if(e instanceof EventTarget)return e;try{return structuredClone(e)}catch{return e}}function Mo(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let Me=null;function is(e){Me=e}function On(e){return ll().get(e)}function An(e,t){return ll().set(e,t),t}function we(e,t=!1,n){var r=Me={p:Me,c:null,d:!1,e:null,m:!1,s:e,x:null,l:null};mn&&!t&&(Me.l={s:null,u:null,r1:[],r2:an(!1)}),Do(()=>{r.d=!0})}function _e(e){const t=Me;if(t!==null){const o=t.e;if(o!==null){var n=Te,r=Oe;t.e=null;try{for(var i=0;i<o.length;i++){var s=o[i];Vt(s.effect),gt(s.reaction),bn(s.fn)}}finally{Vt(n),gt(r)}}Me=t.p,t.m=!0}return{}}function Hr(){return!mn||Me!==null&&Me.l===null}function ll(e){return Me===null&&Mo(),Me.c??=new Map(Pc(Me)||void 0)}function Pc(e){let t=e.p;for(;t!==null;){const n=t.c;if(n!==null)return n;t=t.p}return null}function Ge(e){if(typeof e!="object"||e===null||Dt in e)return e;const t=Dr(e);if(t!==el&&t!==tc)return e;var n=new Map,r=Tr(e),i=xe(0),s=Oe,o=a=>{var l=Oe;gt(s);var c=a();return gt(l),c};return r&&n.set("length",xe(e.length)),new Proxy(e,{defineProperty(a,l,c){(!("value"in c)||c.configurable===!1||c.enumerable===!1||c.writable===!1)&&fc();var u=n.get(l);return u===void 0?(u=o(()=>xe(c.value)),n.set(l,u)):q(u,o(()=>Ge(c.value))),!0},deleteProperty(a,l){var c=n.get(l);if(c===void 0)l in a&&(n.set(l,o(()=>xe(qe))),ri(i));else{if(r&&typeof l=="string"){var u=n.get("length"),d=Number(l);Number.isInteger(d)&&d<u.v&&q(u,d)}q(c,qe),ri(i)}return!0},get(a,l,c){if(l===Dt)return e;var u=n.get(l),d=l in a;if(u===void 0&&(!d||Tt(a,l)?.writable)&&(u=o(()=>xe(Ge(d?a[l]:qe))),n.set(l,u)),u!==void 0){var f=$(u);return f===qe?void 0:f}return Reflect.get(a,l,c)},getOwnPropertyDescriptor(a,l){var c=Reflect.getOwnPropertyDescriptor(a,l);if(c&&"value"in c){var u=n.get(l);u&&(c.value=$(u))}else if(c===void 0){var d=n.get(l),f=d?.v;if(d!==void 0&&f!==qe)return{enumerable:!0,configurable:!0,value:f,writable:!0}}return c},has(a,l){if(l===Dt)return!0;var c=n.get(l),u=c!==void 0&&c.v!==qe||Reflect.has(a,l);if(c!==void 0||Te!==null&&(!u||Tt(a,l)?.writable)){c===void 0&&(c=o(()=>xe(u?Ge(a[l]):qe)),n.set(l,c));var d=$(c);if(d===qe)return!1}return u},set(a,l,c,u){var d=n.get(l),f=l in a;if(r&&l==="length")for(var h=c;h<d.v;h+=1){var g=n.get(h+"");g!==void 0?q(g,qe):h in a&&(g=o(()=>xe(qe)),n.set(h+"",g))}d===void 0?(!f||Tt(a,l)?.writable)&&(d=o(()=>xe(void 0)),q(d,o(()=>Ge(c))),n.set(l,d)):(f=d.v!==qe,q(d,o(()=>Ge(c))));var w=Reflect.getOwnPropertyDescriptor(a,l);if(w?.set&&w.set.call(u,c),!f){if(r&&typeof l=="string"){var v=n.get("length"),m=Number(l);Number.isInteger(m)&&m>=v.v&&q(v,m+1)}ri(i)}return!0},ownKeys(a){$(i);var l=Reflect.ownKeys(a).filter(d=>{var f=n.get(d);return f===void 0||f.v!==qe});for(var[c,u]of n)u.v!==qe&&!(c in a)&&l.push(c);return l},setPrototypeOf(){hc()}})}function ri(e,t=1){q(e,e.v+t)}function sn(e){var t=ot|ht,n=Oe!==null&&(Oe.f&ot)!==0?Oe:null;return Te===null||n!==null&&(n.f&Ue)!==0?t|=Ue:Te.f|=nl,{ctx:Me,deps:null,effects:null,equals:il,f:t,fn:e,reactions:null,rv:0,v:null,wv:0,parent:n??Te}}function A(e){const t=sn(e);return kl(t),t}function ul(e){const t=sn(e);return t.equals=Io,t}function cl(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)$t(t[n])}}function Cc(e){for(var t=e.parent;t!==null;){if((t.f&ot)===0)return t;t=t.parent}return null}function dl(e){var t,n=Te;Vt(Cc(e));try{cl(e),t=Cl(e)}finally{Vt(n)}return t}function fl(e){var t=dl(e),n=(Mt||(e.f&Ue)!==0)&&e.deps!==null?Kt:Ke;st(e,n),e.equals(t)||(e.v=t,e.wv=Nl())}const Mn=new Map;function an(e,t){var n={f:0,v:e,reactions:null,equals:il,rv:0,wv:0};return n}function xe(e,t){const n=an(e);return kl(n),n}function To(e,t=!1){const n=an(e);return t||(n.equals=Io),mn&&Me!==null&&Me.l!==null&&(Me.l.s??=[]).push(n),n}function q(e,t,n=!1){Oe!==null&&!nt&&Hr()&&(Oe.f&(ot|Po))!==0&&!Et?.includes(e)&&$c();let r=n?Ge(t):t;return lo(e,r)}function lo(e,t){if(!e.equals(t)){var n=e.v;Bn?Mn.set(e,t):Mn.set(e,n),e.v=t,(e.f&ot)!==0&&((e.f&ht)!==0&&dl(e),st(e,(e.f&Ue)===0?Ke:Kt)),e.wv=Nl(),hl(e,ht),Hr()&&Te!==null&&(Te.f&Ke)!==0&&(Te.f&(Nt|vn))===0&&(Je===null?Vc([e]):Je.push(e))}return t}function hl(e,t){var n=e.reactions;if(n!==null)for(var r=Hr(),i=n.length,s=0;s<i;s++){var o=n[s],a=o.f;(a&ht)===0&&(!r&&o===Te||(st(o,t),(a&(Ke|Ue))!==0&&((a&ot)!==0?hl(o,Kt):Wr(o))))}}let Ic=!1;var We,$l,gl,pl;function Oc(){if(We===void 0){We=window,$l=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;gl=Tt(t,"firstChild").get,pl=Tt(t,"nextSibling").get,rs(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),rs(n)&&(n.__t=void 0)}}function Lr(e=""){return document.createTextNode(e)}function yt(e){return gl.call(e)}function Vr(e){return pl.call(e)}function Ie(e,t){return yt(e)}function Le(e,t){{var n=yt(e);return n instanceof Comment&&n.data===""?Vr(n):n}}function ke(e,t=1,n=!1){let r=e;for(;t--;)r=Vr(r);return r}function Ac(e){e.textContent=""}function vl(e){Te===null&&Oe===null&&uc(),Oe!==null&&(Oe.f&Ue)!==0&&Te===null&&lc(),Bn&&ac()}function Mc(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function yn(e,t,n,r=!0){var i=Te,s={ctx:Me,deps:null,nodes_start:null,nodes_end:null,f:e|ht,first:null,fn:t,last:null,next:null,parent:i,prev:null,teardown:null,transitions:null,wv:0};if(n)try{zo(s),s.f|=rc}catch(l){throw $t(s),l}else t!==null&&Wr(s);var o=n&&s.deps===null&&s.first===null&&s.nodes_start===null&&s.teardown===null&&(s.f&(nl|fr))===0;if(!o&&r&&(i!==null&&Mc(s,i),Oe!==null&&(Oe.f&ot)!==0)){var a=Oe;(a.effects??=[]).push(s)}return s}function Tc(){return Oe!==null&&!nt}function Do(e){const t=yn(Rr,null,!1);return st(t,Ke),t.teardown=e,t}function Ht(e){vl();var t=Te!==null&&(Te.f&Nt)!==0&&Me!==null&&!Me.m;if(t){var n=Me;(n.e??=[]).push({fn:e,effect:Te,reaction:Oe})}else{var r=bn(e);return r}}function ml(e){return vl(),Yr(e)}function Dc(e){const t=yn(vn,e,!0);return(n={})=>new Promise(r=>{n.outro?Tn(t,()=>{$t(t),r(void 0)}):($t(t),r(void 0))})}function bn(e){return yn(tl,e,!1)}function Yr(e){return yn(Rr,e,!0)}function Ae(e,t=[],n=sn){const r=t.map(n);return wn(()=>e(...r.map($)))}function wn(e,t=0){return yn(Rr|Po|t,e,!0)}function Lt(e,t=!0){return yn(Rr|Nt,e,!0,t)}function yl(e){var t=e.teardown;if(t!==null){const n=Bn,r=Oe;os(!0),gt(null);try{t.call(null)}finally{os(n),gt(r)}}}function bl(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){var r=n.next;(n.f&vn)!==0?n.parent=null:$t(n,t),n=r}}function Rc(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&Nt)===0&&$t(t),t=n}}function $t(e,t=!0){var n=!1;(t||(e.f&oc)!==0)&&e.nodes_start!==null&&(zc(e.nodes_start,e.nodes_end),n=!0),bl(e,t&&!n),mr(e,0),st(e,zr);var r=e.transitions;if(r!==null)for(const s of r)s.stop();yl(e);var i=e.parent;i!==null&&i.first!==null&&wl(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=null}function zc(e,t){for(;e!==null;){var n=e===t?null:Vr(e);e.remove(),e=n}}function wl(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function Tn(e,t){var n=[];Ro(e,n,!0),_l(n,()=>{$t(e),t&&t()})}function _l(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var i of e)i.out(r)}else t()}function Ro(e,t,n){if((e.f&xt)===0){if(e.f^=xt,e.transitions!==null)for(const o of e.transitions)(o.is_global||n)&&t.push(o);for(var r=e.first;r!==null;){var i=r.next,s=(r.f&Wn)!==0||(r.f&Nt)!==0;Ro(r,t,s?n:!1),r=i}}}function $r(e){xl(e,!0)}function xl(e,t){if((e.f&xt)!==0){e.f^=xt,(e.f&Ke)===0&&(e.f^=Ke),Xn(e)&&(st(e,ht),Wr(e));for(var n=e.first;n!==null;){var r=n.next,i=(n.f&Wn)!==0||(n.f&Nt)!==0;xl(n,i?t:!1),n=r}if(e.transitions!==null)for(const s of e.transitions)(s.is_global||t)&&s.in()}}let Dn=[],uo=[];function El(){var e=Dn;Dn=[],dr(e)}function Hc(){var e=uo;uo=[],dr(e)}function Fr(e){Dn.length===0&&queueMicrotask(El),Dn.push(e)}function Lc(){Dn.length>0&&El(),uo.length>0&&Hc()}let sr=!1,gr=!1,pr=null,qt=!1,Bn=!1;function os(e){Bn=e}let In=[];let Oe=null,nt=!1;function gt(e){Oe=e}let Te=null;function Vt(e){Te=e}let Et=null;function kl(e){Oe!==null&&Oe.f&ao&&(Et===null?Et=[e]:Et.push(e))}let Ve=null,je=0,Je=null;function Vc(e){Je=e}let Sl=1,vr=0,Mt=!1;function Nl(){return++Sl}function Xn(e){var t=e.f;if((t&ht)!==0)return!0;if((t&Kt)!==0){var n=e.deps,r=(t&Ue)!==0;if(n!==null){var i,s,o=(t&hr)!==0,a=r&&Te!==null&&!Mt,l=n.length;if(o||a){var c=e,u=c.parent;for(i=0;i<l;i++)s=n[i],(o||!s?.reactions?.includes(c))&&(s.reactions??=[]).push(c);o&&(c.f^=hr),a&&u!==null&&(u.f&Ue)===0&&(c.f^=Ue)}for(i=0;i<l;i++)if(s=n[i],Xn(s)&&fl(s),s.wv>e.wv)return!0}(!r||Te!==null&&!Mt)&&st(e,Ke)}return!1}function Yc(e,t){for(var n=t;n!==null;){if((n.f&fr)!==0)try{n.fn(e);return}catch{n.f^=fr}n=n.parent}throw sr=!1,e}function ss(e){return(e.f&zr)===0&&(e.parent===null||(e.parent.f&fr)===0)}function qr(e,t,n,r){if(sr){if(n===null&&(sr=!1),ss(t))throw e;return}if(n!==null&&(sr=!0),Yc(e,t),ss(t))throw e}function Pl(e,t,n=!0){var r=e.reactions;if(r!==null)for(var i=0;i<r.length;i++){var s=r[i];Et?.includes(e)||((s.f&ot)!==0?Pl(s,t,!1):t===s&&(n?st(s,ht):(s.f&Ke)!==0&&st(s,Kt),Wr(s)))}}function Cl(e){var t=Ve,n=je,r=Je,i=Oe,s=Mt,o=Et,a=Me,l=nt,c=e.f;Ve=null,je=0,Je=null,Mt=(c&Ue)!==0&&(nt||!qt||Oe===null),Oe=(c&(Nt|vn))===0?e:null,Et=null,is(e.ctx),nt=!1,vr++,e.f|=ao;try{var u=(0,e.fn)(),d=e.deps;if(Ve!==null){var f;if(mr(e,je),d!==null&&je>0)for(d.length=je+Ve.length,f=0;f<Ve.length;f++)d[je+f]=Ve[f];else e.deps=d=Ve;if(!Mt)for(f=je;f<d.length;f++)(d[f].reactions??=[]).push(e)}else d!==null&&je<d.length&&(mr(e,je),d.length=je);if(Hr()&&Je!==null&&!nt&&d!==null&&(e.f&(ot|Kt|ht))===0)for(f=0;f<Je.length;f++)Pl(Je[f],e);return i!==null&&i!==e&&(vr++,Je!==null&&(r===null?r=Je:r.push(...Je))),u}finally{Ve=t,je=n,Je=r,Oe=i,Mt=s,Et=o,is(a),nt=l,e.f^=ao}}function Fc(e,t){let n=t.reactions;if(n!==null){var r=ec.call(n,e);if(r!==-1){var i=n.length-1;i===0?n=t.reactions=null:(n[r]=n[i],n.pop())}}n===null&&(t.f&ot)!==0&&(Ve===null||!Ve.includes(t))&&(st(t,Kt),(t.f&(Ue|hr))===0&&(t.f^=hr),cl(t),mr(t,0))}function mr(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)Fc(e,n[r])}function zo(e){var t=e.f;if((t&zr)===0){st(e,Ke);var n=Te,r=Me,i=qt;Te=e,qt=!0;try{(t&Po)!==0?Rc(e):bl(e),yl(e);var s=Cl(e);e.teardown=typeof s=="function"?s:null,e.wv=Sl;var o=e.deps,a;ns&&gc&&e.f&ht}catch(l){qr(l,e,n,r||e.ctx)}finally{qt=i,Te=n}}}function qc(){try{cc()}catch(e){if(pr!==null)qr(e,pr,null);else throw e}}function Il(){var e=qt;try{var t=0;for(qt=!0;In.length>0;){t++>1e3&&qc();var n=In,r=n.length;In=[];for(var i=0;i<r;i++){var s=Bc(n[i]);Wc(s)}Mn.clear()}}finally{gr=!1,qt=e,pr=null}}function Wc(e){var t=e.length;if(t!==0)for(var n=0;n<t;n++){var r=e[n];if((r.f&(zr|xt))===0)try{Xn(r)&&(zo(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null?wl(r):r.fn=null))}catch(i){qr(i,r,null,r.ctx)}}}function Wr(e){gr||(gr=!0,queueMicrotask(Il));for(var t=pr=e;t.parent!==null;){t=t.parent;var n=t.f;if((n&(vn|Nt))!==0){if((n&Ke)===0)return;t.f^=Ke}}In.push(t)}function Bc(e){for(var t=[],n=e;n!==null;){var r=n.f,i=(r&(Nt|vn))!==0,s=i&&(r&Ke)!==0;if(!s&&(r&xt)===0){if((r&tl)!==0)t.push(n);else if(i)n.f^=Ke;else try{Xn(n)&&zo(n)}catch(l){qr(l,n,null,n.ctx)}var o=n.first;if(o!==null){n=o;continue}}var a=n.parent;for(n=n.next;n===null&&a!==null;)n=a.next,a=a.parent}return t}function Xc(e){for(var t;;){if(Lc(),In.length===0)return t;gr=!0,Il()}}async function Kc(){await Promise.resolve(),Xc()}function $(e){var t=e.f,n=(t&ot)!==0;if(Oe!==null&&!nt){if(!Et?.includes(e)){var r=Oe.deps;e.rv<vr&&(e.rv=vr,Ve===null&&r!==null&&r[je]===e?je++:Ve===null?Ve=[e]:(!Mt||!Ve.includes(e))&&Ve.push(e))}}else if(n&&e.deps===null&&e.effects===null){var i=e,s=i.parent;s!==null&&(s.f&Ue)===0&&(i.f^=Ue)}return n&&(i=e,Xn(i)&&fl(i)),Bn&&Mn.has(e)?Mn.get(e):e.v}function Ye(e){var t=nt;try{return nt=!0,e()}finally{nt=t}}const jc=-7169;function st(e,t){e.f=e.f&jc|t}function Ol(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(Dt in e)co(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&Dt in n&&co(n)}}}function co(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{co(e[r],t)}catch{}const n=Dr(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=Ja(n);for(let i in r){const s=r[i].get;if(s)try{s.call(e)}catch{}}}}}function Gc(e){return e.endsWith("capture")&&e!=="gotpointercapture"&&e!=="lostpointercapture"}const Zc=["beforeinput","click","change","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"];function Uc(e){return Zc.includes(e)}const Qc={formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly",defaultvalue:"defaultValue",defaultchecked:"defaultChecked",srcobject:"srcObject",novalidate:"noValidate",allowfullscreen:"allowFullscreen",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback"};function Jc(e){return e=e.toLowerCase(),Qc[e]??e}const ed=["touchstart","touchmove"];function td(e){return ed.includes(e)}function nd(e,t){if(t){const n=document.body;e.autofocus=!0,Fr(()=>{document.activeElement===n&&e.focus()})}}function rd(e){var t=Oe,n=Te;gt(null),Vt(null);try{return e()}finally{gt(t),Vt(n)}}const Al=new Set,fo=new Set;function Ho(e,t,n,r={}){function i(s){if(r.capture||Sn.call(t,s),!s.cancelBubble)return rd(()=>n?.call(this,s))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?Fr(()=>{t.addEventListener(e,i,r)}):t.addEventListener(e,i,r),i}function ho(e,t,n,r={}){var i=Ho(t,e,n,r);return()=>{e.removeEventListener(t,i,r)}}function ln(e,t,n,r,i){var s={capture:r,passive:i},o=Ho(e,t,n,s);(t===document.body||t===window||t===document)&&Do(()=>{t.removeEventListener(e,o,s)})}function jt(e){for(var t=0;t<e.length;t++)Al.add(e[t]);for(var n of fo)n(e)}function Sn(e){var t=this,n=t.ownerDocument,r=e.type,i=e.composedPath?.()||[],s=i[0]||e.target,o=0,a=e.__root;if(a){var l=i.indexOf(a);if(l!==-1&&(t===document||t===window)){e.__root=t;return}var c=i.indexOf(t);if(c===-1)return;l<=c&&(o=l)}if(s=i[o]||e.target,s!==t){Qa(e,"currentTarget",{configurable:!0,get(){return s||n}});var u=Oe,d=Te;gt(null),Vt(null);try{for(var f,h=[];s!==null;){var g=s.assignedSlot||s.parentNode||s.host||null;try{var w=s["__"+r];if(w!=null&&(!s.disabled||e.target===s))if(Tr(w)){var[v,...m]=w;v.apply(s,[e,...m])}else w.call(s,e)}catch(E){f?h.push(E):f=E}if(e.cancelBubble||g===t||g===null)break;s=g}if(f){for(let E of h)queueMicrotask(()=>{throw E});throw f}}finally{e.__root=t,delete e.currentTarget,gt(u),Vt(d)}}}function Ml(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","\x3C!---->"),t.content}function un(e,t){var n=Te;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function ze(e,t){var n=(t&sl)!==0,r=(t&Ec)!==0,i,s=!e.startsWith("<!>");return()=>{i===void 0&&(i=Ml(s?e:"<!>"+e),n||(i=yt(i)));var o=r||$l?document.importNode(i,!0):i.cloneNode(!0);if(n){var a=yt(o),l=o.lastChild;un(a,l)}else un(o,o);return o}}function id(e,t,n="svg"){var r=!e.startsWith("<!>"),i=(t&sl)!==0,s=`<${n}>${r?e:"<!>"+e}</${n}>`,o;return()=>{if(!o){var a=Ml(s),l=yt(a);if(i)for(o=document.createDocumentFragment();yt(l);)o.appendChild(yt(l));else o=yt(l)}var c=o.cloneNode(!0);if(i){var u=yt(c),d=c.lastChild;un(u,d)}else un(c,c);return c}}function tt(e,t){return id(e,t,"svg")}function Tl(e=""){{var t=Lr(e+"");return un(t,t),t}}function Yt(){var e=document.createDocumentFragment(),t=document.createComment(""),n=Lr();return e.append(t,n),un(t,n),e}function me(e,t){e!==null&&e.before(t)}function Gt(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??=e.nodeValue)&&(e.__t=n,e.nodeValue=n+"")}function od(e,t){return sd(e,t)}const Qt=new Map;function sd(e,{target:t,anchor:n,props:r={},events:i,context:s,intro:o=!0}){Oc();var a=new Set,l=d=>{for(var f=0;f<d.length;f++){var h=d[f];if(!a.has(h)){a.add(h);var g=td(h);t.addEventListener(h,Sn,{passive:g});var w=Qt.get(h);w===void 0?(document.addEventListener(h,Sn,{passive:g}),Qt.set(h,1)):Qt.set(h,w+1)}}};l(No(Al)),fo.add(l);var c=void 0,u=Dc(()=>{var d=n??t.appendChild(Lr());return Lt(()=>{if(s){we({});var f=Me;f.c=s}i&&(r.$$events=i),c=e(d,r)||{},s&&_e()}),()=>{for(var f of a){t.removeEventListener(f,Sn);var h=Qt.get(f);--h===0?(document.removeEventListener(f,Sn),Qt.delete(f)):Qt.set(f,h)}fo.delete(l),d!==n&&d.parentNode?.removeChild(d)}});return ad.set(c,u),c}let ad=new WeakMap;function Fe(e,t,[n,r]=[0,0]){var i=e,s=null,o=null,a=qe,l=n>0?Wn:0,c=!1;const u=(f,h=!0)=>{c=!0,d(h,f)},d=(f,h)=>{a!==(a=f)&&(a?(s?$r(s):h&&(s=Lt(()=>h(i))),o&&Tn(o,()=>{o=null})):(o?$r(o):h&&(o=Lt(()=>h(i,[n+1,r]))),s&&Tn(s,()=>{s=null})))};wn(()=>{c=!1,t(u),c||d(null,null)},l)}function ld(e,t,n,r){for(var i=[],s=t.length,o=0;o<s;o++)Ro(t[o].e,i,!0);var a=s>0&&i.length===0&&n!==null;if(a){var l=n.parentNode;Ac(l),l.append(n),r.clear(),It(e,t[0].prev,t[s-1].next)}_l(i,()=>{for(var c=0;c<s;c++){var u=t[c];a||(r.delete(u.k),It(e,u.prev,u.next)),$t(u.e,!a)}})}function Lo(e,t,n,r,i,s=null){var o=e,a={flags:t,items:new Map,first:null},l=(t&ol)!==0;if(l){var c=e;o=c.appendChild(Lr())}var u=null,d=!1,f=ul(()=>{var h=n();return Tr(h)?h:h==null?[]:No(h)});wn(()=>{var h=$(f),g=h.length;d&&g===0||(d=g===0,ud(h,a,o,i,t,r,n),s!==null&&(g===0?u?$r(u):u=Lt(()=>s(o)):u!==null&&Tn(u,()=>{u=null})),$(f))})}function ud(e,t,n,r,i,s,o){var a=(i&vc)!==0,l=(i&(Oo|Ao))!==0,c=e.length,u=t.items,d=t.first,f=d,h,g=null,w,v=[],m=[],E,x,b,N;if(a)for(N=0;N<c;N+=1)E=e[N],x=s(E,N),b=u.get(x),b!==void 0&&(b.a?.measure(),(w??=new Set).add(b));for(N=0;N<c;N+=1){if(E=e[N],x=s(E,N),b=u.get(x),b===void 0){var S=f?f.e.nodes_start:n;g=dd(S,t,g,g===null?t.first:g.next,E,x,N,r,i,o),u.set(x,g),v=[],m=[],f=g.next;continue}if(l&&cd(b,E,N,i),(b.e.f&xt)!==0&&($r(b.e),a&&(b.a?.unfix(),(w??=new Set).delete(b))),b!==f){if(h!==void 0&&h.has(b)){if(v.length<m.length){var D=m[0],k;g=D.prev;var I=v[0],M=v[v.length-1];for(k=0;k<v.length;k+=1)as(v[k],D,n);for(k=0;k<m.length;k+=1)h.delete(m[k]);It(t,I.prev,M.next),It(t,g,I),It(t,M,D),f=D,g=M,N-=1,v=[],m=[]}else h.delete(b),as(b,f,n),It(t,b.prev,b.next),It(t,b,g===null?t.first:g.next),It(t,g,b),g=b;continue}for(v=[],m=[];f!==null&&f.k!==x;)(f.e.f&xt)===0&&(h??=new Set).add(f),m.push(f),f=f.next;if(f===null)continue;b=f}v.push(b),g=b,f=b.next}if(f!==null||h!==void 0){for(var y=h===void 0?[]:No(h);f!==null;)(f.e.f&xt)===0&&y.push(f),f=f.next;var _=y.length;if(_>0){var C=(i&ol)!==0&&c===0?n:null;if(a){for(N=0;N<_;N+=1)y[N].a?.measure();for(N=0;N<_;N+=1)y[N].a?.fix()}ld(t,y,C,u)}}a&&Fr(()=>{if(w!==void 0)for(b of w)b.a?.apply()}),Te.first=t.first&&t.first.e,Te.last=g&&g.e}function cd(e,t,n,r){(r&Oo)!==0&&lo(e.v,t),(r&Ao)!==0?lo(e.i,n):e.i=n}function dd(e,t,n,r,i,s,o,a,l,c){var u=(l&Oo)!==0,d=(l&mc)===0,f=u?d?To(i):an(i):i,h=(l&Ao)===0?o:an(o),g={i:h,v:f,k:s,a:null,e:null,prev:n,next:r};try{return g.e=Lt(()=>a(e,f,h,c),Ic),g.e.prev=n&&n.e,g.e.next=r&&r.e,n===null?t.first=g:(n.next=g,n.e.next=g.e),r!==null&&(r.prev=g,r.e.prev=g.e),g}finally{}}function as(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,i=t?t.e.nodes_start:n,s=e.e.nodes_start;s!==r;){var o=Vr(s);i.before(s),s=o}}function It(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function Pt(e,t,...n){var r=e,i=Ze,s;wn(()=>{i!==(i=t())&&(s&&($t(s),s=null),s=Lt(()=>i(r,...n)))},Wn)}function Vo(e,t,n){var r=e,i,s;wn(()=>{i!==(i=t())&&(s&&(Tn(s),s=null),i&&(s=Lt(()=>n(r,i))))},Wn)}function Be(e,t,n){bn(()=>{var r=Ye(()=>t(e,n?.())||{});if(n&&r?.update){var i=!1,s={};Yr(()=>{var o=n();Ol(o),i&&Co(s,o)&&(s=o,r.update(o))}),i=!0}if(r?.destroy)return()=>r.destroy()})}function fd(e,t){var n=void 0,r;wn(()=>{n!==(n=t())&&(r&&($t(r),r=null),n&&(r=Lt(()=>{bn(()=>n(e))})))})}function Dl(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=Dl(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function hd(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=Dl(e))&&(r&&(r+=" "),r+=t);return r}function Ct(e){return typeof e=="object"?hd(e):e??""}const ls=[...` 	
\r\fÂ \v\uFEFF`];function $d(e,t,n){var r=e==null?"":""+e;if(t&&(r=r?r+" "+t:t),n){for(var i in n)if(n[i])r=r?r+" "+i:i;else if(r.length)for(var s=i.length,o=0;(o=r.indexOf(i,o))>=0;){var a=o+s;(o===0||ls.includes(r[o-1]))&&(a===r.length||ls.includes(r[a]))?r=(o===0?"":r.substring(0,o))+r.substring(a+1):o=a}}return r===""?null:r}function us(e,t=!1){var n=t?" !important;":";",r="";for(var i in e){var s=e[i];s!=null&&s!==""&&(r+=" "+i+": "+s+n)}return r}function ii(e){return e[0]!=="-"||e[1]!=="-"?e.toLowerCase():e}function gd(e,t){if(t){var n="",r,i;if(Array.isArray(t)?(r=t[0],i=t[1]):r=t,e){e=String(e).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var s=!1,o=0,a=!1,l=[];r&&l.push(...Object.keys(r).map(ii)),i&&l.push(...Object.keys(i).map(ii));var c=0,u=-1;const w=e.length;for(var d=0;d<w;d++){var f=e[d];if(a?f==="/"&&e[d-1]==="*"&&(a=!1):s?s===f&&(s=!1):f==="/"&&e[d+1]==="*"?a=!0:f==='"'||f==="'"?s=f:f==="("?o++:f===")"&&o--,!a&&s===!1&&o===0){if(f===":"&&u===-1)u=d;else if(f===";"||d===w-1){if(u!==-1){var h=ii(e.substring(c,u).trim());if(!l.includes(h)){f!==";"&&d++;var g=e.substring(c,d).trim();n+=" "+g+";"}}c=d+1,u=-1}}}}return r&&(n+=us(r)),i&&(n+=us(i,!0)),n=n.trim(),n===""?null:n}return e==null?null:String(e)}function lt(e,t,n,r,i,s){var o=e.__className;if(o!==n||o===void 0){var a=$d(n,r,s);a==null?e.removeAttribute("class"):t?e.className=a:e.setAttribute("class",a),e.__className=n}else if(s&&i!==s)for(var l in s){var c=!!s[l];(i==null||c!==!!i[l])&&e.classList.toggle(l,c)}return s}function oi(e,t={},n,r){for(var i in n){var s=n[i];t[i]!==s&&(n[i]==null?e.style.removeProperty(i):e.style.setProperty(i,s,r))}}function et(e,t,n,r){var i=e.__style;if(i!==t){var s=gd(t,r);s==null?e.removeAttribute("style"):e.style.cssText=s,e.__style=t}else r&&(Array.isArray(r)?(oi(e,n?.[0],r[0]),oi(e,n?.[1],r[1],"important")):oi(e,n,r));return r}const tn=Symbol("class"),At=Symbol("style"),Rl=Symbol("is custom element"),zl=Symbol("is html");function pd(e,t){t?e.hasAttribute("selected")||e.setAttribute("selected",""):e.removeAttribute("selected")}function ye(e,t,n,r){var i=Hl(e);i[t]!==(i[t]=n)&&(t==="loading"&&(e[sc]=n),n==null?e.removeAttribute(t):typeof n!="string"&&Ll(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function Kn(e,t,n,r,i=!1){var s=Hl(e),o=s[Rl],a=!s[zl],l=t||{},c=e.tagName==="OPTION";for(var u in t)u in n||(n[u]=null);n.class?n.class=Ct(n.class):(r||n[tn])&&(n.class=null),n[At]&&(n.style??=null);var d=Ll(e);for(const x in n){let b=n[x];if(c&&x==="value"&&b==null){e.value=e.__value="",l[x]=b;continue}if(x==="class"){var f=e.namespaceURI==="http://www.w3.org/1999/xhtml";lt(e,f,b,r,t?.[tn],n[tn]),l[x]=b,l[tn]=n[tn];continue}if(x==="style"){et(e,b,t?.[At],n[At]),l[x]=b,l[At]=n[At];continue}var h=l[x];if(b!==h){l[x]=b;var g=x[0]+x[1];if(g!=="$$")if(g==="on"){const N={},S="$$"+x;let D=x.slice(2);var w=Uc(D);if(Gc(D)&&(D=D.slice(0,-7),N.capture=!0),!w&&h){if(b!=null)continue;e.removeEventListener(D,l[S],N),l[S]=null}if(b!=null)if(w)e[`__${D}`]=b,jt([D]);else{let k=function(I){l[x].call(this,I)};var E=k;l[S]=Ho(D,e,k,N)}else w&&(e[`__${D}`]=void 0)}else if(x==="style")ye(e,x,b);else if(x==="autofocus")nd(e,!!b);else if(!o&&(x==="__value"||x==="value"&&b!=null))e.value=e.__value=b;else if(x==="selected"&&c)pd(e,b);else{var v=x;a||(v=Jc(v));var m=v==="defaultValue"||v==="defaultChecked";if(b==null&&!o&&!m)if(s[x]=null,v==="value"||v==="checked"){let N=e;const S=t===void 0;if(v==="value"){let D=N.defaultValue;N.removeAttribute(v),N.defaultValue=D,N.value=N.__value=S?D:null}else{let D=N.defaultChecked;N.removeAttribute(v),N.defaultChecked=D,N.checked=S?D:!1}}else e.removeAttribute(x);else m||d.includes(v)&&(o||typeof b!="string")?e[v]=b:typeof b!="function"&&ye(e,v,b)}}}for(let x of Object.getOwnPropertySymbols(n))x.description===Sc&&fd(e,()=>n[x]);return l}function Hl(e){return e.__attributes??={[Rl]:e.nodeName.includes("-"),[zl]:e.namespaceURI===kc}}var cs=new Map;function Ll(e){var t=cs.get(e.nodeName);if(t)return t;cs.set(e.nodeName,t=[]);for(var n,r=e,i=Element.prototype;i!==r;){n=Ja(r);for(var s in n)n[s].set&&t.push(s);r=Dr(r)}return t}class Yo{#e=new WeakMap;#t;#n;static entries=new WeakMap;constructor(t){this.#n=t}observe(t,n){var r=this.#e.get(t)||new Set;return r.add(n),this.#e.set(t,r),this.#r().observe(t,this.#n),()=>{var i=this.#e.get(t);i.delete(n),i.size===0&&(this.#e.delete(t),this.#t.unobserve(t))}}#r(){return this.#t??(this.#t=new ResizeObserver(t=>{for(var n of t){Yo.entries.set(n.target,n);for(var r of this.#e.get(n.target)||[])r(n)}}))}}var vd=new Yo({box:"border-box"});function yr(e,t,n){var r=vd.observe(e,()=>n(e[t]));bn(()=>(Ye(()=>n(e[t])),r))}function ds(e,t){return e===t||e?.[Dt]===t}function _n(e={},t,n,r){return bn(()=>{var i,s;return Yr(()=>{i=s,s=[],Ye(()=>{e!==n(...s)&&(t(e,...s),i&&ds(n(...i),e)&&t(null,...i))})}),()=>{Fr(()=>{s&&ds(n(...s),e)&&t(null,...s)})}}),e}function md(e=!1){const t=Me,n=t.l.u;if(!n)return;let r=()=>Ol(t.s);if(e){let i=0,s={};const o=sn(()=>{let a=!1;const l=t.s;for(const c in l)l[c]!==s[c]&&(s[c]=l[c],a=!0);return a&&i++,i});r=()=>$(o)}n.b.length&&ml(()=>{fs(t,r),dr(n.b)}),Ht(()=>{const i=Ye(()=>n.m.map(nc));return()=>{for(const s of i)typeof s=="function"&&s()}}),n.a.length&&Ht(()=>{fs(t,r),dr(n.a)})}function fs(e,t){if(e.l.s)for(const n of e.l.s)$(n);t()}function Vl(e,t,n){if(e==null)return t(void 0),Ze;const r=Ye(()=>e.subscribe(t,n));return r.unsubscribe?()=>r.unsubscribe():r}const Jt=[];function hs(e,t=Ze){let n=null;const r=new Set;function i(a){if(Co(e,a)&&(e=a,n)){const l=!Jt.length;for(const c of r)c[1](),Jt.push(c,e);if(l){for(let c=0;c<Jt.length;c+=2)Jt[c][0](Jt[c+1]);Jt.length=0}}}function s(a){i(a(e))}function o(a,l=Ze){const c=[a,l];return r.add(c),r.size===1&&(n=t(i,s)||Ze),a(e),()=>{r.delete(c),r.size===0&&n&&(n(),n=null)}}return{set:i,update:s,subscribe:o}}function yd(e){let t;return Vl(e,n=>t=n)(),t}let Nn=!1,$o=Symbol();function $s(e,t,n){const r=n[t]??={store:null,source:To(void 0),unsubscribe:Ze};if(r.store!==e&&!($o in n))if(r.unsubscribe(),r.store=e??null,e==null)r.source.v=void 0,r.unsubscribe=Ze;else{var i=!0;r.unsubscribe=Vl(e,s=>{i?r.source.v=s:q(r.source,s)}),i=!1}return e&&$o in n?yd(e):$(r.source)}function gs(e,t){return e.set(t),t}function bd(){const e={};function t(){Do(()=>{for(var n in e)e[n].unsubscribe();Qa(e,$o,{enumerable:!1,value:!0})})}return[e,t]}function ps(){Nn=!0}function wd(e){var t=Nn;try{return Nn=!1,[e(),Nn]}finally{Nn=t}}const _d={get(e,t){if(!e.exclude.includes(t))return e.props[t]},set(e,t){return!1},getOwnPropertyDescriptor(e,t){if(!e.exclude.includes(t)&&t in e.props)return{enumerable:!0,configurable:!0,value:e.props[t]}},has(e,t){return e.exclude.includes(t)?!1:t in e.props},ownKeys(e){return Reflect.ownKeys(e.props).filter(t=>!e.exclude.includes(t))}};function jn(e,t,n){return new Proxy({props:e,exclude:t},_d)}const xd={get(e,t){let n=e.props.length;for(;n--;){let r=e.props[n];if(xn(r)&&(r=r()),typeof r=="object"&&r!==null&&t in r)return r[t]}},set(e,t,n){let r=e.props.length;for(;r--;){let i=e.props[r];xn(i)&&(i=i());const s=Tt(i,t);if(s&&s.set)return s.set(n),!0}return!1},getOwnPropertyDescriptor(e,t){let n=e.props.length;for(;n--;){let r=e.props[n];if(xn(r)&&(r=r()),typeof r=="object"&&r!==null&&t in r){const i=Tt(r,t);return i&&!i.configurable&&(i.configurable=!0),i}}},has(e,t){if(t===Dt||t===rl)return!1;for(let n of e.props)if(xn(n)&&(n=n()),n!=null&&t in n)return!0;return!1},ownKeys(e){const t=[];for(let n of e.props)if(xn(n)&&(n=n()),!!n){for(const r in n)t.includes(r)||t.push(r);for(const r of Object.getOwnPropertySymbols(n))t.includes(r)||t.push(r)}return t}};function Ed(...e){return new Proxy({props:e},xd)}function vs(e){return e.ctx?.d??!1}function J(e,t,n,r){var i=(n&yc)!==0,s=!mn||(n&bc)!==0,o=(n&_c)!==0,a=(n&xc)!==0,l=!1,c;o?[c,l]=wd(()=>e[t]):c=e[t];var u=Dt in e||rl in e,d=o&&(Tt(e,t)?.set??(u&&t in e&&(S=>e[t]=S)))||void 0,f=r,h=!0,g=!1,w=()=>(g=!0,h&&(h=!1,a?f=Ye(r):f=r),f);c===void 0&&r!==void 0&&(d&&s&&dc(),c=w(),d&&d(c));var v;if(s)v=()=>{var S=e[t];return S===void 0?w():(h=!0,g=!1,S)};else{var m=(i?sn:ul)(()=>e[t]);m.f|=ic,v=()=>{var S=$(m);return S!==void 0&&(f=void 0),S===void 0?f:S}}if((n&wc)===0)return v;if(d){var E=e.$$legacy;return function(S,D){return arguments.length>0?((!s||!D||E||l)&&d(D?v():S),S):v()}}var x=!1,b=To(c),N=sn(()=>{var S=v(),D=$(b);return x?(x=!1,D):b.v=S});return o&&$(N),i||(N.equals=Io),function(S,D){if(arguments.length>0){const k=D?$(N):s&&o?Ge(S):S;if(!N.equals(k)){if(x=!0,q(b,k),g&&f!==void 0&&(f=k),vs(N))return S;Ye(()=>$(N))}return S}return vs(N)?N.v:$(N)}}function Yl(e){Me===null&&Mo(),mn&&Me.l!==null?kd(Me).m.push(e):Ht(()=>{const t=Ye(e);if(typeof t=="function")return t})}function Br(e){Me===null&&Mo(),Yl(()=>()=>Ye(e))}function kd(e){var t=e.l;return t.u??={a:[],b:[],m:[]}}const Sd="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(Sd);pc();var Nd={value:()=>{}};function Xr(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new ar(n)}function ar(e){this._=e}function Pd(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}ar.prototype=Xr.prototype={constructor:ar,on:function(e,t){var n=this._,r=Pd(e+"",n),i,s=-1,o=r.length;if(arguments.length<2){for(;++s<o;)if((i=(e=r[s]).type)&&(i=Cd(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<o;)if(i=(e=r[s]).type)n[i]=ms(n[i],e.name,t);else if(t==null)for(i in n)n[i]=ms(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new ar(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],r=0,i=s.length;r<i;++r)s[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,s=r.length;i<s;++i)r[i].value.apply(t,n)}};function Cd(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function ms(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=Nd,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var go="http://www.w3.org/1999/xhtml";const ys={svg:"http://www.w3.org/2000/svg",xhtml:go,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Kr(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),ys.hasOwnProperty(t)?{space:ys[t],local:e}:e}function Id(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===go&&t.documentElement.namespaceURI===go?t.createElement(e):t.createElementNS(n,e)}}function Od(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Fl(e){var t=Kr(e);return(t.local?Od:Id)(t)}function Ad(){}function Fo(e){return e==null?Ad:function(){return this.querySelector(e)}}function Md(e){typeof e!="function"&&(e=Fo(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],o=s.length,a=r[i]=new Array(o),l,c,u=0;u<o;++u)(l=s[u])&&(c=e.call(l,l.__data__,u,s))&&("__data__"in l&&(c.__data__=l.__data__),a[u]=c);return new Qe(r,this._parents)}function Td(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Dd(){return[]}function ql(e){return e==null?Dd:function(){return this.querySelectorAll(e)}}function Rd(e){return function(){return Td(e.apply(this,arguments))}}function zd(e){typeof e=="function"?e=Rd(e):e=ql(e);for(var t=this._groups,n=t.length,r=[],i=[],s=0;s<n;++s)for(var o=t[s],a=o.length,l,c=0;c<a;++c)(l=o[c])&&(r.push(e.call(l,l.__data__,c,o)),i.push(l));return new Qe(r,i)}function Wl(e){return function(){return this.matches(e)}}function Bl(e){return function(t){return t.matches(e)}}var Hd=Array.prototype.find;function Ld(e){return function(){return Hd.call(this.children,e)}}function Vd(){return this.firstElementChild}function Yd(e){return this.select(e==null?Vd:Ld(typeof e=="function"?e:Bl(e)))}var Fd=Array.prototype.filter;function qd(){return Array.from(this.children)}function Wd(e){return function(){return Fd.call(this.children,e)}}function Bd(e){return this.selectAll(e==null?qd:Wd(typeof e=="function"?e:Bl(e)))}function Xd(e){typeof e!="function"&&(e=Wl(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],o=s.length,a=r[i]=[],l,c=0;c<o;++c)(l=s[c])&&e.call(l,l.__data__,c,s)&&a.push(l);return new Qe(r,this._parents)}function Xl(e){return new Array(e.length)}function Kd(){return new Qe(this._enter||this._groups.map(Xl),this._parents)}function br(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}br.prototype={constructor:br,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function jd(e){return function(){return e}}function Gd(e,t,n,r,i,s){for(var o=0,a,l=t.length,c=s.length;o<c;++o)(a=t[o])?(a.__data__=s[o],r[o]=a):n[o]=new br(e,s[o]);for(;o<l;++o)(a=t[o])&&(i[o]=a)}function Zd(e,t,n,r,i,s,o){var a,l,c=new Map,u=t.length,d=s.length,f=new Array(u),h;for(a=0;a<u;++a)(l=t[a])&&(f[a]=h=o.call(l,l.__data__,a,t)+"",c.has(h)?i[a]=l:c.set(h,l));for(a=0;a<d;++a)h=o.call(e,s[a],a,s)+"",(l=c.get(h))?(r[a]=l,l.__data__=s[a],c.delete(h)):n[a]=new br(e,s[a]);for(a=0;a<u;++a)(l=t[a])&&c.get(f[a])===l&&(i[a]=l)}function Ud(e){return e.__data__}function Qd(e,t){if(!arguments.length)return Array.from(this,Ud);var n=t?Zd:Gd,r=this._parents,i=this._groups;typeof e!="function"&&(e=jd(e));for(var s=i.length,o=new Array(s),a=new Array(s),l=new Array(s),c=0;c<s;++c){var u=r[c],d=i[c],f=d.length,h=Jd(e.call(u,u&&u.__data__,c,r)),g=h.length,w=a[c]=new Array(g),v=o[c]=new Array(g),m=l[c]=new Array(f);n(u,d,w,v,m,h,t);for(var E=0,x=0,b,N;E<g;++E)if(b=w[E]){for(E>=x&&(x=E+1);!(N=v[x])&&++x<g;);b._next=N||null}}return o=new Qe(o,r),o._enter=a,o._exit=l,o}function Jd(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function ef(){return new Qe(this._exit||this._groups.map(Xl),this._parents)}function tf(e,t,n){var r=this.enter(),i=this,s=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function nf(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,s=r.length,o=Math.min(i,s),a=new Array(i),l=0;l<o;++l)for(var c=n[l],u=r[l],d=c.length,f=a[l]=new Array(d),h,g=0;g<d;++g)(h=c[g]||u[g])&&(f[g]=h);for(;l<i;++l)a[l]=n[l];return new Qe(a,this._parents)}function rf(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,s=r[i],o;--i>=0;)(o=r[i])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function of(e){e||(e=sf);function t(d,f){return d&&f?e(d.__data__,f.__data__):!d-!f}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var o=n[s],a=o.length,l=i[s]=new Array(a),c,u=0;u<a;++u)(c=o[u])&&(l[u]=c);l.sort(t)}return new Qe(i,this._parents).order()}function sf(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function af(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function lf(){return Array.from(this)}function uf(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,s=r.length;i<s;++i){var o=r[i];if(o)return o}return null}function cf(){let e=0;for(const t of this)++e;return e}function df(){return!this.node()}function ff(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],s=0,o=i.length,a;s<o;++s)(a=i[s])&&e.call(a,a.__data__,s,i);return this}function hf(e){return function(){this.removeAttribute(e)}}function $f(e){return function(){this.removeAttributeNS(e.space,e.local)}}function gf(e,t){return function(){this.setAttribute(e,t)}}function pf(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function vf(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function mf(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function yf(e,t){var n=Kr(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?$f:hf:typeof t=="function"?n.local?mf:vf:n.local?pf:gf)(n,t))}function Kl(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function bf(e){return function(){this.style.removeProperty(e)}}function wf(e,t,n){return function(){this.style.setProperty(e,t,n)}}function _f(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function xf(e,t,n){return arguments.length>1?this.each((t==null?bf:typeof t=="function"?_f:wf)(e,t,n??"")):cn(this.node(),e)}function cn(e,t){return e.style.getPropertyValue(t)||Kl(e).getComputedStyle(e,null).getPropertyValue(t)}function Ef(e){return function(){delete this[e]}}function kf(e,t){return function(){this[e]=t}}function Sf(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Nf(e,t){return arguments.length>1?this.each((t==null?Ef:typeof t=="function"?Sf:kf)(e,t)):this.node()[e]}function jl(e){return e.trim().split(/^|\s+/)}function qo(e){return e.classList||new Gl(e)}function Gl(e){this._node=e,this._names=jl(e.getAttribute("class")||"")}Gl.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Zl(e,t){for(var n=qo(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function Ul(e,t){for(var n=qo(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function Pf(e){return function(){Zl(this,e)}}function Cf(e){return function(){Ul(this,e)}}function If(e,t){return function(){(t.apply(this,arguments)?Zl:Ul)(this,e)}}function Of(e,t){var n=jl(e+"");if(arguments.length<2){for(var r=qo(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?If:t?Pf:Cf)(n,t))}function Af(){this.textContent=""}function Mf(e){return function(){this.textContent=e}}function Tf(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Df(e){return arguments.length?this.each(e==null?Af:(typeof e=="function"?Tf:Mf)(e)):this.node().textContent}function Rf(){this.innerHTML=""}function zf(e){return function(){this.innerHTML=e}}function Hf(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Lf(e){return arguments.length?this.each(e==null?Rf:(typeof e=="function"?Hf:zf)(e)):this.node().innerHTML}function Vf(){this.nextSibling&&this.parentNode.appendChild(this)}function Yf(){return this.each(Vf)}function Ff(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function qf(){return this.each(Ff)}function Wf(e){var t=typeof e=="function"?e:Fl(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Bf(){return null}function Xf(e,t){var n=typeof e=="function"?e:Fl(e),r=t==null?Bf:typeof t=="function"?t:Fo(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Kf(){var e=this.parentNode;e&&e.removeChild(this)}function jf(){return this.each(Kf)}function Gf(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Zf(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Uf(e){return this.select(e?Zf:Gf)}function Qf(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Jf(e){return function(t){e.call(this,t,this.__data__)}}function eh(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function th(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,s;n<i;++n)s=t[n],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++r]=s;++r?t.length=r:delete this.__on}}}function nh(e,t,n){return function(){var r=this.__on,i,s=Jf(t);if(r){for(var o=0,a=r.length;o<a;++o)if((i=r[o]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=t;return}}this.addEventListener(e.type,s,n),i={type:e.type,name:e.name,value:t,listener:s,options:n},r?r.push(i):this.__on=[i]}}function rh(e,t,n){var r=eh(e+""),i,s=r.length,o;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,c=a.length,u;l<c;++l)for(i=0,u=a[l];i<s;++i)if((o=r[i]).type===u.type&&o.name===u.name)return u.value}return}for(a=t?nh:th,i=0;i<s;++i)this.each(a(r[i],t,n));return this}function Ql(e,t,n){var r=Kl(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function ih(e,t){return function(){return Ql(this,e,t)}}function oh(e,t){return function(){return Ql(this,e,t.apply(this,arguments))}}function sh(e,t){return this.each((typeof t=="function"?oh:ih)(e,t))}function*ah(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,s=r.length,o;i<s;++i)(o=r[i])&&(yield o)}var Jl=[null];function Qe(e,t){this._groups=e,this._parents=t}function Gn(){return new Qe([[document.documentElement]],Jl)}function lh(){return this}Qe.prototype=Gn.prototype={constructor:Qe,select:Md,selectAll:zd,selectChild:Yd,selectChildren:Bd,filter:Xd,data:Qd,enter:Kd,exit:ef,join:tf,merge:nf,selection:lh,order:rf,sort:of,call:af,nodes:lf,node:uf,size:cf,empty:df,each:ff,attr:yf,style:xf,property:Nf,classed:Of,text:Df,html:Lf,raise:Yf,lower:qf,append:Wf,insert:Xf,remove:jf,clone:Uf,datum:Qf,on:rh,dispatch:sh,[Symbol.iterator]:ah};function rt(e){return typeof e=="string"?new Qe([[document.querySelector(e)]],[document.documentElement]):new Qe([[e]],Jl)}function uh(e){let t;for(;t=e.sourceEvent;)e=t;return e}function dt(e,t){if(e=uh(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}const ch={passive:!1},Rn={capture:!0,passive:!1};function si(e){e.stopImmediatePropagation()}function rn(e){e.preventDefault(),e.stopImmediatePropagation()}function eu(e){var t=e.document.documentElement,n=rt(e).on("dragstart.drag",rn,Rn);"onselectstart"in t?n.on("selectstart.drag",rn,Rn):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function tu(e,t){var n=e.document.documentElement,r=rt(e).on("dragstart.drag",null);t&&(r.on("click.drag",rn,Rn),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Jn=e=>()=>e;function po(e,{sourceEvent:t,subject:n,target:r,identifier:i,active:s,x:o,y:a,dx:l,dy:c,dispatch:u}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:u}})}po.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function dh(e){return!e.ctrlKey&&!e.button}function fh(){return this.parentNode}function hh(e,t){return t??{x:e.x,y:e.y}}function $h(){return navigator.maxTouchPoints||"ontouchstart"in this}function gh(){var e=dh,t=fh,n=hh,r=$h,i={},s=Xr("start","drag","end"),o=0,a,l,c,u,d=0;function f(b){b.on("mousedown.drag",h).filter(r).on("touchstart.drag",v).on("touchmove.drag",m,ch).on("touchend.drag touchcancel.drag",E).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(b,N){if(!(u||!e.call(this,b,N))){var S=x(this,t.call(this,b,N),b,N,"mouse");S&&(rt(b.view).on("mousemove.drag",g,Rn).on("mouseup.drag",w,Rn),eu(b.view),si(b),c=!1,a=b.clientX,l=b.clientY,S("start",b))}}function g(b){if(rn(b),!c){var N=b.clientX-a,S=b.clientY-l;c=N*N+S*S>d}i.mouse("drag",b)}function w(b){rt(b.view).on("mousemove.drag mouseup.drag",null),tu(b.view,c),rn(b),i.mouse("end",b)}function v(b,N){if(e.call(this,b,N)){var S=b.changedTouches,D=t.call(this,b,N),k=S.length,I,M;for(I=0;I<k;++I)(M=x(this,D,b,N,S[I].identifier,S[I]))&&(si(b),M("start",b,S[I]))}}function m(b){var N=b.changedTouches,S=N.length,D,k;for(D=0;D<S;++D)(k=i[N[D].identifier])&&(rn(b),k("drag",b,N[D]))}function E(b){var N=b.changedTouches,S=N.length,D,k;for(u&&clearTimeout(u),u=setTimeout(function(){u=null},500),D=0;D<S;++D)(k=i[N[D].identifier])&&(si(b),k("end",b,N[D]))}function x(b,N,S,D,k,I){var M=s.copy(),y=dt(I||S,N),_,C,p;if((p=n.call(b,new po("beforestart",{sourceEvent:S,target:f,identifier:k,active:o,x:y[0],y:y[1],dx:0,dy:0,dispatch:M}),D))!=null)return _=p.x-y[0]||0,C=p.y-y[1]||0,function P(O,L,W){var X=y,G;switch(O){case"start":i[k]=P,G=o++;break;case"end":delete i[k],--o;case"drag":y=dt(W||L,N),G=o;break}M.call(O,b,new po(O,{sourceEvent:L,subject:p,target:f,identifier:k,active:G,x:y[0]+_,y:y[1]+C,dx:y[0]-X[0],dy:y[1]-X[1],dispatch:M}),D)}}return f.filter=function(b){return arguments.length?(e=typeof b=="function"?b:Jn(!!b),f):e},f.container=function(b){return arguments.length?(t=typeof b=="function"?b:Jn(b),f):t},f.subject=function(b){return arguments.length?(n=typeof b=="function"?b:Jn(b),f):n},f.touchable=function(b){return arguments.length?(r=typeof b=="function"?b:Jn(!!b),f):r},f.on=function(){var b=s.on.apply(s,arguments);return b===s?f:b},f.clickDistance=function(b){return arguments.length?(d=(b=+b)*b,f):Math.sqrt(d)},f}function Wo(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function nu(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Zn(){}var zn=.7,wr=1/zn,on="\\s*([+-]?\\d+)\\s*",Hn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ft="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ph=/^#([0-9a-f]{3,8})$/,vh=new RegExp(`^rgb\\(${on},${on},${on}\\)$`),mh=new RegExp(`^rgb\\(${ft},${ft},${ft}\\)$`),yh=new RegExp(`^rgba\\(${on},${on},${on},${Hn}\\)$`),bh=new RegExp(`^rgba\\(${ft},${ft},${ft},${Hn}\\)$`),wh=new RegExp(`^hsl\\(${Hn},${ft},${ft}\\)$`),_h=new RegExp(`^hsla\\(${Hn},${ft},${ft},${Hn}\\)$`),bs={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Wo(Zn,Ln,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:ws,formatHex:ws,formatHex8:xh,formatHsl:Eh,formatRgb:_s,toString:_s});function ws(){return this.rgb().formatHex()}function xh(){return this.rgb().formatHex8()}function Eh(){return ru(this).formatHsl()}function _s(){return this.rgb().formatRgb()}function Ln(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=ph.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?xs(t):n===3?new Xe(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?er(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?er(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=vh.exec(e))?new Xe(t[1],t[2],t[3],1):(t=mh.exec(e))?new Xe(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=yh.exec(e))?er(t[1],t[2],t[3],t[4]):(t=bh.exec(e))?er(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=wh.exec(e))?Ss(t[1],t[2]/100,t[3]/100,1):(t=_h.exec(e))?Ss(t[1],t[2]/100,t[3]/100,t[4]):bs.hasOwnProperty(e)?xs(bs[e]):e==="transparent"?new Xe(NaN,NaN,NaN,0):null}function xs(e){return new Xe(e>>16&255,e>>8&255,e&255,1)}function er(e,t,n,r){return r<=0&&(e=t=n=NaN),new Xe(e,t,n,r)}function kh(e){return e instanceof Zn||(e=Ln(e)),e?(e=e.rgb(),new Xe(e.r,e.g,e.b,e.opacity)):new Xe}function vo(e,t,n,r){return arguments.length===1?kh(e):new Xe(e,t,n,r??1)}function Xe(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Wo(Xe,vo,nu(Zn,{brighter(e){return e=e==null?wr:Math.pow(wr,e),new Xe(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?zn:Math.pow(zn,e),new Xe(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Xe(Wt(this.r),Wt(this.g),Wt(this.b),_r(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Es,formatHex:Es,formatHex8:Sh,formatRgb:ks,toString:ks}));function Es(){return`#${Ft(this.r)}${Ft(this.g)}${Ft(this.b)}`}function Sh(){return`#${Ft(this.r)}${Ft(this.g)}${Ft(this.b)}${Ft((isNaN(this.opacity)?1:this.opacity)*255)}`}function ks(){const e=_r(this.opacity);return`${e===1?"rgb(":"rgba("}${Wt(this.r)}, ${Wt(this.g)}, ${Wt(this.b)}${e===1?")":`, ${e})`}`}function _r(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Wt(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ft(e){return e=Wt(e),(e<16?"0":"")+e.toString(16)}function Ss(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new it(e,t,n,r)}function ru(e){if(e instanceof it)return new it(e.h,e.s,e.l,e.opacity);if(e instanceof Zn||(e=Ln(e)),!e)return new it;if(e instanceof it)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),s=Math.max(t,n,r),o=NaN,a=s-i,l=(s+i)/2;return a?(t===s?o=(n-r)/a+(n<r)*6:n===s?o=(r-t)/a+2:o=(t-n)/a+4,a/=l<.5?s+i:2-s-i,o*=60):a=l>0&&l<1?0:o,new it(o,a,l,e.opacity)}function Nh(e,t,n,r){return arguments.length===1?ru(e):new it(e,t,n,r??1)}function it(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Wo(it,Nh,nu(Zn,{brighter(e){return e=e==null?wr:Math.pow(wr,e),new it(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?zn:Math.pow(zn,e),new it(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Xe(ai(e>=240?e-240:e+120,i,r),ai(e,i,r),ai(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new it(Ns(this.h),tr(this.s),tr(this.l),_r(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=_r(this.opacity);return`${e===1?"hsl(":"hsla("}${Ns(this.h)}, ${tr(this.s)*100}%, ${tr(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Ns(e){return e=(e||0)%360,e<0?e+360:e}function tr(e){return Math.max(0,Math.min(1,e||0))}function ai(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const iu=e=>()=>e;function Ph(e,t){return function(n){return e+n*t}}function Ch(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Ih(e){return(e=+e)==1?ou:function(t,n){return n-t?Ch(t,n,e):iu(isNaN(t)?n:t)}}function ou(e,t){var n=t-e;return n?Ph(e,n):iu(isNaN(e)?t:e)}const Ps=function e(t){var n=Ih(t);function r(i,s){var o=n((i=vo(i)).r,(s=vo(s)).r),a=n(i.g,s.g),l=n(i.b,s.b),c=ou(i.opacity,s.opacity);return function(u){return i.r=o(u),i.g=a(u),i.b=l(u),i.opacity=c(u),i+""}}return r.gamma=e,r}(1);function Ot(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var mo=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,li=new RegExp(mo.source,"g");function Oh(e){return function(){return e}}function Ah(e){return function(t){return e(t)+""}}function Mh(e,t){var n=mo.lastIndex=li.lastIndex=0,r,i,s,o=-1,a=[],l=[];for(e=e+"",t=t+"";(r=mo.exec(e))&&(i=li.exec(t));)(s=i.index)>n&&(s=t.slice(n,s),a[o]?a[o]+=s:a[++o]=s),(r=r[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,l.push({i:o,x:Ot(r,i)})),n=li.lastIndex;return n<t.length&&(s=t.slice(n),a[o]?a[o]+=s:a[++o]=s),a.length<2?l[0]?Ah(l[0].x):Oh(t):(t=l.length,function(c){for(var u=0,d;u<t;++u)a[(d=l[u]).i]=d.x(c);return a.join("")})}var Cs=180/Math.PI,yo={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function su(e,t,n,r,i,s){var o,a,l;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),e*r<t*n&&(e=-e,t=-t,l=-l,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(t,e)*Cs,skewX:Math.atan(l)*Cs,scaleX:o,scaleY:a}}var nr;function Th(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?yo:su(t.a,t.b,t.c,t.d,t.e,t.f)}function Dh(e){return e==null||(nr||(nr=document.createElementNS("http://www.w3.org/2000/svg","g")),nr.setAttribute("transform",e),!(e=nr.transform.baseVal.consolidate()))?yo:(e=e.matrix,su(e.a,e.b,e.c,e.d,e.e,e.f))}function au(e,t,n,r){function i(c){return c.length?c.pop()+" ":""}function s(c,u,d,f,h,g){if(c!==d||u!==f){var w=h.push("translate(",null,t,null,n);g.push({i:w-4,x:Ot(c,d)},{i:w-2,x:Ot(u,f)})}else(d||f)&&h.push("translate("+d+t+f+n)}function o(c,u,d,f){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),f.push({i:d.push(i(d)+"rotate(",null,r)-2,x:Ot(c,u)})):u&&d.push(i(d)+"rotate("+u+r)}function a(c,u,d,f){c!==u?f.push({i:d.push(i(d)+"skewX(",null,r)-2,x:Ot(c,u)}):u&&d.push(i(d)+"skewX("+u+r)}function l(c,u,d,f,h,g){if(c!==d||u!==f){var w=h.push(i(h)+"scale(",null,",",null,")");g.push({i:w-4,x:Ot(c,d)},{i:w-2,x:Ot(u,f)})}else(d!==1||f!==1)&&h.push(i(h)+"scale("+d+","+f+")")}return function(c,u){var d=[],f=[];return c=e(c),u=e(u),s(c.translateX,c.translateY,u.translateX,u.translateY,d,f),o(c.rotate,u.rotate,d,f),a(c.skewX,u.skewX,d,f),l(c.scaleX,c.scaleY,u.scaleX,u.scaleY,d,f),c=u=null,function(h){for(var g=-1,w=f.length,v;++g<w;)d[(v=f[g]).i]=v.x(h);return d.join("")}}}var Rh=au(Th,"px, ","px)","deg)"),zh=au(Dh,", ",")",")"),Hh=1e-12;function Is(e){return((e=Math.exp(e))+1/e)/2}function Lh(e){return((e=Math.exp(e))-1/e)/2}function Vh(e){return((e=Math.exp(2*e))-1)/(e+1)}const Yh=function e(t,n,r){function i(s,o){var a=s[0],l=s[1],c=s[2],u=o[0],d=o[1],f=o[2],h=u-a,g=d-l,w=h*h+g*g,v,m;if(w<Hh)m=Math.log(f/c)/t,v=function(D){return[a+D*h,l+D*g,c*Math.exp(t*D*m)]};else{var E=Math.sqrt(w),x=(f*f-c*c+r*w)/(2*c*n*E),b=(f*f-c*c-r*w)/(2*f*n*E),N=Math.log(Math.sqrt(x*x+1)-x),S=Math.log(Math.sqrt(b*b+1)-b);m=(S-N)/t,v=function(D){var k=D*m,I=Is(N),M=c/(n*E)*(I*Vh(t*k+N)-Lh(N));return[a+M*h,l+M*g,c*I/Is(t*k+N)]}}return v.duration=m*1e3*t/Math.SQRT2,v}return i.rho=function(s){var o=Math.max(.001,+s),a=o*o,l=a*a;return e(o,a,l)},i}(Math.SQRT2,2,4);var dn=0,Pn=0,En=0,lu=1e3,xr,Cn,Er=0,Bt=0,jr=0,Vn=typeof performance=="object"&&performance.now?performance:Date,uu=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Bo(){return Bt||(uu(Fh),Bt=Vn.now()+jr)}function Fh(){Bt=0}function kr(){this._call=this._time=this._next=null}kr.prototype=cu.prototype={constructor:kr,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Bo():+n)+(t==null?0:+t),!this._next&&Cn!==this&&(Cn?Cn._next=this:xr=this,Cn=this),this._call=e,this._time=n,bo()},stop:function(){this._call&&(this._call=null,this._time=1/0,bo())}};function cu(e,t,n){var r=new kr;return r.restart(e,t,n),r}function qh(){Bo(),++dn;for(var e=xr,t;e;)(t=Bt-e._time)>=0&&e._call.call(void 0,t),e=e._next;--dn}function Os(){Bt=(Er=Vn.now())+jr,dn=Pn=0;try{qh()}finally{dn=0,Bh(),Bt=0}}function Wh(){var e=Vn.now(),t=e-Er;t>lu&&(jr-=t,Er=e)}function Bh(){for(var e,t=xr,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:xr=n);Cn=e,bo(r)}function bo(e){if(!dn){Pn&&(Pn=clearTimeout(Pn));var t=e-Bt;t>24?(e<1/0&&(Pn=setTimeout(Os,e-Vn.now()-jr)),En&&(En=clearInterval(En))):(En||(Er=Vn.now(),En=setInterval(Wh,lu)),dn=1,uu(Os))}}function As(e,t,n){var r=new kr;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var Xh=Xr("start","end","cancel","interrupt"),Kh=[],du=0,Ms=1,wo=2,lr=3,Ts=4,_o=5,ur=6;function Gr(e,t,n,r,i,s){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;jh(e,n,{name:t,index:r,group:i,on:Xh,tween:Kh,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:du})}function Xo(e,t){var n=ut(e,t);if(n.state>du)throw new Error("too late; already scheduled");return n}function vt(e,t){var n=ut(e,t);if(n.state>lr)throw new Error("too late; already running");return n}function ut(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function jh(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=cu(s,0,n.time);function s(c){n.state=Ms,n.timer.restart(o,n.delay,n.time),n.delay<=c&&o(c-n.delay)}function o(c){var u,d,f,h;if(n.state!==Ms)return l();for(u in r)if(h=r[u],h.name===n.name){if(h.state===lr)return As(o);h.state===Ts?(h.state=ur,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete r[u]):+u<t&&(h.state=ur,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete r[u])}if(As(function(){n.state===lr&&(n.state=Ts,n.timer.restart(a,n.delay,n.time),a(c))}),n.state=wo,n.on.call("start",e,e.__data__,n.index,n.group),n.state===wo){for(n.state=lr,i=new Array(f=n.tween.length),u=0,d=-1;u<f;++u)(h=n.tween[u].value.call(e,e.__data__,n.index,n.group))&&(i[++d]=h);i.length=d+1}}function a(c){for(var u=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(l),n.state=_o,1),d=-1,f=i.length;++d<f;)i[d].call(e,u);n.state===_o&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=ur,n.timer.stop(),delete r[t];for(var c in r)return;delete e.__transition}}function cr(e,t){var n=e.__transition,r,i,s=!0,o;if(n){t=t==null?null:t+"";for(o in n){if((r=n[o]).name!==t){s=!1;continue}i=r.state>wo&&r.state<_o,r.state=ur,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[o]}s&&delete e.__transition}}function Gh(e){return this.each(function(){cr(this,e)})}function Zh(e,t){var n,r;return function(){var i=vt(this,e),s=i.tween;if(s!==n){r=n=s;for(var o=0,a=r.length;o<a;++o)if(r[o].name===t){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function Uh(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=vt(this,e),o=s.tween;if(o!==r){i=(r=o).slice();for(var a={name:t,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===t){i[l]=a;break}l===c&&i.push(a)}s.tween=i}}function Qh(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=ut(this.node(),n).tween,i=0,s=r.length,o;i<s;++i)if((o=r[i]).name===e)return o.value;return null}return this.each((t==null?Zh:Uh)(n,e,t))}function Ko(e,t,n){var r=e._id;return e.each(function(){var i=vt(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return ut(i,r).value[t]}}function fu(e,t){var n;return(typeof t=="number"?Ot:t instanceof Ln?Ps:(n=Ln(t))?(t=n,Ps):Mh)(e,t)}function Jh(e){return function(){this.removeAttribute(e)}}function e$(e){return function(){this.removeAttributeNS(e.space,e.local)}}function t$(e,t,n){var r,i=n+"",s;return function(){var o=this.getAttribute(e);return o===i?null:o===r?s:s=t(r=o,n)}}function n$(e,t,n){var r,i=n+"",s;return function(){var o=this.getAttributeNS(e.space,e.local);return o===i?null:o===r?s:s=t(r=o,n)}}function r$(e,t,n){var r,i,s;return function(){var o,a=n(this),l;return a==null?void this.removeAttribute(e):(o=this.getAttribute(e),l=a+"",o===l?null:o===r&&l===i?s:(i=l,s=t(r=o,a)))}}function i$(e,t,n){var r,i,s;return function(){var o,a=n(this),l;return a==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),l=a+"",o===l?null:o===r&&l===i?s:(i=l,s=t(r=o,a)))}}function o$(e,t){var n=Kr(e),r=n==="transform"?zh:fu;return this.attrTween(e,typeof t=="function"?(n.local?i$:r$)(n,r,Ko(this,"attr."+e,t)):t==null?(n.local?e$:Jh)(n):(n.local?n$:t$)(n,r,t))}function s$(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function a$(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function l$(e,t){var n,r;function i(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&a$(e,s)),n}return i._value=t,i}function u$(e,t){var n,r;function i(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&s$(e,s)),n}return i._value=t,i}function c$(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Kr(e);return this.tween(n,(r.local?l$:u$)(r,t))}function d$(e,t){return function(){Xo(this,e).delay=+t.apply(this,arguments)}}function f$(e,t){return t=+t,function(){Xo(this,e).delay=t}}function h$(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?d$:f$)(t,e)):ut(this.node(),t).delay}function $$(e,t){return function(){vt(this,e).duration=+t.apply(this,arguments)}}function g$(e,t){return t=+t,function(){vt(this,e).duration=t}}function p$(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?$$:g$)(t,e)):ut(this.node(),t).duration}function v$(e,t){if(typeof t!="function")throw new Error;return function(){vt(this,e).ease=t}}function m$(e){var t=this._id;return arguments.length?this.each(v$(t,e)):ut(this.node(),t).ease}function y$(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;vt(this,e).ease=n}}function b$(e){if(typeof e!="function")throw new Error;return this.each(y$(this._id,e))}function w$(e){typeof e!="function"&&(e=Wl(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],o=s.length,a=r[i]=[],l,c=0;c<o;++c)(l=s[c])&&e.call(l,l.__data__,c,s)&&a.push(l);return new St(r,this._parents,this._name,this._id)}function _$(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,s=Math.min(r,i),o=new Array(r),a=0;a<s;++a)for(var l=t[a],c=n[a],u=l.length,d=o[a]=new Array(u),f,h=0;h<u;++h)(f=l[h]||c[h])&&(d[h]=f);for(;a<r;++a)o[a]=t[a];return new St(o,this._parents,this._name,this._id)}function x$(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function E$(e,t,n){var r,i,s=x$(t)?Xo:vt;return function(){var o=s(this,e),a=o.on;a!==r&&(i=(r=a).copy()).on(t,n),o.on=i}}function k$(e,t){var n=this._id;return arguments.length<2?ut(this.node(),n).on.on(e):this.each(E$(n,e,t))}function S$(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function N$(){return this.on("end.remove",S$(this._id))}function P$(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Fo(e));for(var r=this._groups,i=r.length,s=new Array(i),o=0;o<i;++o)for(var a=r[o],l=a.length,c=s[o]=new Array(l),u,d,f=0;f<l;++f)(u=a[f])&&(d=e.call(u,u.__data__,f,a))&&("__data__"in u&&(d.__data__=u.__data__),c[f]=d,Gr(c[f],t,n,f,c,ut(u,n)));return new St(s,this._parents,t,n)}function C$(e){var t=this._name,n=this._id;typeof e!="function"&&(e=ql(e));for(var r=this._groups,i=r.length,s=[],o=[],a=0;a<i;++a)for(var l=r[a],c=l.length,u,d=0;d<c;++d)if(u=l[d]){for(var f=e.call(u,u.__data__,d,l),h,g=ut(u,n),w=0,v=f.length;w<v;++w)(h=f[w])&&Gr(h,t,n,w,f,g);s.push(f),o.push(u)}return new St(s,o,t,n)}var I$=Gn.prototype.constructor;function O$(){return new I$(this._groups,this._parents)}function A$(e,t){var n,r,i;return function(){var s=cn(this,e),o=(this.style.removeProperty(e),cn(this,e));return s===o?null:s===n&&o===r?i:i=t(n=s,r=o)}}function hu(e){return function(){this.style.removeProperty(e)}}function M$(e,t,n){var r,i=n+"",s;return function(){var o=cn(this,e);return o===i?null:o===r?s:s=t(r=o,n)}}function T$(e,t,n){var r,i,s;return function(){var o=cn(this,e),a=n(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(e),cn(this,e))),o===l?null:o===r&&l===i?s:(i=l,s=t(r=o,a))}}function D$(e,t){var n,r,i,s="style."+t,o="end."+s,a;return function(){var l=vt(this,e),c=l.on,u=l.value[s]==null?a||(a=hu(t)):void 0;(c!==n||i!==u)&&(r=(n=c).copy()).on(o,i=u),l.on=r}}function R$(e,t,n){var r=(e+="")=="transform"?Rh:fu;return t==null?this.styleTween(e,A$(e,r)).on("end.style."+e,hu(e)):typeof t=="function"?this.styleTween(e,T$(e,r,Ko(this,"style."+e,t))).each(D$(this._id,e)):this.styleTween(e,M$(e,r,t),n).on("end.style."+e,null)}function z$(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function H$(e,t,n){var r,i;function s(){var o=t.apply(this,arguments);return o!==i&&(r=(i=o)&&z$(e,o,n)),r}return s._value=t,s}function L$(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,H$(e,t,n??""))}function V$(e){return function(){this.textContent=e}}function Y$(e){return function(){var t=e(this);this.textContent=t??""}}function F$(e){return this.tween("text",typeof e=="function"?Y$(Ko(this,"text",e)):V$(e==null?"":e+""))}function q$(e){return function(t){this.textContent=e.call(this,t)}}function W$(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&q$(i)),t}return r._value=e,r}function B$(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,W$(e))}function X$(){for(var e=this._name,t=this._id,n=$u(),r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,l,c=0;c<a;++c)if(l=o[c]){var u=ut(l,t);Gr(l,e,n,c,o,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new St(r,this._parents,e,n)}function K$(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(s,o){var a={value:o},l={value:function(){--i===0&&s()}};n.each(function(){var c=vt(this,r),u=c.on;u!==e&&(t=(e=u).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),c.on=t}),i===0&&s()})}var j$=0;function St(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function $u(){return++j$}var mt=Gn.prototype;St.prototype={constructor:St,select:P$,selectAll:C$,selectChild:mt.selectChild,selectChildren:mt.selectChildren,filter:w$,merge:_$,selection:O$,transition:X$,call:mt.call,nodes:mt.nodes,node:mt.node,size:mt.size,empty:mt.empty,each:mt.each,on:k$,attr:o$,attrTween:c$,style:R$,styleTween:L$,text:F$,textTween:B$,remove:N$,tween:Qh,delay:h$,duration:p$,ease:m$,easeVarying:b$,end:K$,[Symbol.iterator]:mt[Symbol.iterator]};function G$(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Z$={time:null,delay:0,duration:250,ease:G$};function U$(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function Q$(e){var t,n;e instanceof St?(t=e._id,e=e._name):(t=$u(),(n=Z$).time=Bo(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,l,c=0;c<a;++c)(l=o[c])&&Gr(l,e,t,c,o,n||U$(l,t));return new St(r,this._parents,e,t)}Gn.prototype.interrupt=Gh;Gn.prototype.transition=Q$;const rr=e=>()=>e;function J$(e,{sourceEvent:t,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function wt(e,t,n){this.k=e,this.x=t,this.y=n}wt.prototype={constructor:wt,scale:function(e){return e===1?this:new wt(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new wt(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Zr=new wt(1,0,0);gu.prototype=wt.prototype;function gu(e){for(;!e.__zoom;)if(!(e=e.parentNode))return Zr;return e.__zoom}function ui(e){e.stopImmediatePropagation()}function kn(e){e.preventDefault(),e.stopImmediatePropagation()}function eg(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function tg(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Ds(){return this.__zoom||Zr}function ng(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function rg(){return navigator.maxTouchPoints||"ontouchstart"in this}function ig(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],s=e.invertY(t[0][1])-n[0][1],o=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>s?(s+o)/2:Math.min(0,s)||Math.max(0,o))}function og(){var e=eg,t=tg,n=ig,r=ng,i=rg,s=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],a=250,l=Yh,c=Xr("start","zoom","end"),u,d,f,h=500,g=150,w=0,v=10;function m(p){p.property("__zoom",Ds).on("wheel.zoom",k,{passive:!1}).on("mousedown.zoom",I).on("dblclick.zoom",M).filter(i).on("touchstart.zoom",y).on("touchmove.zoom",_).on("touchend.zoom touchcancel.zoom",C).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}m.transform=function(p,P,O,L){var W=p.selection?p.selection():p;W.property("__zoom",Ds),p!==W?N(p,P,O,L):W.interrupt().each(function(){S(this,arguments).event(L).start().zoom(null,typeof P=="function"?P.apply(this,arguments):P).end()})},m.scaleBy=function(p,P,O,L){m.scaleTo(p,function(){var W=this.__zoom.k,X=typeof P=="function"?P.apply(this,arguments):P;return W*X},O,L)},m.scaleTo=function(p,P,O,L){m.transform(p,function(){var W=t.apply(this,arguments),X=this.__zoom,G=O==null?b(W):typeof O=="function"?O.apply(this,arguments):O,te=X.invert(G),se=typeof P=="function"?P.apply(this,arguments):P;return n(x(E(X,se),G,te),W,o)},O,L)},m.translateBy=function(p,P,O,L){m.transform(p,function(){return n(this.__zoom.translate(typeof P=="function"?P.apply(this,arguments):P,typeof O=="function"?O.apply(this,arguments):O),t.apply(this,arguments),o)},null,L)},m.translateTo=function(p,P,O,L,W){m.transform(p,function(){var X=t.apply(this,arguments),G=this.__zoom,te=L==null?b(X):typeof L=="function"?L.apply(this,arguments):L;return n(Zr.translate(te[0],te[1]).scale(G.k).translate(typeof P=="function"?-P.apply(this,arguments):-P,typeof O=="function"?-O.apply(this,arguments):-O),X,o)},L,W)};function E(p,P){return P=Math.max(s[0],Math.min(s[1],P)),P===p.k?p:new wt(P,p.x,p.y)}function x(p,P,O){var L=P[0]-O[0]*p.k,W=P[1]-O[1]*p.k;return L===p.x&&W===p.y?p:new wt(p.k,L,W)}function b(p){return[(+p[0][0]+ +p[1][0])/2,(+p[0][1]+ +p[1][1])/2]}function N(p,P,O,L){p.on("start.zoom",function(){S(this,arguments).event(L).start()}).on("interrupt.zoom end.zoom",function(){S(this,arguments).event(L).end()}).tween("zoom",function(){var W=this,X=arguments,G=S(W,X).event(L),te=t.apply(W,X),se=O==null?b(te):typeof O=="function"?O.apply(W,X):O,R=Math.max(te[1][0]-te[0][0],te[1][1]-te[0][1]),z=W.__zoom,T=typeof P=="function"?P.apply(W,X):P,H=l(z.invert(se).concat(R/z.k),T.invert(se).concat(R/T.k));return function(Y){if(Y===1)Y=T;else{var V=H(Y),j=R/V[2];Y=new wt(j,se[0]-V[0]*j,se[1]-V[1]*j)}G.zoom(null,Y)}})}function S(p,P,O){return!O&&p.__zooming||new D(p,P)}function D(p,P){this.that=p,this.args=P,this.active=0,this.sourceEvent=null,this.extent=t.apply(p,P),this.taps=0}D.prototype={event:function(p){return p&&(this.sourceEvent=p),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(p,P){return this.mouse&&p!=="mouse"&&(this.mouse[1]=P.invert(this.mouse[0])),this.touch0&&p!=="touch"&&(this.touch0[1]=P.invert(this.touch0[0])),this.touch1&&p!=="touch"&&(this.touch1[1]=P.invert(this.touch1[0])),this.that.__zoom=P,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(p){var P=rt(this.that).datum();c.call(p,this.that,new J$(p,{sourceEvent:this.sourceEvent,target:m,transform:this.that.__zoom,dispatch:c}),P)}};function k(p,...P){if(!e.apply(this,arguments))return;var O=S(this,P).event(p),L=this.__zoom,W=Math.max(s[0],Math.min(s[1],L.k*Math.pow(2,r.apply(this,arguments)))),X=dt(p);if(O.wheel)(O.mouse[0][0]!==X[0]||O.mouse[0][1]!==X[1])&&(O.mouse[1]=L.invert(O.mouse[0]=X)),clearTimeout(O.wheel);else{if(L.k===W)return;O.mouse=[X,L.invert(X)],cr(this),O.start()}kn(p),O.wheel=setTimeout(G,g),O.zoom("mouse",n(x(E(L,W),O.mouse[0],O.mouse[1]),O.extent,o));function G(){O.wheel=null,O.end()}}function I(p,...P){if(f||!e.apply(this,arguments))return;var O=p.currentTarget,L=S(this,P,!0).event(p),W=rt(p.view).on("mousemove.zoom",se,!0).on("mouseup.zoom",R,!0),X=dt(p,O),G=p.clientX,te=p.clientY;eu(p.view),ui(p),L.mouse=[X,this.__zoom.invert(X)],cr(this),L.start();function se(z){if(kn(z),!L.moved){var T=z.clientX-G,H=z.clientY-te;L.moved=T*T+H*H>w}L.event(z).zoom("mouse",n(x(L.that.__zoom,L.mouse[0]=dt(z,O),L.mouse[1]),L.extent,o))}function R(z){W.on("mousemove.zoom mouseup.zoom",null),tu(z.view,L.moved),kn(z),L.event(z).end()}}function M(p,...P){if(e.apply(this,arguments)){var O=this.__zoom,L=dt(p.changedTouches?p.changedTouches[0]:p,this),W=O.invert(L),X=O.k*(p.shiftKey?.5:2),G=n(x(E(O,X),L,W),t.apply(this,P),o);kn(p),a>0?rt(this).transition().duration(a).call(N,G,L,p):rt(this).call(m.transform,G,L,p)}}function y(p,...P){if(e.apply(this,arguments)){var O=p.touches,L=O.length,W=S(this,P,p.changedTouches.length===L).event(p),X,G,te,se;for(ui(p),G=0;G<L;++G)te=O[G],se=dt(te,this),se=[se,this.__zoom.invert(se),te.identifier],W.touch0?!W.touch1&&W.touch0[2]!==se[2]&&(W.touch1=se,W.taps=0):(W.touch0=se,X=!0,W.taps=1+!!u);u&&(u=clearTimeout(u)),X&&(W.taps<2&&(d=se[0],u=setTimeout(function(){u=null},h)),cr(this),W.start())}}function _(p,...P){if(this.__zooming){var O=S(this,P).event(p),L=p.changedTouches,W=L.length,X,G,te,se;for(kn(p),X=0;X<W;++X)G=L[X],te=dt(G,this),O.touch0&&O.touch0[2]===G.identifier?O.touch0[0]=te:O.touch1&&O.touch1[2]===G.identifier&&(O.touch1[0]=te);if(G=O.that.__zoom,O.touch1){var R=O.touch0[0],z=O.touch0[1],T=O.touch1[0],H=O.touch1[1],Y=(Y=T[0]-R[0])*Y+(Y=T[1]-R[1])*Y,V=(V=H[0]-z[0])*V+(V=H[1]-z[1])*V;G=E(G,Math.sqrt(Y/V)),te=[(R[0]+T[0])/2,(R[1]+T[1])/2],se=[(z[0]+H[0])/2,(z[1]+H[1])/2]}else if(O.touch0)te=O.touch0[0],se=O.touch0[1];else return;O.zoom("touch",n(x(G,te,se),O.extent,o))}}function C(p,...P){if(this.__zooming){var O=S(this,P).event(p),L=p.changedTouches,W=L.length,X,G;for(ui(p),f&&clearTimeout(f),f=setTimeout(function(){f=null},h),X=0;X<W;++X)G=L[X],O.touch0&&O.touch0[2]===G.identifier?delete O.touch0:O.touch1&&O.touch1[2]===G.identifier&&delete O.touch1;if(O.touch1&&!O.touch0&&(O.touch0=O.touch1,delete O.touch1),O.touch0)O.touch0[1]=this.__zoom.invert(O.touch0[0]);else if(O.end(),O.taps===2&&(G=dt(G,this),Math.hypot(d[0]-G[0],d[1]-G[1])<v)){var te=rt(this).on("dblclick.zoom");te&&te.apply(this,arguments)}}}return m.wheelDelta=function(p){return arguments.length?(r=typeof p=="function"?p:rr(+p),m):r},m.filter=function(p){return arguments.length?(e=typeof p=="function"?p:rr(!!p),m):e},m.touchable=function(p){return arguments.length?(i=typeof p=="function"?p:rr(!!p),m):i},m.extent=function(p){return arguments.length?(t=typeof p=="function"?p:rr([[+p[0][0],+p[0][1]],[+p[1][0],+p[1][1]]]),m):t},m.scaleExtent=function(p){return arguments.length?(s[0]=+p[0],s[1]=+p[1],m):[s[0],s[1]]},m.translateExtent=function(p){return arguments.length?(o[0][0]=+p[0][0],o[1][0]=+p[1][0],o[0][1]=+p[0][1],o[1][1]=+p[1][1],m):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},m.constrain=function(p){return arguments.length?(n=p,m):n},m.duration=function(p){return arguments.length?(a=+p,m):a},m.interpolate=function(p){return arguments.length?(l=p,m):l},m.on=function(){var p=c.on.apply(c,arguments);return p===c?m:p},m.clickDistance=function(p){return arguments.length?(w=(p=+p)*p,m):Math.sqrt(w)},m.tapDistance=function(p){return arguments.length?(v=+p,m):v},m}const Yn={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${e} handle id: "${e==="source"?n:r}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},xo=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],pu=["Enter"," ","Escape"];var fn;(function(e){e.Strict="strict",e.Loose="loose"})(fn||(fn={}));var Rt;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(Rt||(Rt={}));var Sr;(function(e){e.Partial="partial",e.Full="full"})(Sr||(Sr={}));const Eo={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};var bt;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(bt||(bt={}));var Nr;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Nr||(Nr={}));var be;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(be||(be={}));const Rs={[be.Left]:be.Right,[be.Right]:be.Left,[be.Top]:be.Bottom,[be.Bottom]:be.Top};function sg(e,t){if(!e&&!t)return!0;if(!e||!t||e.size!==t.size)return!1;if(!e.size&&!t.size)return!0;for(const n of e.keys())if(!t.has(n))return!1;return!0}function zs(e,t,n){if(!n)return;const r=[];e.forEach((i,s)=>{t?.has(s)||r.push(i)}),r.length&&n(r)}function ag(e){return e===null?null:e?"valid":"invalid"}const vu=e=>"id"in e&&"source"in e&&"target"in e,lg=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),jo=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),Un=(e,t=[0,0])=>{const{width:n,height:r}=Zt(e),i=e.origin??t,s=n*i[0],o=r*i[1];return{x:e.position.x-s,y:e.position.y-o}},ug=(e,t={nodeOrigin:[0,0]})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,i)=>{const s=typeof i=="string";let o=!t.nodeLookup&&!s?i:void 0;t.nodeLookup&&(o=s?t.nodeLookup.get(i):jo(i)?i:t.nodeLookup.get(i.id));const a=o?Pr(o,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return Qr(r,a)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Jr(n)},Ur=(e,t={})=>{if(e.size===0)return{x:0,y:0,width:0,height:0};let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0};return e.forEach(r=>{if(t.filter===void 0||t.filter(r)){const i=Pr(r);n=Qr(n,i)}}),Jr(n)},mu=(e,t,[n,r,i]=[0,0,1],s=!1,o=!1)=>{const a={...Qn(t,[n,r,i]),width:t.width/i,height:t.height/i},l=[];for(const c of e.values()){const{measured:u,selectable:d=!0,hidden:f=!1}=c;if(o&&!d||f)continue;const h=u.width??c.width??c.initialWidth??null,g=u.height??c.height??c.initialHeight??null,w=Fn(a,$n(c)),v=(h??0)*(g??0),m=s&&w>0;(!c.internals.handleBounds||m||w>=v||c.dragging)&&l.push(c)}return l},cg=(e,t)=>{const n=new Set;return e.forEach(r=>{n.add(r.id)}),t.filter(r=>n.has(r.source)||n.has(r.target))};function dg(e,t){const n=new Map,r=t?.nodes?new Set(t.nodes.map(i=>i.id)):null;return e.forEach(i=>{i.measured.width&&i.measured.height&&(t?.includeHiddenNodes||!i.hidden)&&(!r||r.has(i.id))&&n.set(i.id,i)}),n}async function fg({nodes:e,width:t,height:n,panZoom:r,minZoom:i,maxZoom:s},o){if(e.size===0)return Promise.resolve(!0);const a=dg(e,o),l=Ur(a),c=Go(l,t,n,o?.minZoom??i,o?.maxZoom??s,o?.padding??.1);return await r.setViewport(c,{duration:o?.duration}),Promise.resolve(!0)}function yu({nodeId:e,nextPosition:t,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:i,onError:s}){const o=n.get(e),a=o.parentId?n.get(o.parentId):void 0,{x:l,y:c}=a?a.internals.positionAbsolute:{x:0,y:0},u=o.origin??r;let d=i;if(o.extent==="parent"&&!o.expandParent)if(!a)s?.("005",Yn.error005());else{const h=a.measured.width,g=a.measured.height;h&&g&&(d=[[l,c],[l+h,c+g]])}else a&&gn(o.extent)&&(d=[[o.extent[0][0]+l,o.extent[0][1]+c],[o.extent[1][0]+l,o.extent[1][1]+c]]);const f=gn(d)?Xt(t,d,o.measured):t;return(o.measured.width===void 0||o.measured.height===void 0)&&s?.("015",Yn.error015()),{position:{x:f.x-l+(o.measured.width??0)*u[0],y:f.y-c+(o.measured.height??0)*u[1]},positionAbsolute:f}}async function hg({nodesToRemove:e=[],edgesToRemove:t=[],nodes:n,edges:r,onBeforeDelete:i}){const s=new Set(e.map(f=>f.id)),o=[];for(const f of n){if(f.deletable===!1)continue;const h=s.has(f.id),g=!h&&f.parentId&&o.find(w=>w.id===f.parentId);(h||g)&&o.push(f)}const a=new Set(t.map(f=>f.id)),l=r.filter(f=>f.deletable!==!1),u=cg(o,l);for(const f of l)a.has(f.id)&&!u.find(g=>g.id===f.id)&&u.push(f);if(!i)return{edges:u,nodes:o};const d=await i({nodes:o,edges:u});return typeof d=="boolean"?d?{edges:u,nodes:o}:{edges:[],nodes:[]}:d}const hn=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),Xt=(e={x:0,y:0},t,n)=>({x:hn(e.x,t[0][0],t[1][0]-(n?.width??0)),y:hn(e.y,t[0][1],t[1][1]-(n?.height??0))});function bu(e,t,n){const{width:r,height:i}=Zt(n),{x:s,y:o}=n.internals.positionAbsolute;return Xt(e,[[s,o],[s+r,o+i]],t)}const Hs=(e,t,n)=>e<t?hn(Math.abs(e-t),1,t)/t:e>n?-hn(Math.abs(e-n),1,t)/t:0,wu=(e,t,n=15,r=40)=>{const i=Hs(e.x,r,t.width-r)*n,s=Hs(e.y,r,t.height-r)*n;return[i,s]},Qr=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),ko=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),Jr=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),$n=(e,t=[0,0])=>{const{x:n,y:r}=jo(e)?e.internals.positionAbsolute:Un(e,t);return{x:n,y:r,width:e.measured?.width??e.width??e.initialWidth??0,height:e.measured?.height??e.height??e.initialHeight??0}},Pr=(e,t=[0,0])=>{const{x:n,y:r}=jo(e)?e.internals.positionAbsolute:Un(e,t);return{x:n,y:r,x2:n+(e.measured?.width??e.width??e.initialWidth??0),y2:r+(e.measured?.height??e.height??e.initialHeight??0)}},$g=(e,t)=>Jr(Qr(ko(e),ko(t))),Fn=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},Ls=e=>_t(e.width)&&_t(e.height)&&_t(e.x)&&_t(e.y),_t=e=>!isNaN(e)&&isFinite(e),gg=(e,t)=>{},ei=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),Qn=({x:e,y:t},[n,r,i],s=!1,o=[1,1])=>{const a={x:(e-n)/i,y:(t-r)/i};return s?ei(a,o):a},Cr=({x:e,y:t},[n,r,i])=>({x:e*i+n,y:t*i+r});function en(e,t){if(typeof e=="number")return Math.floor((t-t/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(n)}if(typeof e=="string"&&e.endsWith("%")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(t*n*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function pg(e,t,n){if(typeof e=="string"||typeof e=="number"){const r=en(e,n),i=en(e,t);return{top:r,right:i,bottom:r,left:i,x:i*2,y:r*2}}if(typeof e=="object"){const r=en(e.top??e.y??0,n),i=en(e.bottom??e.y??0,n),s=en(e.left??e.x??0,t),o=en(e.right??e.x??0,t);return{top:r,right:o,bottom:i,left:s,x:s+o,y:r+i}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function vg(e,t,n,r,i,s){const{x:o,y:a}=Cr(e,[t,n,r]),{x:l,y:c}=Cr({x:e.x+e.width,y:e.y+e.height},[t,n,r]),u=i-l,d=s-c;return{left:Math.floor(o),top:Math.floor(a),right:Math.floor(u),bottom:Math.floor(d)}}const Go=(e,t,n,r,i,s)=>{const o=pg(s,t,n),a=(t-o.x)/e.width,l=(n-o.y)/e.height,c=Math.min(a,l),u=hn(c,r,i),d=e.x+e.width/2,f=e.y+e.height/2,h=t/2-d*u,g=n/2-f*u,w=vg(e,h,g,u,t,n),v={left:Math.min(w.left-o.left,0),top:Math.min(w.top-o.top,0),right:Math.min(w.right-o.right,0),bottom:Math.min(w.bottom-o.bottom,0)};return{x:h-v.left+v.right,y:g-v.top+v.bottom,zoom:u}},Ir=()=>typeof navigator<"u"&&navigator?.userAgent?.indexOf("Mac")>=0;function gn(e){return e!==void 0&&e!=="parent"}function Zt(e){return{width:e.measured?.width??e.width??e.initialWidth??0,height:e.measured?.height??e.height??e.initialHeight??0}}function mg(e){return(e.measured?.width??e.width??e.initialWidth)!==void 0&&(e.measured?.height??e.height??e.initialHeight)!==void 0}function yg(e,t={width:0,height:0},n,r,i){const s={...e},o=r.get(n);if(o){const a=o.origin||i;s.x+=o.internals.positionAbsolute.x-(t.width??0)*a[0],s.y+=o.internals.positionAbsolute.y-(t.height??0)*a[1]}return s}function ci(e,{snapGrid:t=[0,0],snapToGrid:n=!1,transform:r,containerBounds:i}){const{x:s,y:o}=kt(e),a=Qn({x:s-(i?.left??0),y:o-(i?.top??0)},r),{x:l,y:c}=n?ei(a,t):a;return{xSnapped:l,ySnapped:c,...a}}const _u=e=>({width:e.offsetWidth,height:e.offsetHeight}),xu=e=>e?.getRootNode?.()||window?.document,bg=["INPUT","SELECT","TEXTAREA"];function Eu(e){const t=e.composedPath?.()?.[0]||e.target;return t?.nodeType!==1?!1:bg.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey")}const ku=e=>"clientX"in e,kt=(e,t)=>{const n=ku(e),r=n?e.clientX:e.touches?.[0].clientX,i=n?e.clientY:e.touches?.[0].clientY;return{x:r-(t?.left??0),y:i-(t?.top??0)}},Vs=(e,t,n,r,i)=>{const s=t.querySelectorAll(`.${e}`);return!s||!s.length?null:Array.from(s).map(o=>{const a=o.getBoundingClientRect();return{id:o.getAttribute("data-handleid"),type:e,nodeId:i,position:o.getAttribute("data-handlepos"),x:(a.left-n.left)/r,y:(a.top-n.top)/r,..._u(o)}})};function wg({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:i,sourceControlY:s,targetControlX:o,targetControlY:a}){const l=e*.125+i*.375+o*.375+n*.125,c=t*.125+s*.375+a*.375+r*.125,u=Math.abs(l-e),d=Math.abs(c-t);return[l,c,u,d]}function ir(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function Ys({pos:e,x1:t,y1:n,x2:r,y2:i,c:s}){switch(e){case be.Left:return[t-ir(t-r,s),n];case be.Right:return[t+ir(r-t,s),n];case be.Top:return[t,n-ir(n-i,s)];case be.Bottom:return[t,n+ir(i-n,s)]}}function Su({sourceX:e,sourceY:t,sourcePosition:n=be.Bottom,targetX:r,targetY:i,targetPosition:s=be.Top,curvature:o=.25}){const[a,l]=Ys({pos:n,x1:e,y1:t,x2:r,y2:i,c:o}),[c,u]=Ys({pos:s,x1:r,y1:i,x2:e,y2:t,c:o}),[d,f,h,g]=wg({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:a,sourceControlY:l,targetControlX:c,targetControlY:u});return[`M${e},${t} C${a},${l} ${c},${u} ${r},${i}`,d,f,h,g]}function Nu({sourceX:e,sourceY:t,targetX:n,targetY:r}){const i=Math.abs(n-e)/2,s=n<e?n+i:n-i,o=Math.abs(r-t)/2,a=r<t?r+o:r-o;return[s,a,i,o]}function _g({sourceNode:e,targetNode:t,selected:n=!1,zIndex:r=0,elevateOnSelect:i=!1}){if(!i)return r;const s=n||t.selected||e.selected,o=Math.max(e.internals.z||0,t.internals.z||0,1e3);return r+(s?o:0)}function xg({sourceNode:e,targetNode:t,width:n,height:r,transform:i}){const s=Qr(Pr(e),Pr(t));s.x===s.x2&&(s.x2+=1),s.y===s.y2&&(s.y2+=1);const o={x:-i[0]/i[2],y:-i[1]/i[2],width:n/i[2],height:r/i[2]};return Fn(o,Jr(s))>0}const Eg=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`xy-edge__${e}${t||""}-${n}${r||""}`,kg=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),Sg=(e,t)=>{if(!e.source||!e.target)return t;let n;return vu(e)?n={...e}:n={...e,id:Eg(e)},kg(n,t)?t:(n.sourceHandle===null&&delete n.sourceHandle,n.targetHandle===null&&delete n.targetHandle,t.concat(n))};function Pu({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[i,s,o,a]=Nu({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,i,s,o,a]}const Fs={[be.Left]:{x:-1,y:0},[be.Right]:{x:1,y:0},[be.Top]:{x:0,y:-1},[be.Bottom]:{x:0,y:1}},Ng=({source:e,sourcePosition:t=be.Bottom,target:n})=>t===be.Left||t===be.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},qs=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function Pg({source:e,sourcePosition:t=be.Bottom,target:n,targetPosition:r=be.Top,center:i,offset:s}){const o=Fs[t],a=Fs[r],l={x:e.x+o.x*s,y:e.y+o.y*s},c={x:n.x+a.x*s,y:n.y+a.y*s},u=Ng({source:l,sourcePosition:t,target:c}),d=u.x!==0?"x":"y",f=u[d];let h=[],g,w;const v={x:0,y:0},m={x:0,y:0},[E,x,b,N]=Nu({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(o[d]*a[d]===-1){g=i.x??E,w=i.y??x;const D=[{x:g,y:l.y},{x:g,y:c.y}],k=[{x:l.x,y:w},{x:c.x,y:w}];o[d]===f?h=d==="x"?D:k:h=d==="x"?k:D}else{const D=[{x:l.x,y:c.y}],k=[{x:c.x,y:l.y}];if(d==="x"?h=o.x===f?k:D:h=o.y===f?D:k,t===r){const C=Math.abs(e[d]-n[d]);if(C<=s){const p=Math.min(s-1,s-C);o[d]===f?v[d]=(l[d]>e[d]?-1:1)*p:m[d]=(c[d]>n[d]?-1:1)*p}}if(t!==r){const C=d==="x"?"y":"x",p=o[d]===a[C],P=l[C]>c[C],O=l[C]<c[C];(o[d]===1&&(!p&&P||p&&O)||o[d]!==1&&(!p&&O||p&&P))&&(h=d==="x"?D:k)}const I={x:l.x+v.x,y:l.y+v.y},M={x:c.x+m.x,y:c.y+m.y},y=Math.max(Math.abs(I.x-h[0].x),Math.abs(M.x-h[0].x)),_=Math.max(Math.abs(I.y-h[0].y),Math.abs(M.y-h[0].y));y>=_?(g=(I.x+M.x)/2,w=h[0].y):(g=h[0].x,w=(I.y+M.y)/2)}return[[e,{x:l.x+v.x,y:l.y+v.y},...h,{x:c.x+m.x,y:c.y+m.y},n],g,w,b,N]}function Cg(e,t,n,r){const i=Math.min(qs(e,t)/2,qs(t,n)/2,r),{x:s,y:o}=t;if(e.x===s&&s===n.x||e.y===o&&o===n.y)return`L${s} ${o}`;if(e.y===o){const c=e.x<n.x?-1:1,u=e.y<n.y?1:-1;return`L ${s+i*c},${o}Q ${s},${o} ${s},${o+i*u}`}const a=e.x<n.x?1:-1,l=e.y<n.y?-1:1;return`L ${s},${o+i*l}Q ${s},${o} ${s+i*a},${o}`}function Zo({sourceX:e,sourceY:t,sourcePosition:n=be.Bottom,targetX:r,targetY:i,targetPosition:s=be.Top,borderRadius:o=5,centerX:a,centerY:l,offset:c=20}){const[u,d,f,h,g]=Pg({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:i},targetPosition:s,center:{x:a,y:l},offset:c});return[u.reduce((v,m,E)=>{let x="";return E>0&&E<u.length-1?x=Cg(u[E-1],m,u[E+1],o):x=`${E===0?"M":"L"}${m.x} ${m.y}`,v+=x,v},""),d,f,h,g]}function Ws(e){return e&&!!(e.internals.handleBounds||e.handles?.length)&&!!(e.measured.width||e.width||e.initialWidth)}function Ig(e){const{sourceNode:t,targetNode:n}=e;if(!Ws(t)||!Ws(n))return null;const r=t.internals.handleBounds||Bs(t.handles),i=n.internals.handleBounds||Bs(n.handles),s=Xs(r?.source??[],e.sourceHandle),o=Xs(e.connectionMode===fn.Strict?i?.target??[]:(i?.target??[]).concat(i?.source??[]),e.targetHandle);if(!s||!o)return e.onError?.("008",Yn.error008(s?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const a=s?.position||be.Bottom,l=o?.position||be.Top,c=qn(t,s,a),u=qn(n,o,l);return{sourceX:c.x,sourceY:c.y,targetX:u.x,targetY:u.y,sourcePosition:a,targetPosition:l}}function Bs(e){if(!e)return null;const t=[],n=[];for(const r of e)r.width=r.width??1,r.height=r.height??1,r.type==="source"?t.push(r):r.type==="target"&&n.push(r);return{source:t,target:n}}function qn(e,t,n=be.Left,r=!1){const i=(t?.x??0)+e.internals.positionAbsolute.x,s=(t?.y??0)+e.internals.positionAbsolute.y,{width:o,height:a}=t??Zt(e);if(r)return{x:i+o/2,y:s+a/2};switch(t?.position??n){case be.Top:return{x:i+o/2,y:s};case be.Right:return{x:i+o,y:s+a/2};case be.Bottom:return{x:i+o/2,y:s+a};case be.Left:return{x:i,y:s+a/2}}}function Xs(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function So(e,t){return e?typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`:""}function Og(e,{id:t,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:i}){const s=new Set;return e.reduce((o,a)=>([a.markerStart||r,a.markerEnd||i].forEach(l=>{if(l&&typeof l=="object"){const c=So(l,t);s.has(c)||(o.push({id:c,color:l.color||n,...l}),s.add(c))}}),o),[]).sort((o,a)=>o.id.localeCompare(a.id))}const Uo={nodeOrigin:[0,0],nodeExtent:xo,elevateNodesOnSelect:!0,defaults:{}},Ag={...Uo,checkEquality:!0};function Qo(e,t){const n={...e};for(const r in t)t[r]!==void 0&&(n[r]=t[r]);return n}function Mg(e,t,n){const r=Qo(Uo,n);for(const i of e.values())if(i.parentId)Jo(i,e,t,r);else{const s=Un(i,r.nodeOrigin),o=gn(i.extent)?i.extent:r.nodeExtent,a=Xt(s,o,Zt(i));i.internals.positionAbsolute=a}}function Tg(e,t,n,r){const i=Qo(Ag,r);let s=e.length>0;const o=new Map(t),a=i?.elevateNodesOnSelect?1e3:0;t.clear(),n.clear();for(const l of e){let c=o.get(l.id);if(i.checkEquality&&l===c?.internals.userNode)t.set(l.id,c);else{const u=Un(l,i.nodeOrigin),d=gn(l.extent)?l.extent:i.nodeExtent,f=Xt(u,d,Zt(l));c={...i.defaults,...l,measured:{width:l.measured?.width,height:l.measured?.height},internals:{positionAbsolute:f,handleBounds:l.measured?c?.internals.handleBounds:void 0,z:Cu(l,a),userNode:l}},t.set(l.id,c)}(c.measured===void 0||c.measured.width===void 0||c.measured.height===void 0)&&!c.hidden&&(s=!1),l.parentId&&Jo(c,t,n,r)}return s}function Dg(e,t){if(!e.parentId)return;const n=t.get(e.parentId);n?n.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}function Jo(e,t,n,r){const{elevateNodesOnSelect:i,nodeOrigin:s,nodeExtent:o}=Qo(Uo,r),a=e.parentId,l=t.get(a);if(!l){console.warn(`Parent node ${a} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}Dg(e,n);const c=i?1e3:0,{x:u,y:d,z:f}=Rg(e,l,s,o,c),{positionAbsolute:h}=e.internals,g=u!==h.x||d!==h.y;(g||f!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:g?{x:u,y:d}:h,z:f}})}function Cu(e,t){return(_t(e.zIndex)?e.zIndex:0)+(e.selected?t:0)}function Rg(e,t,n,r,i){const{x:s,y:o}=t.internals.positionAbsolute,a=Zt(e),l=Un(e,n),c=gn(e.extent)?Xt(l,e.extent,a):l;let u=Xt({x:s+c.x,y:o+c.y},r,a);e.extent==="parent"&&(u=bu(u,a,t));const d=Cu(e,i),f=t.internals.z??0;return{x:u.x,y:u.y,z:f>d?f:d}}function zg(e,t,n,r=[0,0]){const i=[],s=new Map;for(const o of e){const a=t.get(o.parentId);if(!a)continue;const l=s.get(o.parentId)?.expandedRect??$n(a),c=$g(l,o.rect);s.set(o.parentId,{expandedRect:c,parent:a})}return s.size>0&&s.forEach(({expandedRect:o,parent:a},l)=>{const c=a.internals.positionAbsolute,u=Zt(a),d=a.origin??r,f=o.x<c.x?Math.round(Math.abs(c.x-o.x)):0,h=o.y<c.y?Math.round(Math.abs(c.y-o.y)):0,g=Math.max(u.width,Math.round(o.width)),w=Math.max(u.height,Math.round(o.height)),v=(g-u.width)*d[0],m=(w-u.height)*d[1];(f>0||h>0||v||m)&&(i.push({id:l,type:"position",position:{x:a.position.x-f+v,y:a.position.y-h+m}}),n.get(l)?.forEach(E=>{e.some(x=>x.id===E.id)||i.push({id:E.id,type:"position",position:{x:E.position.x+f,y:E.position.y+h}})})),(u.width<o.width||u.height<o.height||f||h)&&i.push({id:l,type:"dimensions",setAttributes:!0,dimensions:{width:g+(f?d[0]*f-v:0),height:w+(h?d[1]*h-m:0)}})}),i}function Hg(e,t,n,r,i,s){const o=r?.querySelector(".xyflow__viewport");let a=!1;if(!o)return{changes:[],updatedInternals:a};const l=[],c=window.getComputedStyle(o),{m22:u}=new window.DOMMatrixReadOnly(c.transform),d=[];for(const f of e.values()){const h=t.get(f.id);if(!h)continue;if(h.hidden){t.set(h.id,{...h,internals:{...h.internals,handleBounds:void 0}}),a=!0;continue}const g=_u(f.nodeElement),w=h.measured.width!==g.width||h.measured.height!==g.height;if(!!(g.width&&g.height&&(w||!h.internals.handleBounds||f.force))){const m=f.nodeElement.getBoundingClientRect(),E=gn(h.extent)?h.extent:s;let{positionAbsolute:x}=h.internals;h.parentId&&h.extent==="parent"?x=bu(x,g,t.get(h.parentId)):E&&(x=Xt(x,E,g));const b={...h,measured:g,internals:{...h.internals,positionAbsolute:x,handleBounds:{source:Vs("source",f.nodeElement,m,u,h.id),target:Vs("target",f.nodeElement,m,u,h.id)}}};t.set(h.id,b),h.parentId&&Jo(b,t,n,{nodeOrigin:i}),a=!0,w&&(l.push({id:h.id,type:"dimensions",dimensions:g}),h.expandParent&&h.parentId&&d.push({id:h.id,parentId:h.parentId,rect:$n(b,i)}))}}if(d.length>0){const f=zg(d,t,n,i);l.push(...f)}return{changes:l,updatedInternals:a}}async function Lg({delta:e,panZoom:t,transform:n,translateExtent:r,width:i,height:s}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const o=await t.setViewportConstrained({x:n[0]+e.x,y:n[1]+e.y,zoom:n[2]},[[0,0],[i,s]],r),a=!!o&&(o.x!==n[0]||o.y!==n[1]||o.k!==n[2]);return Promise.resolve(a)}function Ks(e,t,n,r,i,s){let o=i;const a=r.get(o)||new Map;r.set(o,a.set(n,t)),o=`${i}-${e}`;const l=r.get(o)||new Map;if(r.set(o,l.set(n,t)),s){o=`${i}-${e}-${s}`;const c=r.get(o)||new Map;r.set(o,c.set(n,t))}}function Vg(e,t,n){e.clear(),t.clear();for(const r of n){const{source:i,target:s,sourceHandle:o=null,targetHandle:a=null}=r,l={edgeId:r.id,source:i,target:s,sourceHandle:o,targetHandle:a},c=`${i}-${o}--${s}-${a}`,u=`${s}-${a}--${i}-${o}`;Ks("source",l,u,e,i,o),Ks("target",l,c,e,s,a),t.set(r.id,r)}}function Iu(e,t){if(!e.parentId)return!1;const n=t.get(e.parentId);return n?n.selected?!0:Iu(n,t):!1}function js(e,t,n){let r=e;do{if(r?.matches?.(t))return!0;if(r===n)return!1;r=r?.parentElement}while(r);return!1}function Yg(e,t,n,r){const i=new Map;for(const[s,o]of e)if((o.selected||o.id===r)&&(!o.parentId||!Iu(o,e))&&(o.draggable||t&&typeof o.draggable>"u")){const a=e.get(s);a&&i.set(s,{id:s,position:a.position||{x:0,y:0},distance:{x:n.x-a.internals.positionAbsolute.x,y:n.y-a.internals.positionAbsolute.y},extent:a.extent,parentId:a.parentId,origin:a.origin,expandParent:a.expandParent,internals:{positionAbsolute:a.internals.positionAbsolute||{x:0,y:0}},measured:{width:a.measured.width??0,height:a.measured.height??0}})}return i}function di({nodeId:e,dragItems:t,nodeLookup:n,dragging:r=!0}){const i=[];for(const[o,a]of t){const l=n.get(o)?.internals.userNode;l&&i.push({...l,position:a.position,dragging:r})}if(!e)return[i[0],i];const s=n.get(e)?.internals.userNode;return[s?{...s,position:t.get(e)?.position||s.position,dragging:r}:i[0],i]}function Fg({onNodeMouseDown:e,getStoreItems:t,onDragStart:n,onDrag:r,onDragStop:i}){let s={x:null,y:null},o=0,a=new Map,l=!1,c={x:0,y:0},u=null,d=!1,f=null,h=!1;function g({noDragClassName:v,handleSelector:m,domNode:E,isSelectable:x,nodeId:b,nodeClickDistance:N=0}){f=rt(E);function S({x:M,y},_){const{nodeLookup:C,nodeExtent:p,snapGrid:P,snapToGrid:O,nodeOrigin:L,onNodeDrag:W,onSelectionDrag:X,onError:G,updateNodePositions:te}=t();s={x:M,y};let se=!1,R={x:0,y:0,x2:0,y2:0};if(a.size>1&&p){const z=Ur(a);R=ko(z)}for(const[z,T]of a){if(!C.has(z))continue;let H={x:M-T.distance.x,y:y-T.distance.y};O&&(H=ei(H,P));let Y=[[p[0][0],p[0][1]],[p[1][0],p[1][1]]];if(a.size>1&&p&&!T.extent){const{positionAbsolute:U}=T.internals,ee=U.x-R.x+p[0][0],Q=U.x+T.measured.width-R.x2+p[1][0],F=U.y-R.y+p[0][1],B=U.y+T.measured.height-R.y2+p[1][1];Y=[[ee,F],[Q,B]]}const{position:V,positionAbsolute:j}=yu({nodeId:z,nextPosition:H,nodeLookup:C,nodeExtent:Y,nodeOrigin:L,onError:G});se=se||T.position.x!==V.x||T.position.y!==V.y,T.position=V,T.internals.positionAbsolute=j}if(se&&(te(a,!0),_&&(r||W||!b&&X))){const[z,T]=di({nodeId:b,dragItems:a,nodeLookup:C});r?.(_,a,z,T),W?.(_,z,T),b||X?.(_,T)}}async function D(){if(!u)return;const{transform:M,panBy:y,autoPanSpeed:_,autoPanOnNodeDrag:C}=t();if(!C){l=!1,cancelAnimationFrame(o);return}const[p,P]=wu(c,u,_);(p!==0||P!==0)&&(s.x=(s.x??0)-p/M[2],s.y=(s.y??0)-P/M[2],await y({x:p,y:P})&&S(s,null)),o=requestAnimationFrame(D)}function k(M){const{nodeLookup:y,multiSelectionActive:_,nodesDraggable:C,transform:p,snapGrid:P,snapToGrid:O,selectNodesOnDrag:L,onNodeDragStart:W,onSelectionDragStart:X,unselectNodesAndEdges:G}=t();d=!0,(!L||!x)&&!_&&b&&(y.get(b)?.selected||G()),x&&L&&b&&e?.(b);const te=ci(M.sourceEvent,{transform:p,snapGrid:P,snapToGrid:O,containerBounds:u});if(s=te,a=Yg(y,C,te,b),a.size>0&&(n||W||!b&&X)){const[se,R]=di({nodeId:b,dragItems:a,nodeLookup:y});n?.(M.sourceEvent,a,se,R),W?.(M.sourceEvent,se,R),b||X?.(M.sourceEvent,R)}}const I=gh().clickDistance(N).on("start",M=>{const{domNode:y,nodeDragThreshold:_,transform:C,snapGrid:p,snapToGrid:P}=t();u=y?.getBoundingClientRect()||null,h=!1,_===0&&k(M),s=ci(M.sourceEvent,{transform:C,snapGrid:p,snapToGrid:P,containerBounds:u}),c=kt(M.sourceEvent,u)}).on("drag",M=>{const{autoPanOnNodeDrag:y,transform:_,snapGrid:C,snapToGrid:p,nodeDragThreshold:P,nodeLookup:O}=t(),L=ci(M.sourceEvent,{transform:_,snapGrid:C,snapToGrid:p,containerBounds:u});if((M.sourceEvent.type==="touchmove"&&M.sourceEvent.touches.length>1||b&&!O.has(b))&&(h=!0),!h){if(!l&&y&&d&&(l=!0,D()),!d){const W=L.xSnapped-(s.x??0),X=L.ySnapped-(s.y??0);Math.sqrt(W*W+X*X)>P&&k(M)}(s.x!==L.xSnapped||s.y!==L.ySnapped)&&a&&d&&(c=kt(M.sourceEvent,u),S(L,M.sourceEvent))}}).on("end",M=>{if(!(!d||h)&&(l=!1,d=!1,cancelAnimationFrame(o),a.size>0)){const{nodeLookup:y,updateNodePositions:_,onNodeDragStop:C,onSelectionDragStop:p}=t();if(_(a,!1),i||C||!b&&p){const[P,O]=di({nodeId:b,dragItems:a,nodeLookup:y,dragging:!1});i?.(M.sourceEvent,a,P,O),C?.(M.sourceEvent,P,O),b||p?.(M.sourceEvent,O)}}}).filter(M=>{const y=M.target;return!M.button&&(!v||!js(y,`.${v}`,E))&&(!m||js(y,m,E))});f.call(I)}function w(){f?.on(".drag",null)}return{update:g,destroy:w}}function qg(e,t,n){const r=[],i={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const s of t.values())Fn(i,$n(s))>0&&r.push(s);return r}const Wg=250;function Bg(e,t,n,r){let i=[],s=1/0;const o=qg(e,n,t+Wg);for(const a of o){const l=[...a.internals.handleBounds?.source??[],...a.internals.handleBounds?.target??[]];for(const c of l){if(r.nodeId===c.nodeId&&r.type===c.type&&r.id===c.id)continue;const{x:u,y:d}=qn(a,c,c.position,!0),f=Math.sqrt(Math.pow(u-e.x,2)+Math.pow(d-e.y,2));f>t||(f<s?(i=[{...c,x:u,y:d}],s=f):f===s&&i.push({...c,x:u,y:d}))}}if(!i.length)return null;if(i.length>1){const a=r.type==="source"?"target":"source";return i.find(l=>l.type===a)??i[0]}return i[0]}function Ou(e,t,n,r,i,s=!1){const o=r.get(e);if(!o)return null;const a=i==="strict"?o.internals.handleBounds?.[t]:[...o.internals.handleBounds?.source??[],...o.internals.handleBounds?.target??[]],l=(n?a?.find(c=>c.id===n):a?.[0])??null;return l&&s?{...l,...qn(o,l,l.position,!0)}:l}function Au(e,t){return e||(t?.classList.contains("target")?"target":t?.classList.contains("source")?"source":null)}function Xg(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}const Mu=()=>!0;function Kg(e,{connectionMode:t,connectionRadius:n,handleId:r,nodeId:i,edgeUpdaterType:s,isTarget:o,domNode:a,nodeLookup:l,lib:c,autoPanOnConnect:u,flowId:d,panBy:f,cancelConnection:h,onConnectStart:g,onConnect:w,onConnectEnd:v,isValidConnection:m=Mu,onReconnectEnd:E,updateConnection:x,getTransform:b,getFromHandle:N,autoPanSpeed:S}){const D=xu(e.target);let k=0,I;const{x:M,y}=kt(e),_=D?.elementFromPoint(M,y),C=Au(s,_),p=a?.getBoundingClientRect();if(!p||!C)return;const P=Ou(i,C,r,l,t);if(!P)return;let O=kt(e,p),L=!1,W=null,X=!1,G=null;function te(){if(!u||!p)return;const[j,U]=wu(O,p,S);f({x:j,y:U}),k=requestAnimationFrame(te)}const se={...P,nodeId:i,type:C,position:P.position},R=l.get(i),T={inProgress:!0,isValid:null,from:qn(R,se,be.Left,!0),fromHandle:se,fromPosition:se.position,fromNode:R,to:O,toHandle:null,toPosition:Rs[se.position],toNode:null};x(T);let H=T;g?.(e,{nodeId:i,handleId:r,handleType:C});function Y(j){if(!N()||!se){V(j);return}const U=b();O=kt(j,p),I=Bg(Qn(O,U,!1,[1,1]),n,l,se),L||(te(),L=!0);const ee=Tu(j,{handle:I,connectionMode:t,fromNodeId:i,fromHandleId:r,fromType:o?"target":"source",isValidConnection:m,doc:D,lib:c,flowId:d,nodeLookup:l});G=ee.handleDomNode,W=ee.connection,X=Xg(!!I,ee.isValid);const Q={...H,isValid:X,to:ee.toHandle&&X?Cr({x:ee.toHandle.x,y:ee.toHandle.y},U):O,toHandle:ee.toHandle,toPosition:X&&ee.toHandle?ee.toHandle.position:Rs[se.position],toNode:ee.toHandle?l.get(ee.toHandle.nodeId):null};X&&I&&H.toHandle&&Q.toHandle&&H.toHandle.type===Q.toHandle.type&&H.toHandle.nodeId===Q.toHandle.nodeId&&H.toHandle.id===Q.toHandle.id&&H.to.x===Q.to.x&&H.to.y===Q.to.y||(x(Q),H=Q)}function V(j){(I||G)&&W&&X&&w?.(W);const{inProgress:U,...ee}=H,Q={...ee,toPosition:H.toHandle?H.toPosition:null};v?.(j,Q),s&&E?.(j,Q),h(),cancelAnimationFrame(k),L=!1,X=!1,W=null,G=null,D.removeEventListener("mousemove",Y),D.removeEventListener("mouseup",V),D.removeEventListener("touchmove",Y),D.removeEventListener("touchend",V)}D.addEventListener("mousemove",Y),D.addEventListener("mouseup",V),D.addEventListener("touchmove",Y),D.addEventListener("touchend",V)}function Tu(e,{handle:t,connectionMode:n,fromNodeId:r,fromHandleId:i,fromType:s,doc:o,lib:a,flowId:l,isValidConnection:c=Mu,nodeLookup:u}){const d=s==="target",f=t?o.querySelector(`.${a}-flow__handle[data-id="${l}-${t?.nodeId}-${t?.id}-${t?.type}"]`):null,{x:h,y:g}=kt(e),w=o.elementFromPoint(h,g),v=w?.classList.contains(`${a}-flow__handle`)?w:f,m={handleDomNode:v,isValid:!1,connection:null,toHandle:null};if(v){const E=Au(void 0,v),x=v.getAttribute("data-nodeid"),b=v.getAttribute("data-handleid"),N=v.classList.contains("connectable"),S=v.classList.contains("connectableend");if(!x||!E)return m;const D={source:d?x:r,sourceHandle:d?b:i,target:d?r:x,targetHandle:d?i:b};m.connection=D;const I=N&&S&&(n===fn.Strict?d&&E==="source"||!d&&E==="target":x!==r||b!==i);m.isValid=I&&c(D),m.toHandle=Ou(x,E,b,u,n,!0)}return m}const Gs={onPointerDown:Kg,isValid:Tu},jg=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,ti=e=>({x:e.x,y:e.y,zoom:e.k}),fi=({x:e,y:t,zoom:n})=>Zr.translate(e,t).scale(n),nn=(e,t)=>e.target.closest(`.${t}`),Du=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),hi=(e,t=0,n=()=>{})=>{const r=typeof t=="number"&&t>0;return r||n(),r?e.transition().duration(t).on("end",n):e},Ru=e=>{const t=e.ctrlKey&&Ir()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function Gg({zoomPanValues:e,noWheelClassName:t,d3Selection:n,d3Zoom:r,panOnScrollMode:i,panOnScrollSpeed:s,zoomOnPinch:o,onPanZoomStart:a,onPanZoom:l,onPanZoomEnd:c}){return u=>{if(nn(u,t))return!1;u.preventDefault(),u.stopImmediatePropagation();const d=n.property("__zoom").k||1;if(u.ctrlKey&&o){const v=dt(u),m=Ru(u),E=d*Math.pow(2,m);r.scaleTo(n,E,v,u);return}const f=u.deltaMode===1?20:1;let h=i===Rt.Vertical?0:u.deltaX*f,g=i===Rt.Horizontal?0:u.deltaY*f;!Ir()&&u.shiftKey&&i!==Rt.Vertical&&(h=u.deltaY*f,g=0),r.translateBy(n,-(h/d)*s,-(g/d)*s,{internal:!0});const w=ti(n.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling||(e.isPanScrolling=!0,a?.(u,w)),e.isPanScrolling&&(l?.(u,w),e.panScrollTimeout=setTimeout(()=>{c?.(u,w),e.isPanScrolling=!1},150))}}function Zg({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:n}){return function(r,i){const s=r.type==="wheel",o=!t&&s&&!r.ctrlKey,a=nn(r,e);if(r.ctrlKey&&s&&a&&r.preventDefault(),o||a)return null;r.preventDefault(),n.call(this,r,i)}}function Ug({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:n}){return r=>{if(r.sourceEvent?.internal)return;const i=ti(r.transform);e.mouseButton=r.sourceEvent?.button||0,e.isZoomingOrPanning=!0,e.prevViewport=i,r.sourceEvent?.type==="mousedown"&&t(!0),n&&n?.(r.sourceEvent,i)}}function Qg({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:n,onTransformChange:r,onPanZoom:i}){return s=>{e.usedRightMouseButton=!!(n&&Du(t,e.mouseButton??0)),s.sourceEvent?.sync||r([s.transform.x,s.transform.y,s.transform.k]),i&&!s.sourceEvent?.internal&&i?.(s.sourceEvent,ti(s.transform))}}function Jg({zoomPanValues:e,panOnDrag:t,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:i,onPaneContextMenu:s}){return o=>{if(!o.sourceEvent?.internal&&(e.isZoomingOrPanning=!1,s&&Du(t,e.mouseButton??0)&&!e.usedRightMouseButton&&o.sourceEvent&&s(o.sourceEvent),e.usedRightMouseButton=!1,r(!1),i&&jg(e.prevViewport,o.transform))){const a=ti(o.transform);e.prevViewport=a,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{i?.(o.sourceEvent,a)},n?150:0)}}}function ep({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:n,panOnDrag:r,panOnScroll:i,zoomOnDoubleClick:s,userSelectionActive:o,noWheelClassName:a,noPanClassName:l,lib:c}){return u=>{const d=e||t,f=n&&u.ctrlKey;if(u.button===1&&u.type==="mousedown"&&(nn(u,`${c}-flow__node`)||nn(u,`${c}-flow__edge`)))return!0;if(!r&&!d&&!i&&!s&&!n||o||nn(u,a)&&u.type==="wheel"||nn(u,l)&&(u.type!=="wheel"||i&&u.type==="wheel"&&!e)||!n&&u.ctrlKey&&u.type==="wheel")return!1;if(!n&&u.type==="touchstart"&&u.touches?.length>1)return u.preventDefault(),!1;if(!d&&!i&&!f&&u.type==="wheel"||!r&&(u.type==="mousedown"||u.type==="touchstart")||Array.isArray(r)&&!r.includes(u.button)&&u.type==="mousedown")return!1;const h=Array.isArray(r)&&r.includes(u.button)||!u.button||u.button<=1;return(!u.ctrlKey||u.type==="wheel")&&h}}function tp({domNode:e,minZoom:t,maxZoom:n,paneClickDistance:r,translateExtent:i,viewport:s,onPanZoom:o,onPanZoomStart:a,onPanZoomEnd:l,onDraggingChange:c}){const u={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},d=e.getBoundingClientRect(),f=og().clickDistance(!_t(r)||r<0?0:r).scaleExtent([t,n]).translateExtent(i),h=rt(e).call(f);x({x:s.x,y:s.y,zoom:hn(s.zoom,t,n)},[[0,0],[d.width,d.height]],i);const g=h.on("wheel.zoom"),w=h.on("dblclick.zoom");f.wheelDelta(Ru);function v(_,C){return h?new Promise(p=>{f?.transform(hi(h,C?.duration,()=>p(!0)),_)}):Promise.resolve(!1)}function m({noWheelClassName:_,noPanClassName:C,onPaneContextMenu:p,userSelectionActive:P,panOnScroll:O,panOnDrag:L,panOnScrollMode:W,panOnScrollSpeed:X,preventScrolling:G,zoomOnPinch:te,zoomOnScroll:se,zoomOnDoubleClick:R,zoomActivationKeyPressed:z,lib:T,onTransformChange:H}){P&&!u.isZoomingOrPanning&&E();const V=O&&!z&&!P?Gg({zoomPanValues:u,noWheelClassName:_,d3Selection:h,d3Zoom:f,panOnScrollMode:W,panOnScrollSpeed:X,zoomOnPinch:te,onPanZoomStart:a,onPanZoom:o,onPanZoomEnd:l}):Zg({noWheelClassName:_,preventScrolling:G,d3ZoomHandler:g});if(h.on("wheel.zoom",V,{passive:!1}),!P){const U=Ug({zoomPanValues:u,onDraggingChange:c,onPanZoomStart:a});f.on("start",U);const ee=Qg({zoomPanValues:u,panOnDrag:L,onPaneContextMenu:!!p,onPanZoom:o,onTransformChange:H});f.on("zoom",ee);const Q=Jg({zoomPanValues:u,panOnDrag:L,panOnScroll:O,onPaneContextMenu:p,onPanZoomEnd:l,onDraggingChange:c});f.on("end",Q)}const j=ep({zoomActivationKeyPressed:z,panOnDrag:L,zoomOnScroll:se,panOnScroll:O,zoomOnDoubleClick:R,zoomOnPinch:te,userSelectionActive:P,noPanClassName:C,noWheelClassName:_,lib:T});f.filter(j),R?h.on("dblclick.zoom",w):h.on("dblclick.zoom",null)}function E(){f.on("zoom",null)}async function x(_,C,p){const P=fi(_),O=f?.constrain()(P,C,p);return O&&await v(O),new Promise(L=>L(O))}async function b(_,C){const p=fi(_);return await v(p,C),new Promise(P=>P(p))}function N(_){if(h){const C=fi(_),p=h.property("__zoom");(p.k!==_.zoom||p.x!==_.x||p.y!==_.y)&&f?.transform(h,C,null,{sync:!0})}}function S(){const _=h?gu(h.node()):{x:0,y:0,k:1};return{x:_.x,y:_.y,zoom:_.k}}function D(_,C){return h?new Promise(p=>{f?.scaleTo(hi(h,C?.duration,()=>p(!0)),_)}):Promise.resolve(!1)}function k(_,C){return h?new Promise(p=>{f?.scaleBy(hi(h,C?.duration,()=>p(!0)),_)}):Promise.resolve(!1)}function I(_){f?.scaleExtent(_)}function M(_){f?.translateExtent(_)}function y(_){const C=!_t(_)||_<0?0:_;f?.clickDistance(C)}return{update:m,destroy:E,setViewport:b,setViewportConstrained:x,getViewport:S,scaleTo:D,scaleBy:k,setScaleExtent:I,setTranslateExtent:M,syncViewport:N,setClickDistance:y}}var Zs;(function(e){e.Line="line",e.Handle="handle"})(Zs||(Zs={}));var np=ze("<div><!></div>");function pn(e,t){we(t,!0);let n=J(t,"id",3,null),r=J(t,"type",3,"source"),i=J(t,"position",19,()=>be.Top),s=J(t,"isConnectableStart",3,!0),o=J(t,"isConnectableEnd",3,!0),a=jn(t,["$$slots","$$events","$$legacy","id","type","position","style","class","isConnectable","isConnectableStart","isConnectableEnd","isValidConnection","onconnect","ondisconnect","children"]);const l=On("svelteflow__node_id"),c=On("svelteflow__node_connectable");let u=A(()=>r()==="target"),d=A(()=>t.isConnectable!==void 0?t.isConnectable:c.value),f=Ut(),h=null;ml(()=>{if(t.onconnect||t.ondisconnect){f.edges;let y=f.connectionLookup.get(`${l}-${r()}${n()?`-${n()}`:""}`);if(h&&!sg(y,h)){const _=y??new Map;zs(h,_,t.ondisconnect),zs(_,h,t.onconnect)}h=new Map(y)}});let g=A(()=>{if(!f.connection.inProgress)return[!1,!1,!1,!1,null];const{fromHandle:y,toHandle:_,isValid:C}=f.connection,p=y&&y.nodeId===l&&y.type===r()&&y.id===n(),P=_&&_.nodeId===l&&_.type===r()&&_.id===n(),O=f.connectionMode===fn.Strict?y?.type!==r():l!==y?.nodeId||n()!==y?.id;return[!0,p,P,O,P&&C]}),w=A(()=>{let[y,_,C,p,P]=$(g);return y}),v=A(()=>{let[y,_,C,p,P]=$(g);return _}),m=A(()=>{let[y,_,C,p,P]=$(g);return C}),E=A(()=>{let[y,_,C,p,P]=$(g);return p}),x=A(()=>{let[y,_,C,p,P]=$(g);return P});function b(y){const _=f.onbeforeconnect?.(y)??y;_&&(f.addEdge(_),f.onconnect?.(y))}function N(y){const _=ku(y);(_&&y.button===0||!_)&&Gs.onPointerDown(y,{handleId:n(),nodeId:l,isTarget:$(u),connectionRadius:f.connectionRadius,domNode:f.domNode,nodeLookup:f.nodeLookup,connectionMode:f.connectionMode,lib:"svelte",autoPanOnConnect:f.autoPanOnConnect,flowId:f.flowId,isValidConnection:t.isValidConnection??f.isValidConnection,updateConnection:f.updateConnection,cancelConnection:f.cancelConnection,panBy:f.panBy,onConnect:b,onConnectStart:(C,p)=>{f.onconnectstart?.(C,{nodeId:p.nodeId,handleId:p.handleId,handleType:p.handleType})},onConnectEnd:(C,p)=>{f.onconnectend?.(C,p)},getTransform:()=>[f.viewport.x,f.viewport.y,f.viewport.zoom],getFromHandle:()=>f.connection.fromHandle})}function S(y){if(!l||!f.clickConnectStartHandle&&!s())return;if(!f.clickConnectStartHandle){f.onclickconnectstart?.(y,{nodeId:l,handleId:n(),handleType:r()}),f.clickConnectStartHandle={nodeId:l,type:r(),id:n()};return}const _=xu(y.target),C=t.isValidConnection??f.isValidConnection,{connectionMode:p,clickConnectStartHandle:P,flowId:O,nodeLookup:L}=f,{connection:W,isValid:X}=Gs.isValid(y,{handle:{nodeId:l,id:n(),type:r()},connectionMode:p,fromNodeId:P.nodeId,fromHandleId:P.id??null,fromType:P.type,isValidConnection:C,flowId:O,doc:_,lib:"svelte",nodeLookup:L});X&&W&&b(W);const G=structuredClone(al(f.connection));delete G.inProgress,G.toPosition=G.toHandle?G.toHandle.position:null,f.onclickconnectend?.(y,G),f.clickConnectStartHandle=null}var D=np(),k=()=>{};let I;var M=Ie(D);Pt(M,()=>t.children??Ze),Ae(y=>I=Kn(D,I,{"data-handleid":n(),"data-nodeid":l,"data-handlepos":i(),"data-id":`${f.flowId??""}-${l??""}-${n()??"null"??""}-${r()??""}`,class:["svelte-flow__handle",`svelte-flow__handle-${i()}`,f.noDragClass,f.noPanClass,i(),t.class],onmousedown:N,ontouchstart:N,onclick:f.clickConnect?S:void 0,onkeypress:k,style:t.style,role:"button",tabindex:"-1",...a,[tn]:y}),[()=>({valid:$(x),connectingto:$(m),connectingfrom:$(v),source:!$(u),target:$(u),connectablestart:s(),connectableend:o(),connectable:$(d),connectionindicator:$(d)&&(!$(w)||$(E))&&($(w)||f.clickConnectStartHandle?o():s())})]),me(e,D),_e()}var rp=ze("<!> <!>",1);function zu(e,t){we(t,!0);let n=J(t,"targetPosition",19,()=>be.Top),r=J(t,"sourcePosition",19,()=>be.Bottom);var i=rp(),s=Le(i);pn(s,{type:"target",get position(){return n()}});var o=ke(s),a=ke(o);pn(a,{type:"source",get position(){return r()}}),Ae(()=>Gt(o,` ${t.data?.label??""} `)),me(e,i),_e()}var ip=ze(" <!>",1);function op(e,t){we(t,!0);let n=J(t,"data",19,()=>({label:"Node"})),r=J(t,"sourcePosition",19,()=>be.Bottom);var i=ip(),s=Le(i),o=ke(s);pn(o,{type:"source",get position(){return r()}}),Ae(()=>Gt(s,`${n()?.label??""} `)),me(e,i),_e()}var sp=ze(" <!>",1);function ap(e,t){we(t,!0);let n=J(t,"data",19,()=>({label:"Node"})),r=J(t,"targetPosition",19,()=>be.Top);var i=sp(),s=Le(i),o=ke(s);pn(o,{type:"target",get position(){return r()}}),Ae(()=>Gt(s,`${n()?.label??""} `)),me(e,i),_e()}function lp(e,t){}function Us(e,t,n){if(!n||!t)return;const r=n==="root"?t:t.querySelector(`.svelte-flow__${n}`);r&&r.appendChild(e)}function up(e,t){const n=Ut();let r=t;return Us(e,n.domNode,t),{async update(i){i!==r&&(e.parentNode?.removeChild(e),r=i),Us(e,n.domNode,i)},destroy(){e.parentNode&&e.parentNode.removeChild(e)}}}const Qs=e=>lg(e),cp=e=>vu(e);function pt(e){return e===void 0?void 0:`${e}px`}const Or={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var dp=ze("<div><!></div>");function fp(e,t){we(t,!0);let n=J(t,"x",3,0),r=J(t,"y",3,0),i=J(t,"selectEdgeOnClick",3,!1),s=J(t,"transparent",3,!1),o=jn(t,["$$slots","$$events","$$legacy","x","y","width","height","selectEdgeOnClick","transparent","class","children"]);const a=Ut(),l=On("svelteflow__edge_id");let c=A(()=>a.visible.edges.get(l)?.zIndex);var u=dp(),d=()=>{i()&&l&&a.handleEdgeSelection(l)};let f;var h=Ie(u);Pt(h,()=>t.children??Ze),Be(u,(g,w)=>up?.(g,w),()=>"edge-labels"),Ae((g,w)=>f=Kn(u,f,{class:["svelte-flow__edge-label",{transparent:s()},t.class],role:"button",tabindex:"-1",onclick:d,...o,[At]:{cursor:i()?"pointer":void 0,transform:`translate(-50%, -50%) translate(${n()??""}px,${r()??""}px)`,"pointer-events":"all",width:g,height:w,"z-index":$(c)}},"svelte-w2n27y"),[()=>pt(t.width),()=>pt(t.height)]),me(e,u),_e()}var hp=tt("<path></path>"),$p=tt('<path fill="none"></path><!><!>',1);function ni(e,t){let n=J(t,"interactionWidth",3,20),r=jn(t,["$$slots","$$events","$$legacy","id","path","label","labelX","labelY","labelStyle","markerStart","markerEnd","style","interactionWidth","class"]);var i=$p(),s=Le(i),o=ke(s);{var a=u=>{var d=hp();let f;Ae(()=>f=Kn(d,f,{d:t.path,"stroke-opacity":0,"stroke-width":n(),fill:"none",class:"svelte-flow__edge-interaction",...r})),me(u,d)};Fe(o,u=>{n()>0&&u(a)})}var l=ke(o);{var c=u=>{fp(u,{get x(){return t.labelX},get y(){return t.labelY},get style(){return t.labelStyle},selectEdgeOnClick:!0,children:(d,f)=>{var h=Tl();Ae(()=>Gt(h,t.label)),me(d,h)},$$slots:{default:!0}})};Fe(l,u=>{t.label&&u(c)})}Ae(()=>{ye(s,"id",t.id),ye(s,"d",t.path),lt(s,0,Ct(["svelte-flow__edge-path",t.class])),ye(s,"marker-start",t.markerStart),ye(s,"marker-end",t.markerEnd),et(s,t.style)}),me(e,i)}function Hu(e,t){we(t,!0);let n=A(()=>Su({sourceX:t.sourceX,sourceY:t.sourceY,targetX:t.targetX,targetY:t.targetY,sourcePosition:t.sourcePosition,targetPosition:t.targetPosition,curvature:t.pathOptions?.curvature})),r=A(()=>{let[o,a,l]=$(n);return o}),i=A(()=>{let[o,a,l]=$(n);return a}),s=A(()=>{let[o,a,l]=$(n);return l});ni(e,{get id(){return t.id},get path(){return $(r)},get labelX(){return $(i)},get labelY(){return $(s)},get label(){return t.label},get labelStyle(){return t.labelStyle},get markerStart(){return t.markerStart},get markerEnd(){return t.markerEnd},get interactionWidth(){return t.interactionWidth},get style(){return t.style}}),_e()}function gp(e,t){we(t,!0);let n=A(()=>Zo({sourceX:t.sourceX,sourceY:t.sourceY,targetX:t.targetX,targetY:t.targetY,sourcePosition:t.sourcePosition,targetPosition:t.targetPosition})),r=A(()=>{let[o,a,l]=$(n);return o}),i=A(()=>{let[o,a,l]=$(n);return a}),s=A(()=>{let[o,a,l]=$(n);return l});ni(e,{get path(){return $(r)},get labelX(){return $(i)},get labelY(){return $(s)},get label(){return t.label},get labelStyle(){return t.labelStyle},get markerStart(){return t.markerStart},get markerEnd(){return t.markerEnd},get interactionWidth(){return t.interactionWidth},get style(){return t.style}}),_e()}function pp(e,t){we(t,!0);let n=A(()=>Pu({sourceX:t.sourceX,sourceY:t.sourceY,targetX:t.targetX,targetY:t.targetY})),r=A(()=>{let[o,a,l]=$(n);return o}),i=A(()=>{let[o,a,l]=$(n);return a}),s=A(()=>{let[o,a,l]=$(n);return l});ni(e,{get path(){return $(r)},get labelX(){return $(i)},get labelY(){return $(s)},get label(){return t.label},get labelStyle(){return t.labelStyle},get markerStart(){return t.markerStart},get markerEnd(){return t.markerEnd},get interactionWidth(){return t.interactionWidth},get style(){return t.style}}),_e()}function vp(e,t){we(t,!0);let n=A(()=>Zo({sourceX:t.sourceX,sourceY:t.sourceY,targetX:t.targetX,targetY:t.targetY,sourcePosition:t.sourcePosition,targetPosition:t.targetPosition,borderRadius:0})),r=A(()=>{let[o,a,l]=$(n);return o}),i=A(()=>{let[o,a,l]=$(n);return a}),s=A(()=>{let[o,a,l]=$(n);return l});ni(e,{get path(){return $(r)},get labelX(){return $(i)},get labelY(){return $(s)},get label(){return t.label},get labelStyle(){return t.labelStyle},get markerStart(){return t.markerStart},get markerEnd(){return t.markerEnd},get interactionWidth(){return t.interactionWidth},get style(){return t.style}}),_e()}function mp(e){q(e,e.v+1)}function yp(e){let t=0,n=an(0),r;return()=>{Tc()&&($(n),Yr(()=>(t===0&&(r=Ye(()=>e(()=>mp(n)))),t+=1,()=>{Kc().then(()=>{t-=1,t===0&&(r?.(),r=void 0)})})))}}class bp{#e;#t;constructor(t,n){this.#e=t,this.#t=yp(n)}get current(){return this.#t(),this.#e()}}const wp=/\(.+\)/,_p=new Set(["all","print","screen","and","or","not","only"]);class xp extends bp{constructor(t,n){let r=wp.test(t)||t.split(/[\s,]+/).some(s=>_p.has(s.trim()))?t:`(${t})`;const i=window.matchMedia(r);super(()=>i.matches,s=>ho(i,"change",s))}}function Ep(e,t,n,r){const i=new Map;return mu(e,{x:0,y:0,width:n,height:r},t,!0).forEach(s=>{i.set(s.id,s)}),i}function Js(e){const{edges:t,defaultEdgeOptions:n,nodeLookup:r,previousEdges:i,connectionMode:s,onerror:o,onlyRenderVisible:a,elevateEdgesOnSelect:l}=e,c=new Map;for(const u of t){const d=r.get(u.source),f=r.get(u.target);if(!d||!f)continue;if(a){const{visibleNodes:w,transform:v,width:m,height:E}=e;if(xg({sourceNode:d,targetNode:f,width:m,height:E,transform:v}))w.set(d.id,d),w.set(f.id,f);else continue}const h=i.get(u.id);if(h&&u===h.edge&&d==h.sourceNode&&f==h.targetNode){c.set(u.id,h);continue}const g=Ig({id:u.id,sourceNode:d,targetNode:f,sourceHandle:u.sourceHandle||null,targetHandle:u.targetHandle||null,connectionMode:s,onError:o});g&&c.set(u.id,{...n,...u,...g,zIndex:_g({selected:u.selected,zIndex:u.zIndex??n.zIndex,sourceNode:d,targetNode:f,elevateOnSelect:l}),sourceNode:d,targetNode:f,edge:u})}return c}const Lu={input:op,output:ap,default:zu,group:lp},Vu={straight:pp,smoothstep:gp,default:Hu,step:vp};function kp(e){class t{#e=A(()=>e.props.id??"1");get flowId(){return $(this.#e)}set flowId(r){q(this.#e,r)}#t=xe(null);get domNode(){return $(this.#t)}set domNode(r){q(this.#t,r,!0)}#n=xe(null);get panZoom(){return $(this.#n)}set panZoom(r){q(this.#n,r,!0)}#r=xe(Ge(e.width??0));get width(){return $(this.#r)}set width(r){q(this.#r,r,!0)}#i=xe(Ge(e.height??0));get height(){return $(this.#i)}set height(r){q(this.#i,r,!0)}#o=A(()=>{const r=Tg(e.nodes,this.nodeLookup,this.parentLookup,{nodeExtent:this.nodeExtent,nodeOrigin:this.nodeOrigin,elevateNodesOnSelect:e.props.elevateNodesOnSelect??!0,checkEquality:!0});return this.fitViewQueued&&r&&(this.fitViewOptions?.duration?this.resolveFitView():queueMicrotask(()=>{this.resolveFitView()})),r});get nodesInitialized(){return $(this.#o)}set nodesInitialized(r){q(this.#o,r)}#s=A(()=>this.panZoom!==null);get viewportInitialized(){return $(this.#s)}set viewportInitialized(r){q(this.#s,r)}#a=A(()=>(Vg(this.connectionLookup,this.edgeLookup,e.edges),e.edges));get _edges(){return $(this.#a)}set _edges(r){q(this.#a,r)}get nodes(){return this.nodesInitialized,e.nodes}set nodes(r){e.nodes=r}get edges(){return this._edges}set edges(r){e.edges=r}_prevSelectedNodes=[];_prevSelectedNodeIds=new Set;#l=A(()=>{const r=this._prevSelectedNodeIds.size,i=new Set,s=this.nodes.filter(o=>(o.selected&&(i.add(o.id),this._prevSelectedNodeIds.delete(o.id)),o.selected));return(r!==i.size||this._prevSelectedNodeIds.size>0)&&(this._prevSelectedNodes=s),this._prevSelectedNodeIds=i,this._prevSelectedNodes});get selectedNodes(){return $(this.#l)}set selectedNodes(r){q(this.#l,r)}_prevSelectedEdges=[];_prevSelectedEdgeIds=new Set;#u=A(()=>{const r=this._prevSelectedEdgeIds.size,i=new Set,s=this.edges.filter(o=>(o.selected&&(i.add(o.id),this._prevSelectedEdgeIds.delete(o.id)),o.selected));return(r!==i.size||this._prevSelectedEdgeIds.size>0)&&(this._prevSelectedEdges=s),this._prevSelectedEdgeIds=i,this._prevSelectedEdges});get selectedEdges(){return $(this.#u)}set selectedEdges(r){q(this.#u,r)}selectionChangeHandlers=new Map;nodeLookup=new Map;parentLookup=new Map;connectionLookup=new Map;edgeLookup=new Map;_prevVisibleEdges=new Map;#c=A(()=>{const{nodes:r,_edges:i,_prevVisibleEdges:s,nodeLookup:o,connectionMode:a,onerror:l,onlyRenderVisibleElements:c,defaultEdgeOptions:u}=this;let d,f;const h={edges:i,defaultEdgeOptions:u,previousEdges:s,nodeLookup:o,connectionMode:a,elevateEdgesOnSelect:e.props.elevateEdgesOnSelect??!0,onerror:l};if(c){const{viewport:g,width:w,height:v}=this,m=[g.x,g.y,g.zoom];d=Ep(o,m,w,v),f=Js({...h,onlyRenderVisible:!0,visibleNodes:d,transform:m,width:w,height:v})}else d=this.nodeLookup,f=Js(h);return{nodes:d,edges:f}});get visible(){return $(this.#c)}set visible(r){q(this.#c,r)}#d=A(()=>e.props.nodesDraggable??!0);get nodesDraggable(){return $(this.#d)}set nodesDraggable(r){q(this.#d,r)}#f=A(()=>e.props.nodesConnectable??!0);get nodesConnectable(){return $(this.#f)}set nodesConnectable(r){q(this.#f,r)}#h=A(()=>e.props.elementsSelectable??!0);get elementsSelectable(){return $(this.#h)}set elementsSelectable(r){q(this.#h,r)}#$=A(()=>e.props.nodesFocusable??!0);get nodesFocusable(){return $(this.#$)}set nodesFocusable(r){q(this.#$,r)}#g=A(()=>e.props.edgesFocusable??!0);get edgesFocusable(){return $(this.#g)}set edgesFocusable(r){q(this.#g,r)}#p=A(()=>e.props.disableKeyboardA11y??!1);get disableKeyboardA11y(){return $(this.#p)}set disableKeyboardA11y(r){q(this.#p,r)}#v=A(()=>e.props.minZoom??.5);get minZoom(){return $(this.#v)}set minZoom(r){q(this.#v,r)}#m=A(()=>e.props.maxZoom??2);get maxZoom(){return $(this.#m)}set maxZoom(r){q(this.#m,r)}#y=A(()=>e.props.nodeOrigin??[0,0]);get nodeOrigin(){return $(this.#y)}set nodeOrigin(r){q(this.#y,r)}#b=A(()=>e.props.nodeExtent??xo);get nodeExtent(){return $(this.#b)}set nodeExtent(r){q(this.#b,r)}#w=A(()=>e.props.translateExtent??xo);get translateExtent(){return $(this.#w)}set translateExtent(r){q(this.#w,r)}#_=A(()=>e.props.defaultEdgeOptions??{});get defaultEdgeOptions(){return $(this.#_)}set defaultEdgeOptions(r){q(this.#_,r)}#x=A(()=>e.props.nodeDragThreshold??1);get nodeDragThreshold(){return $(this.#x)}set nodeDragThreshold(r){q(this.#x,r)}#E=A(()=>e.props.autoPanOnNodeDrag??!0);get autoPanOnNodeDrag(){return $(this.#E)}set autoPanOnNodeDrag(r){q(this.#E,r)}#k=A(()=>e.props.autoPanOnConnect??!0);get autoPanOnConnect(){return $(this.#k)}set autoPanOnConnect(r){q(this.#k,r)}fitViewQueued=e.props.fitView??!1;fitViewOptions=e.props.fitViewOptions;fitViewResolver=null;#S=A(()=>e.props.snapGrid??null);get snapGrid(){return $(this.#S)}set snapGrid(r){q(this.#S,r)}#N=xe(!1);get dragging(){return $(this.#N)}set dragging(r){q(this.#N,r,!0)}#P=xe(null);get selectionRect(){return $(this.#P)}set selectionRect(r){q(this.#P,r,!0)}#C=xe(!1);get selectionKeyPressed(){return $(this.#C)}set selectionKeyPressed(r){q(this.#C,r,!0)}#I=xe(!1);get multiselectionKeyPressed(){return $(this.#I)}set multiselectionKeyPressed(r){q(this.#I,r,!0)}#O=xe(!1);get deleteKeyPressed(){return $(this.#O)}set deleteKeyPressed(r){q(this.#O,r,!0)}#A=xe(!1);get panActivationKeyPressed(){return $(this.#A)}set panActivationKeyPressed(r){q(this.#A,r,!0)}#M=xe(!1);get zoomActivationKeyPressed(){return $(this.#M)}set zoomActivationKeyPressed(r){q(this.#M,r,!0)}#T=xe(null);get selectionRectMode(){return $(this.#T)}set selectionRectMode(r){q(this.#T,r,!0)}#D=xe("");get ariaLiveMessage(){return $(this.#D)}set ariaLiveMessage(r){q(this.#D,r,!0)}#R=A(()=>e.props.selectionMode??Sr.Partial);get selectionMode(){return $(this.#R)}set selectionMode(r){q(this.#R,r)}#z=A(()=>({...Lu,...e.props.nodeTypes}));get nodeTypes(){return $(this.#z)}set nodeTypes(r){q(this.#z,r)}#H=A(()=>({...Vu,...e.props.edgeTypes}));get edgeTypes(){return $(this.#H)}set edgeTypes(r){q(this.#H,r)}#L=A(()=>e.props.noPanClass??"nopan");get noPanClass(){return $(this.#L)}set noPanClass(r){q(this.#L,r)}#V=A(()=>e.props.noDragClass??"nodrag");get noDragClass(){return $(this.#V)}set noDragClass(r){q(this.#V,r)}#Y=A(()=>e.props.noWheelClass??"nowheel");get noWheelClass(){return $(this.#Y)}set noWheelClass(r){q(this.#Y,r)}#F=xe(Ge(e.props.initialViewport??{x:0,y:0,zoom:1}));get _viewport(){return $(this.#F)}set _viewport(r){q(this.#F,r,!0)}get viewport(){return e.viewport??this._viewport}set viewport(r){e.viewport&&(e.viewport=r),this._viewport=r}#q=xe(Ge(Eo));get _connection(){return $(this.#q)}set _connection(r){q(this.#q,r,!0)}#W=A(()=>this._connection.inProgress?{...this._connection,to:Qn(this._connection.to,[this.viewport.x,this.viewport.y,this.viewport.zoom])}:this._connection);get connection(){return $(this.#W)}set connection(r){q(this.#W,r)}#B=A(()=>e.props.connectionMode??fn.Strict);get connectionMode(){return $(this.#B)}set connectionMode(r){q(this.#B,r)}#X=A(()=>e.props.connectionRadius??20);get connectionRadius(){return $(this.#X)}set connectionRadius(r){q(this.#X,r)}#K=A(()=>e.props.isValidConnection??(()=>!0));get isValidConnection(){return $(this.#K)}set isValidConnection(r){q(this.#K,r)}#j=A(()=>e.props.selectNodesOnDrag??!0);get selectNodesOnDrag(){return $(this.#j)}set selectNodesOnDrag(r){q(this.#j,r)}#G=A(()=>e.props.defaultMarkerColor??"#b1b1b7");get defaultMarkerColor(){return $(this.#G)}set defaultMarkerColor(r){q(this.#G,r)}#Z=A(()=>Og(e.edges,{defaultColor:this.defaultMarkerColor,id:this.flowId,defaultMarkerStart:this.defaultEdgeOptions.markerStart,defaultMarkerEnd:this.defaultEdgeOptions.markerEnd}));get markers(){return $(this.#Z)}set markers(r){q(this.#Z,r)}#U=A(()=>e.props.onlyRenderVisibleElements??!1);get onlyRenderVisibleElements(){return $(this.#U)}set onlyRenderVisibleElements(r){q(this.#U,r)}#Q=A(()=>e.props.onflowerror??gg);get onerror(){return $(this.#Q)}set onerror(r){q(this.#Q,r)}#J=A(()=>e.props.ondelete);get ondelete(){return $(this.#J)}set ondelete(r){q(this.#J,r)}#ee=A(()=>e.props.onbeforedelete);get onbeforedelete(){return $(this.#ee)}set onbeforedelete(r){q(this.#ee,r)}#te=A(()=>e.props.onbeforeconnect);get onbeforeconnect(){return $(this.#te)}set onbeforeconnect(r){q(this.#te,r)}#ne=A(()=>e.props.onconnect);get onconnect(){return $(this.#ne)}set onconnect(r){q(this.#ne,r)}#re=A(()=>e.props.onconnectstart);get onconnectstart(){return $(this.#re)}set onconnectstart(r){q(this.#re,r)}#ie=A(()=>e.props.onconnectend);get onconnectend(){return $(this.#ie)}set onconnectend(r){q(this.#ie,r)}#oe=A(()=>e.props.onbeforereconnect);get onbeforereconnect(){return $(this.#oe)}set onbeforereconnect(r){q(this.#oe,r)}#se=A(()=>e.props.onreconnect);get onreconnect(){return $(this.#se)}set onreconnect(r){q(this.#se,r)}#ae=A(()=>e.props.onreconnectstart);get onreconnectstart(){return $(this.#ae)}set onreconnectstart(r){q(this.#ae,r)}#le=A(()=>e.props.onreconnectend);get onreconnectend(){return $(this.#le)}set onreconnectend(r){q(this.#le,r)}#ue=A(()=>e.props.clickConnect??!0);get clickConnect(){return $(this.#ue)}set clickConnect(r){q(this.#ue,r)}#ce=A(()=>e.props.onclickconnectstart);get onclickconnectstart(){return $(this.#ce)}set onclickconnectstart(r){q(this.#ce,r)}#de=A(()=>e.props.onclickconnectend);get onclickconnectend(){return $(this.#de)}set onclickconnectend(r){q(this.#de,r)}#fe=xe(null);get clickConnectStartHandle(){return $(this.#fe)}set clickConnectStartHandle(r){q(this.#fe,r,!0)}#he=A(()=>e.props.onselectiondrag);get onselectiondrag(){return $(this.#he)}set onselectiondrag(r){q(this.#he,r)}#$e=A(()=>e.props.onselectiondragstart);get onselectiondragstart(){return $(this.#$e)}set onselectiondragstart(r){q(this.#$e,r)}#ge=A(()=>e.props.onselectiondragstop);get onselectiondragstop(){return $(this.#ge)}set onselectiondragstop(r){q(this.#ge,r)}resolveFitView=async()=>{this.panZoom&&(await fg({nodes:this.nodeLookup,width:this.width,height:this.height,panZoom:this.panZoom,minZoom:this.minZoom,maxZoom:this.maxZoom},this.fitViewOptions),this.fitViewResolver?.resolve(!0),this.fitViewQueued=!1,this.fitViewOptions=void 0,this.fitViewResolver=null)};_prefersDark=new xp("(prefers-color-scheme: dark)",e.props.colorModeSSR==="dark");#pe=A(()=>e.props.colorMode==="system"?this._prefersDark.current?"dark":"light":e.props.colorMode??"light");get colorMode(){return $(this.#pe)}set colorMode(r){q(this.#pe,r)}constructor(){if(e.props.fitView&&!e.props.initialViewport&&this.width&&this.height){const r=Ur(this.nodeLookup,{filter:i=>!!((i.width||i.initialWidth)&&(i.height||i.initialHeight))});this.viewport=Go(r,this.width,this.height,.5,2,.1)}}resetStoreValues(){this.dragging=!1,this.selectionRect=null,this.selectionRectMode=null,this.selectionKeyPressed=!1,this.multiselectionKeyPressed=!1,this.deleteKeyPressed=!1,this.panActivationKeyPressed=!1,this.zoomActivationKeyPressed=!1,this._connection=Eo,this.clickConnectStartHandle=null,this.viewport=e.props.initialViewport??{x:0,y:0,zoom:1},this.ariaLiveMessage=""}}return new t}function Ut(){const e=On(Ar);if(!e)throw new Error("To call useStore outside of <SvelteFlow /> you need to wrap your component in a <SvelteFlowProvider />");return e.getStore()}const Ar=Symbol();function Yu(e){const t=kp(e);function n(y){t.nodeTypes={...Lu,...y}}function r(y){t.edgeTypes={...Vu,...y}}function i(y){t.edges=Sg(y,t.edges)}const s=(y,_=!1)=>{t.nodes=t.nodes.map(C=>{const p=y.get(C.id);return p?{...C,position:p.position,dragging:_}:C})};function o(y){const{changes:_,updatedInternals:C}=Hg(y,t.nodeLookup,t.parentLookup,t.domNode,t.nodeOrigin);if(!C)return;Mg(t.nodeLookup,t.parentLookup,{nodeOrigin:t.nodeOrigin,nodeExtent:t.nodeExtent}),t.fitViewQueued&&t.resolveFitView();const p=new Map;for(const P of _){const O=t.nodeLookup.get(P.id)?.internals.userNode;if(!O)continue;const L={...O};switch(P.type){case"dimensions":{const W={...L.measured,...P.dimensions};P.setAttributes&&(L.width=P.dimensions?.width??L.width,L.height=P.dimensions?.height??L.height),L.measured=W;break}case"position":L.position=P.position??L.position;break}p.set(P.id,L)}t.nodes=t.nodes.map(P=>p.get(P.id)??P),t.nodesInitialized||(t.nodesInitialized=!0)}function a(y){const _=t.fitViewResolver??Promise.withResolvers();return t.fitViewQueued=!0,t.fitViewOptions=y,t.fitViewResolver=_,t.nodes=[...t.nodes],_.promise}function l(y,_){const C=t.panZoom;return C?C.scaleBy(y,_):Promise.resolve(!1)}function c(y){return l(1.2,y)}function u(y){return l(1/1.2,y)}function d(y){const _=t.panZoom;_&&(_.setScaleExtent([y,t.maxZoom]),t.minZoom=y)}function f(y){const _=t.panZoom;_&&(_.setScaleExtent([t.minZoom,y]),t.maxZoom=y)}function h(y){const _=t.panZoom;_&&(_.setTranslateExtent(y),t.translateExtent=y)}function g(y){t.panZoom?.setClickDistance(y)}function w(y,_=null){let C=!1;const p=y.map(P=>(_?_.has(P.id):!0)&&P.selected?(C=!0,{...P,selected:!1}):P);return[C,p]}function v(y){const _=y?.nodes?new Set(y.nodes.map(W=>W.id)):null,[C,p]=w(t.nodes,_);C&&(t.nodes=p);const P=y?.edges?new Set(y.edges.map(W=>W.id)):null,[O,L]=w(t.edges,P);O&&(t.edges=L)}function m(y){const _=t.multiselectionKeyPressed;t.nodes=t.nodes.map(C=>{const p=y.includes(C.id),P=_&&C.selected||p;if(C.selected!==P){const O=t.nodeLookup.get(C.id);return O&&(O.selected=P),C.selected=P,{...C}}return C}),_||v({nodes:[]})}function E(y){const _=t.multiselectionKeyPressed;t.edges=t.edges.map(C=>{const p=y.includes(C.id),P=_&&C.selected||p;return C.selected!==P?{...C,selected:P}:C}),_||v({edges:[]})}function x(y,_,C){const p=t.nodeLookup.get(y);if(!p){console.warn("012",Yn.error012(y));return}t.selectionRect=null,t.selectionRectMode=null,p.selected?(_||p.selected&&t.multiselectionKeyPressed)&&(v({nodes:[p],edges:[]}),requestAnimationFrame(()=>C?.blur())):m([y])}function b(y){const _=t.edgeLookup.get(y);if(!_){console.warn("012",Yn.error012(y));return}(_.selectable||t.elementsSelectable&&typeof _.selectable>"u")&&(t.selectionRect=null,t.selectionRectMode=null,_.selected?_.selected&&t.multiselectionKeyPressed&&v({nodes:[],edges:[_]}):E([y]))}function N(y,_){const{nodeExtent:C,snapGrid:p,nodeOrigin:P,nodeLookup:O,nodesDraggable:L,onerror:W}=t,X=new Map,G=p?.[0]??5,te=p?.[1]??5,se=y.x*G*_,R=y.y*te*_;for(const z of O.values()){if(!(z.selected&&(z.draggable||L&&typeof z.draggable>"u")))continue;let H={x:z.internals.positionAbsolute.x+se,y:z.internals.positionAbsolute.y+R};p&&(H=ei(H,p));const{position:Y,positionAbsolute:V}=yu({nodeId:z.id,nextPosition:H,nodeLookup:O,nodeExtent:C,nodeOrigin:P,onError:W});z.position=Y,z.internals.positionAbsolute=V,X.set(z.id,z)}s(X)}function S(y){return Lg({delta:y,panZoom:t.panZoom,transform:[t.viewport.x,t.viewport.y,t.viewport.zoom],translateExtent:t.translateExtent,width:t.width,height:t.height})}const D=y=>{t._connection={...y}};function k(){t._connection=Eo}function I(){t.resetStoreValues(),v()}return Object.assign(t,{setNodeTypes:n,setEdgeTypes:r,addEdge:i,updateNodePositions:s,updateNodeInternals:o,zoomIn:c,zoomOut:u,fitView:a,setMinZoom:d,setMaxZoom:f,setTranslateExtent:h,setPaneClickDistance:g,unselectNodesAndEdges:v,addSelectedNodes:m,addSelectedEdges:E,handleNodeSelection:x,handleEdgeSelection:b,moveSelectedNodes:N,panBy:S,updateConnection:D,cancelConnection:k,reset:I})}function Sp(e,t){const{minZoom:n,maxZoom:r,initialViewport:i,translateExtent:s,paneClickDistance:o,setPanZoomInstance:a,onDraggingChange:l,onTransformChange:c}=t,u=tp({domNode:e,minZoom:n,maxZoom:r,translateExtent:s,viewport:i,paneClickDistance:o,onDraggingChange:l}),d=u.getViewport();return(i.x!==d.x||i.y!==d.y||i.zoom!==d.zoom)&&c([d.x,d.y,d.zoom]),a(u),u.update(t),{update(f){u.update(f)}}}var Np=ze('<div class="svelte-flow__zoom svelte-flow__container"><!></div>');function Pp(e,t){we(t,!0);let n=J(t,"store",15),r=J(t,"panOnScrollMode",19,()=>Rt.Free),i=J(t,"preventScrolling",3,!0),s=J(t,"zoomOnScroll",3,!0),o=J(t,"zoomOnDoubleClick",3,!0),a=J(t,"zoomOnPinch",3,!0),l=J(t,"panOnDrag",3,!0),c=J(t,"panOnScroll",3,!1),u=J(t,"paneClickDistance",3,1),d=A(()=>n().panActivationKeyPressed||l()),f=A(()=>n().panActivationKeyPressed||c());const{viewport:h}=n();let g=!1;Ht(()=>{!g&&n().viewportInitialized&&(t.oninit?.(),g=!0)});var w=Np(),v=Ie(w);Pt(v,()=>t.children),Be(w,(m,E)=>Sp?.(m,E),()=>({viewport:n().viewport,minZoom:n().minZoom,maxZoom:n().maxZoom,initialViewport:h,onDraggingChange:m=>{n(n().dragging=m,!0)},setPanZoomInstance:m=>{n(n().panZoom=m,!0)},onPanZoomStart:t.onmovestart,onPanZoom:t.onmove,onPanZoomEnd:t.onmoveend,zoomOnScroll:s(),zoomOnDoubleClick:o(),zoomOnPinch:a(),panOnScroll:$(f),panOnDrag:$(d),panOnScrollSpeed:.5,panOnScrollMode:r()||Rt.Free,zoomActivationKeyPressed:n().zoomActivationKeyPressed,preventScrolling:typeof i()=="boolean"?i():!0,noPanClassName:n().noPanClass,noWheelClassName:n().noWheelClass,userSelectionActive:!!n().selectionRect,translateExtent:n().translateExtent,lib:"svelte",paneClickDistance:u(),onTransformChange:m=>{n(n().viewport={x:m[0],y:m[1],zoom:m[2]},!0)}})),me(e,w),_e()}function ea(e,t){return n=>{n.target===t&&e?.(n)}}function ta(e){return t=>{const n=e.has(t.id);return!!t.selected!==n?{...t,selected:n}:t}}function na(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}var Cp=ze("<div><!></div>");function Ip(e,t){we(t,!0);let n=J(t,"store",15),r=J(t,"panOnDrag",3,!0),i,s=null,o=new Set,a=new Set,l=A(()=>n().panActivationKeyPressed||r()),c=A(()=>n().selectionKeyPressed||n().selectionRect||t.selectionOnDrag&&$(l)!==!0),u=A(()=>n().elementsSelectable&&($(c)||n().selectionRectMode==="user")),d=!1;function f(S){if(d||n().connection.inProgress){d=!1;return}t.onpaneclick?.({event:S}),n().unselectNodesAndEdges(),n(n().selectionRectMode=null,!0)}function h(S){if(s=i?.getBoundingClientRect(),!n().elementsSelectable||!$(c)||S.button!==0||S.target!==i||!s)return;S.target?.setPointerCapture?.(S.pointerId);const{x:D,y:k}=kt(S,s);n().unselectNodesAndEdges(),n(n().selectionRect={width:0,height:0,startX:D,startY:k,x:D,y:k},!0),t.onselectionstart?.(S)}function g(S){if(!$(c)||!s||!n().selectionRect)return;d=!0;const D=kt(S,s),{startX:k=0,startY:I=0}=n().selectionRect,M={...n().selectionRect,x:D.x<k?D.x:k,y:D.y<I?D.y:I,width:Math.abs(D.x-k),height:Math.abs(D.y-I)},y=o,_=a;o=new Set(mu(n().nodeLookup,M,[n().viewport.x,n().viewport.y,n().viewport.zoom],n().selectionMode===Sr.Partial,!0).map(p=>p.id));const C=n().defaultEdgeOptions.selectable??!0;a=new Set;for(const p of o){const P=n().connectionLookup.get(p);if(P)for(const{edgeId:O}of P.values()){const L=n().edgeLookup.get(O);L&&(L.selectable??C)&&a.add(O)}}na(y,o)||n(n().nodes=n().nodes.map(ta(o)),!0),na(_,a)||n(n().edges=n().edges.map(ta(a)),!0),n(n().selectionRectMode="user",!0),n(n().selectionRect=M,!0)}function w(S){S.button===0&&(S.target?.releasePointerCapture?.(S.pointerId),!$(c)&&n().selectionRectMode==="user"&&S.target===i&&f?.(S),n(n().selectionRect=null,!0),o.size>0&&n(n().selectionRectMode="nodes",!0),n().selectionKeyPressed&&(d=!1),t.onselectionend?.(S))}const v=S=>{if(Array.isArray($(l))&&$(l).includes(2)){S.preventDefault();return}t.onpanecontextmenu?.({event:S})};var m=Cp();let E;var x=A(()=>$(u)?void 0:ea(f,i));m.__click=function(...S){$(x)?.apply(this,S)},m.__pointerdown=function(...S){($(u)?h:void 0)?.apply(this,S)},m.__pointermove=function(...S){($(u)?g:void 0)?.apply(this,S)},m.__pointerup=function(...S){($(u)?w:void 0)?.apply(this,S)};var b=A(()=>ea(v,i));m.__contextmenu=function(...S){$(b)?.apply(this,S)};var N=Ie(m);Pt(N,()=>t.children),_n(m,S=>i=S,()=>i),Ae(S=>E=lt(m,1,"svelte-flow__pane svelte-flow__container",null,E,S),[()=>({draggable:r()===!0||Array.isArray(r())&&r().includes(0),dragging:n().dragging,selection:$(c)})]),me(e,m),_e()}jt(["click","pointerdown","pointermove","pointerup","contextmenu"]);var Op=ze('<div class="svelte-flow__viewport xyflow__viewport svelte-flow__container"><!></div>');function Ap(e,t){we(t,!0);var n=Op();let r;var i=Ie(n);Pt(i,()=>t.children),Ae(()=>r=et(n,"",r,{transform:`translate(${t.store.viewport.x??""}px, ${t.store.viewport.y??""}px) scale(${t.store.viewport.zoom??""})`})),me(e,n),_e()}function Fu(e,t){const{store:n,onDrag:r,onDragStart:i,onDragStop:s,onNodeMouseDown:o}=t,a=Fg({onDrag:r,onDragStart:i,onDragStop:s,onNodeMouseDown:o,getStoreItems:()=>{const{snapGrid:c,viewport:u}=n;return{nodes:n.nodes,nodeLookup:n.nodeLookup,edges:n.edges,nodeExtent:n.nodeExtent,snapGrid:c||[0,0],snapToGrid:!!c,nodeOrigin:n.nodeOrigin,multiSelectionActive:n.multiselectionKeyPressed,domNode:n.domNode,transform:[u.x,u.y,u.zoom],autoPanOnNodeDrag:n.autoPanOnNodeDrag,nodesDraggable:n.nodesDraggable,selectNodesOnDrag:n.selectNodesOnDrag,nodeDragThreshold:n.nodeDragThreshold,unselectNodesAndEdges:n.unselectNodesAndEdges,updateNodePositions:n.updateNodePositions,onSelectionDrag:n.onselectiondrag,onSelectionDragStart:n.onselectiondragstart,onSelectionDragStop:n.onselectiondragstop,panBy:n.panBy}}});function l(c,u){if(u.disabled){a.destroy();return}a.update({domNode:c,noDragClassName:u.noDragClass,handleSelector:u.handleSelector,nodeId:u.nodeId,isSelectable:u.isSelectable,nodeClickDistance:u.nodeClickDistance})}return l(e,t),{update(c){l(e,c)},destroy(){a.destroy()}}}var Mp=ze('<div aria-live="assertive" aria-atomic="true" style="position: absolute; width: 1px; height: 1px; margin: -1px; border: 0; padding: 0; overflow: hidden; clip: rect(0px, 0px, 0px, 0px); clip-path: inset(100%);"> </div>'),Tp=ze(`<div style="display: none;">Press enter or space to select a node. <!> Press delete to remove it and escape to cancel.</div> <div style="display: none;">Press enter or space to select an edge. You can then press delete to remove it or escape to
  cancel.</div> <!>`,1);function Dp(e,t){we(t,!0);var n=Tp(),r=Le(n),i=ke(Ie(r));{var s=c=>{var u=Tl("You can then use the arrow keys to move the node around.");me(c,u)};Fe(i,c=>{t.store.disableKeyboardA11y||c(s)})}var o=ke(r,2),a=ke(o,2);{var l=c=>{var u=Mp(),d=Ie(u);Ae(()=>{ye(u,"id",`${Rp}-${t.store.flowId}`),Gt(d,t.store.ariaLiveMessage)}),me(c,u)};Fe(a,c=>{t.store.disableKeyboardA11y||c(l)})}Ae(()=>{ye(r,"id",`${qu}-${t.store.flowId}`),ye(o,"id",`${Wu}-${t.store.flowId}`)}),me(e,n),_e()}const qu="svelte-flow__node-desc",Wu="svelte-flow__edge-desc",Rp="svelte-flow__aria-live";function zp(e,t,n,r,i,s,o){$(t)&&(!n().selectNodesOnDrag||!$(r)||n().nodeDragThreshold>0)&&n().handleNodeSelection(i),s.onnodeclick?.({node:$(o),event:e})}var Hp=ze("<div><!></div>");function Lp(e,t){we(t,!0);let n=J(t,"store",15),r=A(()=>{let{data:F={},selected:B=!1,draggable:ne,selectable:re,deletable:ae=!0,connectable:K,focusable:Z,hidden:ie=!1,dragging:oe=!1,style:le="",class:ue,type:ce="default",parentId:de,sourcePosition:fe,targetPosition:he,measured:{width:$e,height:ge}={width:0,height:0},initialWidth:pe,initialHeight:ve,width:Se,height:Ne,dragHandle:Pe,internals:{z:Ce=0,positionAbsolute:{x:Ee,y:De},userNode:Re}}=t.node;return F}),i=A(()=>{let{data:F={},selected:B=!1,draggable:ne,selectable:re,deletable:ae=!0,connectable:K,focusable:Z,hidden:ie=!1,dragging:oe=!1,style:le="",class:ue,type:ce="default",parentId:de,sourcePosition:fe,targetPosition:he,measured:{width:$e,height:ge}={width:0,height:0},initialWidth:pe,initialHeight:ve,width:Se,height:Ne,dragHandle:Pe,internals:{z:Ce=0,positionAbsolute:{x:Ee,y:De},userNode:Re}}=t.node;return B}),s=A(()=>{let{data:F={},selected:B=!1,draggable:ne,selectable:re,deletable:ae=!0,connectable:K,focusable:Z,hidden:ie=!1,dragging:oe=!1,style:le="",class:ue,type:ce="default",parentId:de,sourcePosition:fe,targetPosition:he,measured:{width:$e,height:ge}={width:0,height:0},initialWidth:pe,initialHeight:ve,width:Se,height:Ne,dragHandle:Pe,internals:{z:Ce=0,positionAbsolute:{x:Ee,y:De},userNode:Re}}=t.node;return ne}),o=A(()=>{let{data:F={},selected:B=!1,draggable:ne,selectable:re,deletable:ae=!0,connectable:K,focusable:Z,hidden:ie=!1,dragging:oe=!1,style:le="",class:ue,type:ce="default",parentId:de,sourcePosition:fe,targetPosition:he,measured:{width:$e,height:ge}={width:0,height:0},initialWidth:pe,initialHeight:ve,width:Se,height:Ne,dragHandle:Pe,internals:{z:Ce=0,positionAbsolute:{x:Ee,y:De},userNode:Re}}=t.node;return re}),a=A(()=>{let{data:F={},selected:B=!1,draggable:ne,selectable:re,deletable:ae=!0,connectable:K,focusable:Z,hidden:ie=!1,dragging:oe=!1,style:le="",class:ue,type:ce="default",parentId:de,sourcePosition:fe,targetPosition:he,measured:{width:$e,height:ge}={width:0,height:0},initialWidth:pe,initialHeight:ve,width:Se,height:Ne,dragHandle:Pe,internals:{z:Ce=0,positionAbsolute:{x:Ee,y:De},userNode:Re}}=t.node;return ae}),l=A(()=>{let{data:F={},selected:B=!1,draggable:ne,selectable:re,deletable:ae=!0,connectable:K,focusable:Z,hidden:ie=!1,dragging:oe=!1,style:le="",class:ue,type:ce="default",parentId:de,sourcePosition:fe,targetPosition:he,measured:{width:$e,height:ge}={width:0,height:0},initialWidth:pe,initialHeight:ve,width:Se,height:Ne,dragHandle:Pe,internals:{z:Ce=0,positionAbsolute:{x:Ee,y:De},userNode:Re}}=t.node;return K}),c=A(()=>{let{data:F={},selected:B=!1,draggable:ne,selectable:re,deletable:ae=!0,connectable:K,focusable:Z,hidden:ie=!1,dragging:oe=!1,style:le="",class:ue,type:ce="default",parentId:de,sourcePosition:fe,targetPosition:he,measured:{width:$e,height:ge}={width:0,height:0},initialWidth:pe,initialHeight:ve,width:Se,height:Ne,dragHandle:Pe,internals:{z:Ce=0,positionAbsolute:{x:Ee,y:De},userNode:Re}}=t.node;return Z}),u=A(()=>{let{data:F={},selected:B=!1,draggable:ne,selectable:re,deletable:ae=!0,connectable:K,focusable:Z,hidden:ie=!1,dragging:oe=!1,style:le="",class:ue,type:ce="default",parentId:de,sourcePosition:fe,targetPosition:he,measured:{width:$e,height:ge}={width:0,height:0},initialWidth:pe,initialHeight:ve,width:Se,height:Ne,dragHandle:Pe,internals:{z:Ce=0,positionAbsolute:{x:Ee,y:De},userNode:Re}}=t.node;return ie}),d=A(()=>{let{data:F={},selected:B=!1,draggable:ne,selectable:re,deletable:ae=!0,connectable:K,focusable:Z,hidden:ie=!1,dragging:oe=!1,style:le="",class:ue,type:ce="default",parentId:de,sourcePosition:fe,targetPosition:he,measured:{width:$e,height:ge}={width:0,height:0},initialWidth:pe,initialHeight:ve,width:Se,height:Ne,dragHandle:Pe,internals:{z:Ce=0,positionAbsolute:{x:Ee,y:De},userNode:Re}}=t.node;return oe}),f=A(()=>{let{data:F={},selected:B=!1,draggable:ne,selectable:re,deletable:ae=!0,connectable:K,focusable:Z,hidden:ie=!1,dragging:oe=!1,style:le="",class:ue,type:ce="default",parentId:de,sourcePosition:fe,targetPosition:he,measured:{width:$e,height:ge}={width:0,height:0},initialWidth:pe,initialHeight:ve,width:Se,height:Ne,dragHandle:Pe,internals:{z:Ce=0,positionAbsolute:{x:Ee,y:De},userNode:Re}}=t.node;return le}),h=A(()=>{let{data:F={},selected:B=!1,draggable:ne,selectable:re,deletable:ae=!0,connectable:K,focusable:Z,hidden:ie=!1,dragging:oe=!1,style:le="",class:ue,type:ce="default",parentId:de,sourcePosition:fe,targetPosition:he,measured:{width:$e,height:ge}={width:0,height:0},initialWidth:pe,initialHeight:ve,width:Se,height:Ne,dragHandle:Pe,internals:{z:Ce=0,positionAbsolute:{x:Ee,y:De},userNode:Re}}=t.node;return ue}),g=A(()=>{let{data:F={},selected:B=!1,draggable:ne,selectable:re,deletable:ae=!0,connectable:K,focusable:Z,hidden:ie=!1,dragging:oe=!1,style:le="",class:ue,type:ce="default",parentId:de,sourcePosition:fe,targetPosition:he,measured:{width:$e,height:ge}={width:0,height:0},initialWidth:pe,initialHeight:ve,width:Se,height:Ne,dragHandle:Pe,internals:{z:Ce=0,positionAbsolute:{x:Ee,y:De},userNode:Re}}=t.node;return ce}),w=A(()=>{let{data:F={},selected:B=!1,draggable:ne,selectable:re,deletable:ae=!0,connectable:K,focusable:Z,hidden:ie=!1,dragging:oe=!1,style:le="",class:ue,type:ce="default",parentId:de,sourcePosition:fe,targetPosition:he,measured:{width:$e,height:ge}={width:0,height:0},initialWidth:pe,initialHeight:ve,width:Se,height:Ne,dragHandle:Pe,internals:{z:Ce=0,positionAbsolute:{x:Ee,y:De},userNode:Re}}=t.node;return de}),v=A(()=>{let{data:F={},selected:B=!1,draggable:ne,selectable:re,deletable:ae=!0,connectable:K,focusable:Z,hidden:ie=!1,dragging:oe=!1,style:le="",class:ue,type:ce="default",parentId:de,sourcePosition:fe,targetPosition:he,measured:{width:$e,height:ge}={width:0,height:0},initialWidth:pe,initialHeight:ve,width:Se,height:Ne,dragHandle:Pe,internals:{z:Ce=0,positionAbsolute:{x:Ee,y:De},userNode:Re}}=t.node;return fe}),m=A(()=>{let{data:F={},selected:B=!1,draggable:ne,selectable:re,deletable:ae=!0,connectable:K,focusable:Z,hidden:ie=!1,dragging:oe=!1,style:le="",class:ue,type:ce="default",parentId:de,sourcePosition:fe,targetPosition:he,measured:{width:$e,height:ge}={width:0,height:0},initialWidth:pe,initialHeight:ve,width:Se,height:Ne,dragHandle:Pe,internals:{z:Ce=0,positionAbsolute:{x:Ee,y:De},userNode:Re}}=t.node;return he}),E=A(()=>{let{data:F={},selected:B=!1,draggable:ne,selectable:re,deletable:ae=!0,connectable:K,focusable:Z,hidden:ie=!1,dragging:oe=!1,style:le="",class:ue,type:ce="default",parentId:de,sourcePosition:fe,targetPosition:he,measured:{width:$e,height:ge}={width:0,height:0},initialWidth:pe,initialHeight:ve,width:Se,height:Ne,dragHandle:Pe,internals:{z:Ce=0,positionAbsolute:{x:Ee,y:De},userNode:Re}}=t.node;return $e}),x=A(()=>{let{data:F={},selected:B=!1,draggable:ne,selectable:re,deletable:ae=!0,connectable:K,focusable:Z,hidden:ie=!1,dragging:oe=!1,style:le="",class:ue,type:ce="default",parentId:de,sourcePosition:fe,targetPosition:he,measured:{width:$e,height:ge}={width:0,height:0},initialWidth:pe,initialHeight:ve,width:Se,height:Ne,dragHandle:Pe,internals:{z:Ce=0,positionAbsolute:{x:Ee,y:De},userNode:Re}}=t.node;return ge}),b=A(()=>{let{data:F={},selected:B=!1,draggable:ne,selectable:re,deletable:ae=!0,connectable:K,focusable:Z,hidden:ie=!1,dragging:oe=!1,style:le="",class:ue,type:ce="default",parentId:de,sourcePosition:fe,targetPosition:he,measured:{width:$e,height:ge}={width:0,height:0},initialWidth:pe,initialHeight:ve,width:Se,height:Ne,dragHandle:Pe,internals:{z:Ce=0,positionAbsolute:{x:Ee,y:De},userNode:Re}}=t.node;return pe}),N=A(()=>{let{data:F={},selected:B=!1,draggable:ne,selectable:re,deletable:ae=!0,connectable:K,focusable:Z,hidden:ie=!1,dragging:oe=!1,style:le="",class:ue,type:ce="default",parentId:de,sourcePosition:fe,targetPosition:he,measured:{width:$e,height:ge}={width:0,height:0},initialWidth:pe,initialHeight:ve,width:Se,height:Ne,dragHandle:Pe,internals:{z:Ce=0,positionAbsolute:{x:Ee,y:De},userNode:Re}}=t.node;return ve}),S=A(()=>{let{data:F={},selected:B=!1,draggable:ne,selectable:re,deletable:ae=!0,connectable:K,focusable:Z,hidden:ie=!1,dragging:oe=!1,style:le="",class:ue,type:ce="default",parentId:de,sourcePosition:fe,targetPosition:he,measured:{width:$e,height:ge}={width:0,height:0},initialWidth:pe,initialHeight:ve,width:Se,height:Ne,dragHandle:Pe,internals:{z:Ce=0,positionAbsolute:{x:Ee,y:De},userNode:Re}}=t.node;return Se}),D=A(()=>{let{data:F={},selected:B=!1,draggable:ne,selectable:re,deletable:ae=!0,connectable:K,focusable:Z,hidden:ie=!1,dragging:oe=!1,style:le="",class:ue,type:ce="default",parentId:de,sourcePosition:fe,targetPosition:he,measured:{width:$e,height:ge}={width:0,height:0},initialWidth:pe,initialHeight:ve,width:Se,height:Ne,dragHandle:Pe,internals:{z:Ce=0,positionAbsolute:{x:Ee,y:De},userNode:Re}}=t.node;return Ne}),k=A(()=>{let{data:F={},selected:B=!1,draggable:ne,selectable:re,deletable:ae=!0,connectable:K,focusable:Z,hidden:ie=!1,dragging:oe=!1,style:le="",class:ue,type:ce="default",parentId:de,sourcePosition:fe,targetPosition:he,measured:{width:$e,height:ge}={width:0,height:0},initialWidth:pe,initialHeight:ve,width:Se,height:Ne,dragHandle:Pe,internals:{z:Ce=0,positionAbsolute:{x:Ee,y:De},userNode:Re}}=t.node;return Pe}),I=A(()=>{let{data:F={},selected:B=!1,draggable:ne,selectable:re,deletable:ae=!0,connectable:K,focusable:Z,hidden:ie=!1,dragging:oe=!1,style:le="",class:ue,type:ce="default",parentId:de,sourcePosition:fe,targetPosition:he,measured:{width:$e,height:ge}={width:0,height:0},initialWidth:pe,initialHeight:ve,width:Se,height:Ne,dragHandle:Pe,internals:{z:Ce=0,positionAbsolute:{x:Ee,y:De},userNode:Re}}=t.node;return Ce}),M=A(()=>{let{data:F={},selected:B=!1,draggable:ne,selectable:re,deletable:ae=!0,connectable:K,focusable:Z,hidden:ie=!1,dragging:oe=!1,style:le="",class:ue,type:ce="default",parentId:de,sourcePosition:fe,targetPosition:he,measured:{width:$e,height:ge}={width:0,height:0},initialWidth:pe,initialHeight:ve,width:Se,height:Ne,dragHandle:Pe,internals:{z:Ce=0,positionAbsolute:{x:Ee,y:De},userNode:Re}}=t.node;return Ee}),y=A(()=>{let{data:F={},selected:B=!1,draggable:ne,selectable:re,deletable:ae=!0,connectable:K,focusable:Z,hidden:ie=!1,dragging:oe=!1,style:le="",class:ue,type:ce="default",parentId:de,sourcePosition:fe,targetPosition:he,measured:{width:$e,height:ge}={width:0,height:0},initialWidth:pe,initialHeight:ve,width:Se,height:Ne,dragHandle:Pe,internals:{z:Ce=0,positionAbsolute:{x:Ee,y:De},userNode:Re}}=t.node;return De}),_=A(()=>{let{data:F={},selected:B=!1,draggable:ne,selectable:re,deletable:ae=!0,connectable:K,focusable:Z,hidden:ie=!1,dragging:oe=!1,style:le="",class:ue,type:ce="default",parentId:de,sourcePosition:fe,targetPosition:he,measured:{width:$e,height:ge}={width:0,height:0},initialWidth:pe,initialHeight:ve,width:Se,height:Ne,dragHandle:Pe,internals:{z:Ce=0,positionAbsolute:{x:Ee,y:De},userNode:Re}}=t.node;return Re}),{id:C}=t.node,p=A(()=>$(s)??n().nodesDraggable),P=A(()=>$(o)??n().elementsSelectable),O=A(()=>$(l)??n().nodesConnectable),L=A(()=>mg(t.node)&&!!t.node.internals.handleBounds),W=A(()=>$(c)??n().nodesFocusable);function X(F){return n().parentLookup.has(F)}let G=A(()=>X(C)),te=xe(null),se=null,R=$(g),z=$(v),T=$(m),H=A(()=>n().nodeTypes[$(g)]??zu);An("svelteflow__node_connectable",{get value(){return $(O)}}),An("svelteflow__node_id",C);let V=A(()=>{const F=$(E)===void 0?$(S)??$(b):$(S),B=$(x)===void 0?$(D)??$(N):$(D);if(!(F===void 0&&B===void 0&&$(f)===void 0))return`${$(f)};${F?`width:${pt(F)};`:""}${B?`height:${pt(B)};`:""}`});Ht(()=>{($(g)!==R||$(v)!==z||$(m)!==T)&&$(te)!==null&&requestAnimationFrame(()=>{$(te)!==null&&n().updateNodeInternals(new Map([[C,{id:C,nodeElement:$(te),force:!0}]]))}),R=$(g),z=$(v),T=$(m)}),Ht(()=>{t.resizeObserver&&(!$(L)||$(te)!==se)&&(se&&t.resizeObserver.unobserve(se),$(te)&&t.resizeObserver.observe($(te)),se=$(te))}),Br(()=>{se&&t.resizeObserver?.unobserve(se)});function j(F){if(!(Eu(F)||n().disableKeyboardA11y))if(pu.includes(F.key)&&$(P)){const B=F.key==="Escape";n().handleNodeSelection(C,B,$(te))}else $(p)&&t.node.selected&&Object.prototype.hasOwnProperty.call(Or,F.key)&&(F.preventDefault(),n(n().ariaLiveMessage=`Moved selected node ${F.key.replace("Arrow","").toLowerCase()}. New position, x: ${t.node.internals.positionAbsolute.x}, y: ${t.node.internals.positionAbsolute.y}`,!0),n().moveSelectedNodes(Or[F.key],F.shiftKey?4:1))}var U=Yt(),ee=Le(U);{var Q=F=>{var B=Hp();ye(B,"data-id",C);let ne,re;B.__click=[zp,P,n,p,C,t,_],B.__pointermove=function(...K){(t.onnodepointermove?Z=>t.onnodepointermove({node:$(_),event:Z}):void 0)?.apply(this,K)},B.__contextmenu=function(...K){(t.onnodecontextmenu?Z=>t.onnodecontextmenu({node:$(_),event:Z}):void 0)?.apply(this,K)},B.__keydown=function(...K){($(W)?j:void 0)?.apply(this,K)};var ae=Ie(B);Vo(ae,()=>$(H),(K,Z)=>{Z(K,{get data(){return $(r)},id:C,get selected(){return $(i)},get selectable(){return $(P)},get deletable(){return $(a)},get sourcePosition(){return $(v)},get targetPosition(){return $(m)},get zIndex(){return $(I)},get dragging(){return $(d)},get draggable(){return $(p)},get dragHandle(){return $(k)},get parentId(){return $(w)},get type(){return $(g)},get isConnectable(){return $(O)},get positionAbsoluteX(){return $(M)},get positionAbsoluteY(){return $(y)},get width(){return $(S)},get height(){return $(D)}})}),Be(B,(K,Z)=>Fu?.(K,Z),()=>({nodeId:C,isSelectable:$(P),disabled:!$(p),handleSelector:$(k),noDragClass:n().noDragClass,nodeClickDistance:t.nodeClickDistance,onNodeMouseDown:n().handleNodeSelection,onDrag:(K,Z,ie,oe)=>{t.onnodedrag?.({event:K,targetNode:ie,nodes:oe})},onDragStart:(K,Z,ie,oe)=>{t.onnodedragstart?.({event:K,targetNode:ie,nodes:oe})},onDragStop:(K,Z,ie,oe)=>{t.onnodedragstop?.({event:K,targetNode:ie,nodes:oe})},store:n()})),_n(B,K=>q(te,K),()=>$(te)),Ae(K=>{ne=lt(B,1,Ct(["svelte-flow__node",`svelte-flow__node-${$(g)}`,$(h)]),null,ne,K),re=et(B,$(V),re,{"z-index":$(I),transform:`translate(${$(M)??""}px, ${$(y)??""}px)`,visibility:$(L)?"visible":"hidden"}),ye(B,"tabindex",$(W)?0:void 0),ye(B,"role",$(W)?"button":void 0),ye(B,"aria-describedby",n().disableKeyboardA11y?void 0:`${qu}-${n().flowId}`)},[()=>({dragging:$(d),selected:$(i),draggable:$(p),connectable:$(O),selectable:$(P),nopan:$(p),parent:$(G)})]),ln("pointerenter",B,function(...K){(t.onnodepointerenter?Z=>t.onnodepointerenter({node:$(_),event:Z}):void 0)?.apply(this,K)}),ln("pointerleave",B,function(...K){(t.onnodepointerleave?Z=>t.onnodepointerleave({node:$(_),event:Z}):void 0)?.apply(this,K)}),me(F,B)};Fe(ee,F=>{$(u)||F(Q)})}me(e,U),_e()}jt(["click","pointermove","contextmenu","keydown"]);var Vp=ze('<div class="svelte-flow__nodes"></div>');function Yp(e,t){we(t,!0);let n=J(t,"store",15);const r=typeof ResizeObserver>"u"?null:new ResizeObserver(s=>{const o=new Map;s.forEach(a=>{const l=a.target.getAttribute("data-id");o.set(l,{id:l,nodeElement:a.target,force:!0})}),n().updateNodeInternals(o)});Br(()=>{r?.disconnect()});var i=Vp();Lo(i,21,()=>n().visible.nodes.values(),s=>s.id,(s,o)=>{Lp(s,{get node(){return $(o)},resizeObserver:r,get nodeClickDistance(){return t.nodeClickDistance},get onnodeclick(){return t.onnodeclick},get onnodepointerenter(){return t.onnodepointerenter},get onnodepointermove(){return t.onnodepointermove},get onnodepointerleave(){return t.onnodepointerleave},get onnodedrag(){return t.onnodedrag},get onnodedragstart(){return t.onnodedragstart},get onnodedragstop(){return t.onnodedragstop},get onnodecontextmenu(){return t.onnodecontextmenu},get store(){return n()},set store(a){n(a)}})}),me(e,i),_e()}var Fp=tt('<svg class="svelte-flow__edge-wrapper"><g><!></g></svg>');function qp(e,t){we(t,!0);let n=A(()=>{let{source:T,target:H,sourceX:Y,sourceY:V,targetX:j,targetY:U,sourcePosition:ee,targetPosition:Q,animated:F=!1,selected:B=!1,label:ne,labelStyle:re,data:ae={},style:K,interactionWidth:Z,type:ie="default",sourceHandle:oe,targetHandle:le,markerStart:ue,markerEnd:ce,selectable:de,focusable:fe,deletable:he=!0,hidden:$e,zIndex:ge,class:pe,ariaLabel:ve}=t.edge;return T}),r=A(()=>{let{source:T,target:H,sourceX:Y,sourceY:V,targetX:j,targetY:U,sourcePosition:ee,targetPosition:Q,animated:F=!1,selected:B=!1,label:ne,labelStyle:re,data:ae={},style:K,interactionWidth:Z,type:ie="default",sourceHandle:oe,targetHandle:le,markerStart:ue,markerEnd:ce,selectable:de,focusable:fe,deletable:he=!0,hidden:$e,zIndex:ge,class:pe,ariaLabel:ve}=t.edge;return H}),i=A(()=>{let{source:T,target:H,sourceX:Y,sourceY:V,targetX:j,targetY:U,sourcePosition:ee,targetPosition:Q,animated:F=!1,selected:B=!1,label:ne,labelStyle:re,data:ae={},style:K,interactionWidth:Z,type:ie="default",sourceHandle:oe,targetHandle:le,markerStart:ue,markerEnd:ce,selectable:de,focusable:fe,deletable:he=!0,hidden:$e,zIndex:ge,class:pe,ariaLabel:ve}=t.edge;return Y}),s=A(()=>{let{source:T,target:H,sourceX:Y,sourceY:V,targetX:j,targetY:U,sourcePosition:ee,targetPosition:Q,animated:F=!1,selected:B=!1,label:ne,labelStyle:re,data:ae={},style:K,interactionWidth:Z,type:ie="default",sourceHandle:oe,targetHandle:le,markerStart:ue,markerEnd:ce,selectable:de,focusable:fe,deletable:he=!0,hidden:$e,zIndex:ge,class:pe,ariaLabel:ve}=t.edge;return V}),o=A(()=>{let{source:T,target:H,sourceX:Y,sourceY:V,targetX:j,targetY:U,sourcePosition:ee,targetPosition:Q,animated:F=!1,selected:B=!1,label:ne,labelStyle:re,data:ae={},style:K,interactionWidth:Z,type:ie="default",sourceHandle:oe,targetHandle:le,markerStart:ue,markerEnd:ce,selectable:de,focusable:fe,deletable:he=!0,hidden:$e,zIndex:ge,class:pe,ariaLabel:ve}=t.edge;return j}),a=A(()=>{let{source:T,target:H,sourceX:Y,sourceY:V,targetX:j,targetY:U,sourcePosition:ee,targetPosition:Q,animated:F=!1,selected:B=!1,label:ne,labelStyle:re,data:ae={},style:K,interactionWidth:Z,type:ie="default",sourceHandle:oe,targetHandle:le,markerStart:ue,markerEnd:ce,selectable:de,focusable:fe,deletable:he=!0,hidden:$e,zIndex:ge,class:pe,ariaLabel:ve}=t.edge;return U}),l=A(()=>{let{source:T,target:H,sourceX:Y,sourceY:V,targetX:j,targetY:U,sourcePosition:ee,targetPosition:Q,animated:F=!1,selected:B=!1,label:ne,labelStyle:re,data:ae={},style:K,interactionWidth:Z,type:ie="default",sourceHandle:oe,targetHandle:le,markerStart:ue,markerEnd:ce,selectable:de,focusable:fe,deletable:he=!0,hidden:$e,zIndex:ge,class:pe,ariaLabel:ve}=t.edge;return ee}),c=A(()=>{let{source:T,target:H,sourceX:Y,sourceY:V,targetX:j,targetY:U,sourcePosition:ee,targetPosition:Q,animated:F=!1,selected:B=!1,label:ne,labelStyle:re,data:ae={},style:K,interactionWidth:Z,type:ie="default",sourceHandle:oe,targetHandle:le,markerStart:ue,markerEnd:ce,selectable:de,focusable:fe,deletable:he=!0,hidden:$e,zIndex:ge,class:pe,ariaLabel:ve}=t.edge;return Q}),u=A(()=>{let{source:T,target:H,sourceX:Y,sourceY:V,targetX:j,targetY:U,sourcePosition:ee,targetPosition:Q,animated:F=!1,selected:B=!1,label:ne,labelStyle:re,data:ae={},style:K,interactionWidth:Z,type:ie="default",sourceHandle:oe,targetHandle:le,markerStart:ue,markerEnd:ce,selectable:de,focusable:fe,deletable:he=!0,hidden:$e,zIndex:ge,class:pe,ariaLabel:ve}=t.edge;return F}),d=A(()=>{let{source:T,target:H,sourceX:Y,sourceY:V,targetX:j,targetY:U,sourcePosition:ee,targetPosition:Q,animated:F=!1,selected:B=!1,label:ne,labelStyle:re,data:ae={},style:K,interactionWidth:Z,type:ie="default",sourceHandle:oe,targetHandle:le,markerStart:ue,markerEnd:ce,selectable:de,focusable:fe,deletable:he=!0,hidden:$e,zIndex:ge,class:pe,ariaLabel:ve}=t.edge;return B}),f=A(()=>{let{source:T,target:H,sourceX:Y,sourceY:V,targetX:j,targetY:U,sourcePosition:ee,targetPosition:Q,animated:F=!1,selected:B=!1,label:ne,labelStyle:re,data:ae={},style:K,interactionWidth:Z,type:ie="default",sourceHandle:oe,targetHandle:le,markerStart:ue,markerEnd:ce,selectable:de,focusable:fe,deletable:he=!0,hidden:$e,zIndex:ge,class:pe,ariaLabel:ve}=t.edge;return ne}),h=A(()=>{let{source:T,target:H,sourceX:Y,sourceY:V,targetX:j,targetY:U,sourcePosition:ee,targetPosition:Q,animated:F=!1,selected:B=!1,label:ne,labelStyle:re,data:ae={},style:K,interactionWidth:Z,type:ie="default",sourceHandle:oe,targetHandle:le,markerStart:ue,markerEnd:ce,selectable:de,focusable:fe,deletable:he=!0,hidden:$e,zIndex:ge,class:pe,ariaLabel:ve}=t.edge;return re}),g=A(()=>{let{source:T,target:H,sourceX:Y,sourceY:V,targetX:j,targetY:U,sourcePosition:ee,targetPosition:Q,animated:F=!1,selected:B=!1,label:ne,labelStyle:re,data:ae={},style:K,interactionWidth:Z,type:ie="default",sourceHandle:oe,targetHandle:le,markerStart:ue,markerEnd:ce,selectable:de,focusable:fe,deletable:he=!0,hidden:$e,zIndex:ge,class:pe,ariaLabel:ve}=t.edge;return ae}),w=A(()=>{let{source:T,target:H,sourceX:Y,sourceY:V,targetX:j,targetY:U,sourcePosition:ee,targetPosition:Q,animated:F=!1,selected:B=!1,label:ne,labelStyle:re,data:ae={},style:K,interactionWidth:Z,type:ie="default",sourceHandle:oe,targetHandle:le,markerStart:ue,markerEnd:ce,selectable:de,focusable:fe,deletable:he=!0,hidden:$e,zIndex:ge,class:pe,ariaLabel:ve}=t.edge;return K}),v=A(()=>{let{source:T,target:H,sourceX:Y,sourceY:V,targetX:j,targetY:U,sourcePosition:ee,targetPosition:Q,animated:F=!1,selected:B=!1,label:ne,labelStyle:re,data:ae={},style:K,interactionWidth:Z,type:ie="default",sourceHandle:oe,targetHandle:le,markerStart:ue,markerEnd:ce,selectable:de,focusable:fe,deletable:he=!0,hidden:$e,zIndex:ge,class:pe,ariaLabel:ve}=t.edge;return Z}),m=A(()=>{let{source:T,target:H,sourceX:Y,sourceY:V,targetX:j,targetY:U,sourcePosition:ee,targetPosition:Q,animated:F=!1,selected:B=!1,label:ne,labelStyle:re,data:ae={},style:K,interactionWidth:Z,type:ie="default",sourceHandle:oe,targetHandle:le,markerStart:ue,markerEnd:ce,selectable:de,focusable:fe,deletable:he=!0,hidden:$e,zIndex:ge,class:pe,ariaLabel:ve}=t.edge;return ie}),E=A(()=>{let{source:T,target:H,sourceX:Y,sourceY:V,targetX:j,targetY:U,sourcePosition:ee,targetPosition:Q,animated:F=!1,selected:B=!1,label:ne,labelStyle:re,data:ae={},style:K,interactionWidth:Z,type:ie="default",sourceHandle:oe,targetHandle:le,markerStart:ue,markerEnd:ce,selectable:de,focusable:fe,deletable:he=!0,hidden:$e,zIndex:ge,class:pe,ariaLabel:ve}=t.edge;return oe}),x=A(()=>{let{source:T,target:H,sourceX:Y,sourceY:V,targetX:j,targetY:U,sourcePosition:ee,targetPosition:Q,animated:F=!1,selected:B=!1,label:ne,labelStyle:re,data:ae={},style:K,interactionWidth:Z,type:ie="default",sourceHandle:oe,targetHandle:le,markerStart:ue,markerEnd:ce,selectable:de,focusable:fe,deletable:he=!0,hidden:$e,zIndex:ge,class:pe,ariaLabel:ve}=t.edge;return le}),b=A(()=>{let{source:T,target:H,sourceX:Y,sourceY:V,targetX:j,targetY:U,sourcePosition:ee,targetPosition:Q,animated:F=!1,selected:B=!1,label:ne,labelStyle:re,data:ae={},style:K,interactionWidth:Z,type:ie="default",sourceHandle:oe,targetHandle:le,markerStart:ue,markerEnd:ce,selectable:de,focusable:fe,deletable:he=!0,hidden:$e,zIndex:ge,class:pe,ariaLabel:ve}=t.edge;return ue}),N=A(()=>{let{source:T,target:H,sourceX:Y,sourceY:V,targetX:j,targetY:U,sourcePosition:ee,targetPosition:Q,animated:F=!1,selected:B=!1,label:ne,labelStyle:re,data:ae={},style:K,interactionWidth:Z,type:ie="default",sourceHandle:oe,targetHandle:le,markerStart:ue,markerEnd:ce,selectable:de,focusable:fe,deletable:he=!0,hidden:$e,zIndex:ge,class:pe,ariaLabel:ve}=t.edge;return ce}),S=A(()=>{let{source:T,target:H,sourceX:Y,sourceY:V,targetX:j,targetY:U,sourcePosition:ee,targetPosition:Q,animated:F=!1,selected:B=!1,label:ne,labelStyle:re,data:ae={},style:K,interactionWidth:Z,type:ie="default",sourceHandle:oe,targetHandle:le,markerStart:ue,markerEnd:ce,selectable:de,focusable:fe,deletable:he=!0,hidden:$e,zIndex:ge,class:pe,ariaLabel:ve}=t.edge;return de}),D=A(()=>{let{source:T,target:H,sourceX:Y,sourceY:V,targetX:j,targetY:U,sourcePosition:ee,targetPosition:Q,animated:F=!1,selected:B=!1,label:ne,labelStyle:re,data:ae={},style:K,interactionWidth:Z,type:ie="default",sourceHandle:oe,targetHandle:le,markerStart:ue,markerEnd:ce,selectable:de,focusable:fe,deletable:he=!0,hidden:$e,zIndex:ge,class:pe,ariaLabel:ve}=t.edge;return fe}),k=A(()=>{let{source:T,target:H,sourceX:Y,sourceY:V,targetX:j,targetY:U,sourcePosition:ee,targetPosition:Q,animated:F=!1,selected:B=!1,label:ne,labelStyle:re,data:ae={},style:K,interactionWidth:Z,type:ie="default",sourceHandle:oe,targetHandle:le,markerStart:ue,markerEnd:ce,selectable:de,focusable:fe,deletable:he=!0,hidden:$e,zIndex:ge,class:pe,ariaLabel:ve}=t.edge;return he}),I=A(()=>{let{source:T,target:H,sourceX:Y,sourceY:V,targetX:j,targetY:U,sourcePosition:ee,targetPosition:Q,animated:F=!1,selected:B=!1,label:ne,labelStyle:re,data:ae={},style:K,interactionWidth:Z,type:ie="default",sourceHandle:oe,targetHandle:le,markerStart:ue,markerEnd:ce,selectable:de,focusable:fe,deletable:he=!0,hidden:$e,zIndex:ge,class:pe,ariaLabel:ve}=t.edge;return $e}),M=A(()=>{let{source:T,target:H,sourceX:Y,sourceY:V,targetX:j,targetY:U,sourcePosition:ee,targetPosition:Q,animated:F=!1,selected:B=!1,label:ne,labelStyle:re,data:ae={},style:K,interactionWidth:Z,type:ie="default",sourceHandle:oe,targetHandle:le,markerStart:ue,markerEnd:ce,selectable:de,focusable:fe,deletable:he=!0,hidden:$e,zIndex:ge,class:pe,ariaLabel:ve}=t.edge;return ge}),y=A(()=>{let{source:T,target:H,sourceX:Y,sourceY:V,targetX:j,targetY:U,sourcePosition:ee,targetPosition:Q,animated:F=!1,selected:B=!1,label:ne,labelStyle:re,data:ae={},style:K,interactionWidth:Z,type:ie="default",sourceHandle:oe,targetHandle:le,markerStart:ue,markerEnd:ce,selectable:de,focusable:fe,deletable:he=!0,hidden:$e,zIndex:ge,class:pe,ariaLabel:ve}=t.edge;return pe}),_=A(()=>{let{source:T,target:H,sourceX:Y,sourceY:V,targetX:j,targetY:U,sourcePosition:ee,targetPosition:Q,animated:F=!1,selected:B=!1,label:ne,labelStyle:re,data:ae={},style:K,interactionWidth:Z,type:ie="default",sourceHandle:oe,targetHandle:le,markerStart:ue,markerEnd:ce,selectable:de,focusable:fe,deletable:he=!0,hidden:$e,zIndex:ge,class:pe,ariaLabel:ve}=t.edge;return ve}),C=null;const{id:p}=t.edge;An("svelteflow__edge_id",p);let P=A(()=>$(S)??t.store.elementsSelectable),O=A(()=>$(D)??t.store.edgesFocusable),L=A(()=>t.store.edgeTypes[$(m)]??Hu),W=A(()=>$(b)?`url('#${So($(b),t.store.flowId)}')`:void 0),X=A(()=>$(N)?`url('#${So($(N),t.store.flowId)}')`:void 0);function G(T){const H=t.store.edgeLookup.get(p);H&&($(P)&&t.store.handleEdgeSelection(p),t.onedgeclick?.({event:T,edge:H}))}function te(T,H){const Y=t.store.edgeLookup.get(p);Y&&H({event:T,edge:Y})}onkeydown=T=>{if(!t.store.disableKeyboardA11y&&pu.includes(T.key)&&$(P)){const{unselectNodesAndEdges:H,addSelectedEdges:Y}=t.store;T.key==="Escape"?(C?.blur(),H({edges:[t.edge]})):Y([p])}};var se=Yt(),R=Le(se);{var z=T=>{var H=Fp();let Y;var V=Ie(H);let j;ye(V,"data-id",p),V.__click=G,V.__contextmenu=function(...ee){(t.onedgecontextmenu?Q=>{te(Q,t.onedgecontextmenu)}:void 0)?.apply(this,ee)},V.__keydown=function(...ee){($(O)?onkeydown:void 0)?.apply(this,ee)};var U=Ie(V);Vo(U,()=>$(L),(ee,Q)=>{Q(ee,{id:p,get source(){return $(n)},get target(){return $(r)},get sourceX(){return $(i)},get sourceY(){return $(s)},get targetX(){return $(o)},get targetY(){return $(a)},get sourcePosition(){return $(l)},get targetPosition(){return $(c)},get animated(){return $(u)},get selected(){return $(d)},get label(){return $(f)},get labelStyle(){return $(h)},get data(){return $(g)},get style(){return $(w)},get interactionWidth(){return $(v)},get selectable(){return $(P)},get deletable(){return $(k)},get type(){return $(m)},get sourceHandleId(){return $(E)},get targetHandleId(){return $(x)},get markerStart(){return $(W)},get markerEnd(){return $(X)}})}),_n(V,ee=>C=ee,()=>C),Ae(ee=>{Y=et(H,"",Y,{"z-index":$(M)}),j=lt(V,0,Ct(["svelte-flow__edge",$(y)]),null,j,ee),ye(V,"aria-label",$(_)===null?void 0:$(_)?$(_):`Edge from ${$(n)} to ${$(r)}`),ye(V,"aria-describedby",$(O)?`${Wu}-${t.store.flowId}`:void 0),ye(V,"role",$(O)?"button":"img"),ye(V,"tabindex",$(O)?0:void 0)},[()=>({animated:$(u),selected:$(d),selectable:$(P)})]),ln("pointerenter",V,function(...ee){(t.onedgepointerenter?Q=>{te(Q,t.onedgepointerenter)}:void 0)?.apply(this,ee)}),ln("pointerleave",V,function(...ee){(t.onedgepointerleave?Q=>{te(Q,t.onedgepointerleave)}:void 0)?.apply(this,ee)}),me(T,H)};Fe(R,T=>{$(I)||T(z)})}me(e,se),_e()}jt(["click","contextmenu","keydown"]);var Wp=tt("<defs></defs>");function Bp(e,t){we(t,!1);const n=Ut();md();var r=Wp();Lo(r,5,()=>n.markers,i=>i.id,(i,s)=>{Gp(i,Ed(()=>$(s)))}),me(e,r),_e()}var Xp=tt('<polyline stroke-linecap="round" stroke-linejoin="round" fill="none" points="-5,-4 0,0 -5,4"></polyline>'),Kp=tt('<polyline stroke-linecap="round" stroke-linejoin="round" points="-5,-4 0,0 -5,4 -5,-4"></polyline>'),jp=tt('<marker class="svelte-flow__arrowhead" viewBox="-10 -10 20 20" refX="0" refY="0"><!></marker>');function Gp(e,t){we(t,!0);let n=J(t,"width",3,12.5),r=J(t,"height",3,12.5),i=J(t,"markerUnits",3,"strokeWidth"),s=J(t,"orient",3,"auto-start-reverse");var o=jp(),a=Ie(o);{var l=u=>{var d=Xp();Ae(()=>{ye(d,"stroke",t.color),ye(d,"stroke-width",t.strokeWidth)}),me(u,d)},c=(u,d)=>{{var f=h=>{var g=Kp();Ae(()=>{ye(g,"stroke",t.color),ye(g,"stroke-width",t.strokeWidth),ye(g,"fill",t.color)}),me(h,g)};Fe(u,h=>{t.type===Nr.ArrowClosed&&h(f)},d)}};Fe(a,u=>{t.type===Nr.Arrow?u(l):u(c,!1)})}Ae(()=>{ye(o,"id",t.id),ye(o,"markerWidth",`${n()}`),ye(o,"markerHeight",`${r()}`),ye(o,"markerUnits",i()),ye(o,"orient",s())}),me(e,o),_e()}var Zp=ze('<div class="svelte-flow__edges"><svg class="svelte-flow__marker"><!></svg> <!></div>');function Up(e,t){we(t,!0);let n=J(t,"store",15);var r=Zp(),i=Ie(r),s=Ie(i);Bp(s,{});var o=ke(i,2);Lo(o,17,()=>n().visible.edges.values(),a=>a.id,(a,l)=>{qp(a,{get edge(){return $(l)},get onedgeclick(){return t.onedgeclick},get onedgecontextmenu(){return t.onedgecontextmenu},get onedgepointerenter(){return t.onedgepointerenter},get onedgepointerleave(){return t.onedgepointerleave},get store(){return n()},set store(c){n(c)}})}),me(e,r),_e()}var Qp=ze('<div class="svelte-flow__selection svelte-1iugwpu"></div>');function Bu(e,t){we(t,!0);let n=J(t,"x",3,0),r=J(t,"y",3,0),i=J(t,"width",3,0),s=J(t,"height",3,0),o=J(t,"isVisible",3,!0);var a=Yt(),l=Le(a);{var c=u=>{var d=Qp();let f;Ae((h,g)=>f=et(d,"",f,{width:h,height:g,transform:`translate(${n()}px, ${r()}px)`}),[()=>typeof i()=="string"?i():pt(i()),()=>typeof s()=="string"?s():pt(s())]),me(u,d)};Fe(l,u=>{o()&&u(c)})}me(e,a),_e()}function Jp(e,t){const n=t.store.nodes.filter(r=>r.selected);t.onselectioncontextmenu?.({nodes:n,event:e})}function ev(e,t){const n=t.store.nodes.filter(r=>r.selected);t.onselectionclick?.({nodes:n,event:e})}var tv=ze("<div><!></div>");function nv(e,t){we(t,!0);let n=xe(void 0);Ht(()=>{t.store.disableKeyboardA11y||$(n)?.focus({preventScroll:!0})});let r=A(()=>t.store.selectionRectMode==="nodes"?(t.store.nodes,Ur(t.store.nodeLookup,{filter:l=>!!l.selected})):null);function i(l){Object.prototype.hasOwnProperty.call(Or,l.key)&&(l.preventDefault(),t.store.moveSelectedNodes(Or[l.key],l.shiftKey?4:1))}var s=Yt(),o=Le(s);{var a=l=>{var c=tv();c.__contextmenu=[Jp,t],c.__click=[ev,t],c.__keydown=function(...f){(t.store.disableKeyboardA11y?void 0:i)?.apply(this,f)};let u;var d=Ie(c);Bu(d,{width:"100%",height:"100%",x:0,y:0}),Be(c,(f,h)=>Fu?.(f,h),()=>({disabled:!1,store:t.store,onDrag:(f,h,g,w)=>{t.onnodedrag?.({event:f,targetNode:null,nodes:w})},onDragStart:(f,h,g,w)=>{t.onnodedragstart?.({event:f,targetNode:null,nodes:w})},onDragStop:(f,h,g,w)=>{t.onnodedragstop?.({event:f,targetNode:null,nodes:w})}})),_n(c,f=>q(n,f),()=>$(n)),Ae((f,h)=>{lt(c,1,Ct(["svelte-flow__selection-wrapper",t.store.noPanClass]),"svelte-16qgzgd"),ye(c,"role",t.store.disableKeyboardA11y?void 0:"button"),ye(c,"tabindex",t.store.disableKeyboardA11y?void 0:-1),u=et(c,"",u,{width:f,height:h,transform:`translate(${$(r).x??""}px, ${$(r).y??""}px)`})},[()=>pt($(r).width),()=>pt($(r).height)]),me(l,c)};Fe(o,l=>{t.store.selectionRectMode==="nodes"&&$(r)&&_t($(r).x)&&_t($(r).y)&&l(a)})}me(e,s),_e()}jt(["contextmenu","click","keydown"]);function rv(e){switch(e){case"ctrl":return 8;case"shift":return 4;case"alt":return 2;case"meta":return 1}}function ct(e,t){let{enabled:n=!0,trigger:r,type:i="keydown"}=t;function s(a){const l=Array.isArray(r)?r:[r],c=[a.metaKey,a.altKey,a.shiftKey,a.ctrlKey].reduce((u,d,f)=>d?u|1<<f:u,0);for(const u of l){const d={preventDefault:!1,enabled:!0,...u},{modifier:f,key:h,callback:g,preventDefault:w,enabled:v}=d;if(v){if(a.key!==h)continue;if(f===null||f===!1){if(c!==0)continue}else if(f!==void 0&&f?.[0]?.length>0){const E=Array.isArray(f)?f:[f];let x=!1;for(const b of E)if((Array.isArray(b)?b:[b]).reduce((S,D)=>S|rv(D),0)===c){x=!0;break}if(!x)continue}w&&a.preventDefault();const m={node:e,trigger:d,originalEvent:a};e.dispatchEvent(new CustomEvent("shortcut",{detail:m})),g?.(m)}}}let o;return n&&(o=ho(e,i,s)),{update:a=>{const{enabled:l=!0,type:c="keydown"}=a;n&&(!l||i!==c)?o?.():!n&&l&&(o=ho(e,c,s)),n=l,i=c,r=a.trigger},destroy:()=>{o?.()}}}function es(){const e=A(Ut),t=s=>{const o=Qs(s)?s:$(e).nodeLookup.get(s.id),a=o.parentId?yg(o.position,o.measured,o.parentId,$(e).nodeLookup,$(e).nodeOrigin):o.position,l={...o,position:a,width:o.measured?.width??o.width,height:o.measured?.height??o.height};return $n(l)};function n(s,o,a={replace:!1}){$(e).nodes=Ye(()=>$(e).nodes).map(l=>{if(l.id===s){const c=typeof o=="function"?o(l):o;return a?.replace&&Qs(c)?c:{...l,...c}}return l})}function r(s,o,a={replace:!1}){$(e).edges=Ye(()=>$(e).edges).map(l=>{if(l.id===s){const c=typeof o=="function"?o(l):o;return a.replace&&cp(c)?c:{...l,...c}}return l})}const i=s=>$(e).nodeLookup.get(s);return{zoomIn:$(e).zoomIn,zoomOut:$(e).zoomOut,getInternalNode:i,getNode:s=>i(s)?.internals.userNode,getNodes:s=>s===void 0?$(e).nodes:ra($(e).nodeLookup,s),getEdge:s=>$(e).edgeLookup.get(s),getEdges:s=>s===void 0?$(e).edges:ra($(e).edgeLookup,s),setZoom:(s,o)=>{const a=$(e).panZoom;return a?a.scaleTo(s,{duration:o?.duration}):Promise.resolve(!1)},getZoom:()=>$(e).viewport.zoom,setViewport:async(s,o)=>{const a=$(e).viewport;return $(e).panZoom?(await $(e).panZoom.setViewport({x:s.x??a.x,y:s.y??a.y,zoom:s.zoom??a.zoom},{duration:o?.duration}),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>al($(e).viewport),setCenter:async(s,o,a)=>{const l=typeof a?.zoom<"u"?a.zoom:$(e).maxZoom,c=$(e).panZoom;return c?(await c.setViewport({x:$(e).width/2-s*l,y:$(e).height/2-o*l,zoom:l},{duration:a?.duration}),Promise.resolve(!0)):Promise.resolve(!1)},fitView:s=>$(e).fitView(s),fitBounds:async(s,o)=>{if(!$(e).panZoom)return Promise.resolve(!1);const a=Go(s,$(e).width,$(e).height,$(e).minZoom,$(e).maxZoom,o?.padding??.1);return await $(e).panZoom.setViewport(a,{duration:o?.duration}),Promise.resolve(!0)},getIntersectingNodes:(s,o=!0,a)=>{const l=Ls(s),c=l?s:t(s);return c?(a||$(e).nodes).filter(u=>{const d=$(e).nodeLookup.get(u.id);if(!d||!l&&u.id===s.id)return!1;const f=$n(d),h=Fn(f,c);return o&&h>0||h>=c.width*c.height}):[]},isNodeIntersecting:(s,o,a=!0)=>{const c=Ls(s)?s:t(s);if(!c)return!1;const u=Fn(c,o);return a&&u>0||u>=c.width*c.height},deleteElements:async({nodes:s=[],edges:o=[]})=>{const{nodes:a,edges:l}=await hg({nodesToRemove:s,edgesToRemove:o,nodes:$(e).nodes,edges:$(e).edges,onBeforeDelete:$(e).onbeforedelete});return a&&($(e).nodes=Ye(()=>$(e).nodes).filter(c=>!a.some(({id:u})=>u===c.id))),l&&($(e).edges=Ye(()=>$(e).edges).filter(c=>!l.some(({id:u})=>u===c.id))),{deletedNodes:a,deletedEdges:l}},screenToFlowPosition:(s,o={snapToGrid:!0})=>{if(!$(e).domNode)return s;const a=o.snapToGrid?$(e).snapGrid:!1,{x:l,y:c,zoom:u}=$(e).viewport,{x:d,y:f}=$(e).domNode.getBoundingClientRect(),h={x:s.x-d,y:s.y-f};return Qn(h,[l,c,u],a!==null,a||[1,1])},flowToScreenPosition:s=>{if(!$(e).domNode)return s;const{x:o,y:a,zoom:l}=$(e).viewport,{x:c,y:u}=$(e).domNode.getBoundingClientRect(),d=Cr(s,[o,a,l]);return{x:d.x+c,y:d.y+u}},toObject:()=>structuredClone({nodes:[...$(e).nodes],edges:[...$(e).edges],viewport:{...$(e).viewport}}),updateNode:n,updateNodeData:(s,o,a)=>{const l=$(e).nodeLookup.get(s)?.internals.userNode;if(!l)return;const c=typeof o=="function"?o(l):o;n(s,u=>({...u,data:a?.replace?c:{...u.data,...c}}))},updateEdge:r,getNodesBounds:s=>ug(s,{nodeLookup:$(e).nodeLookup,nodeOrigin:$(e).nodeOrigin}),getHandleConnections:({type:s,id:o,nodeId:a})=>Array.from($(e).connectionLookup.get(`${a}-${s}-${o??null}`)?.values()??[])}}function ra(e,t){const n=[];for(const r of t){const i=e.get(r);if(i){const s="internals"in i?i.internals?.userNode:i;n.push(s)}}return n}function iv(e,t){we(t,!0);let n=J(t,"store",15),r=J(t,"selectionKey",3,"Shift"),i=J(t,"multiSelectionKey",19,()=>Ir()?"Meta":"Control"),s=J(t,"deleteKey",3,"Backspace"),o=J(t,"panActivationKey",3," "),a=J(t,"zoomActivationKey",19,()=>Ir()?"Meta":"Control"),{deleteElements:l}=es();function c(w){return w!==null&&typeof w=="object"}function u(w){return c(w)?w.modifier||[]:[]}function d(w){return w==null?"":c(w)?w.key:w}function f(w,v){return(Array.isArray(w)?w:[w]).map(E=>{const x=d(E);return{key:x,modifier:u(E),enabled:x!==null,callback:v}})}function h(){n(n().selectionRect=null,!0),n(n().selectionKeyPressed=!1,!0),n(n().multiselectionKeyPressed=!1,!0),n(n().deleteKeyPressed=!1,!0),n(n().panActivationKeyPressed=!1,!0),n(n().zoomActivationKeyPressed=!1,!0)}async function g(){const w=n().nodes.filter(x=>x.selected),v=n().edges.filter(x=>x.selected),{deletedNodes:m,deletedEdges:E}=await l({nodes:w,edges:v});(m.length>0||E.length>0)&&n().ondelete?.({nodes:m,edges:E})}ln("blur",We,h),ln("contextmenu",We,h),Be(We,(w,v)=>ct?.(w,v),()=>({trigger:f(r(),()=>n(n().selectionKeyPressed=!0,!0)),type:"keydown"})),Be(We,(w,v)=>ct?.(w,v),()=>({trigger:f(r(),()=>n(n().selectionKeyPressed=!1,!0)),type:"keyup"})),Be(We,(w,v)=>ct?.(w,v),()=>({trigger:f(i(),()=>{n(n().multiselectionKeyPressed=!0,!0)}),type:"keydown"})),Be(We,(w,v)=>ct?.(w,v),()=>({trigger:f(i(),()=>n(n().multiselectionKeyPressed=!1,!0)),type:"keyup"})),Be(We,(w,v)=>ct?.(w,v),()=>({trigger:f(s(),w=>{!(w.originalEvent.ctrlKey||w.originalEvent.metaKey||w.originalEvent.shiftKey)&&!Eu(w.originalEvent)&&(n(n().deleteKeyPressed=!0,!0),g())}),type:"keydown"})),Be(We,(w,v)=>ct?.(w,v),()=>({trigger:f(s(),()=>n(n().deleteKeyPressed=!1,!0)),type:"keyup"})),Be(We,(w,v)=>ct?.(w,v),()=>({trigger:f(o(),()=>n(n().panActivationKeyPressed=!0,!0)),type:"keydown"})),Be(We,(w,v)=>ct?.(w,v),()=>({trigger:f(o(),()=>n(n().panActivationKeyPressed=!1,!0)),type:"keyup"})),Be(We,(w,v)=>ct?.(w,v),()=>({trigger:f(a(),()=>n(n().zoomActivationKeyPressed=!0,!0)),type:"keydown"})),Be(We,(w,v)=>ct?.(w,v),()=>({trigger:f(a(),()=>n(n().zoomActivationKeyPressed=!1,!0)),type:"keyup"})),_e()}var ov=tt('<path fill="none" class="svelte-flow__connection-path"></path>'),sv=tt('<svg class="svelte-flow__connectionline"><g><!></g></svg>');function av(e,t){we(t,!0);let n=A(()=>{if(!t.store.connection.inProgress)return"";const o={sourceX:t.store.connection.from.x,sourceY:t.store.connection.from.y,sourcePosition:t.store.connection.fromPosition,targetX:t.store.connection.to.x,targetY:t.store.connection.to.y,targetPosition:t.store.connection.toPosition};switch(t.type){case bt.Bezier:{const[a]=Su(o);return a}case bt.Straight:{const[a]=Pu(o);return a}case bt.Step:case bt.SmoothStep:{const[a]=Zo({...o,borderRadius:t.type===bt.Step?0:void 0});return a}}});var r=Yt(),i=Le(r);{var s=o=>{var a=sv(),l=Ie(a),c=Ie(l);{var u=f=>{var h=Yt(),g=Le(h);Vo(g,()=>t.LineComponent,(w,v)=>{v(w,{})}),me(f,h)},d=f=>{var h=ov();Ae(()=>{ye(h,"d",$(n)),et(h,t.style)}),me(f,h)};Fe(c,f=>{t.LineComponent?f(u):f(d,!1)})}Ae(f=>{ye(a,"width",t.store.width),ye(a,"height",t.store.height),et(a,t.containerStyle),lt(l,0,f)},[()=>Ct(["svelte-flow__connection",ag(t.store.connection.isValid)])]),me(o,a)};Fe(i,o=>{t.store.connection.inProgress&&o(s)})}me(e,r),_e()}var lv=ze("<div><!></div>");function Xu(e,t){we(t,!0);let n=J(t,"position",3,"top-right"),r=jn(t,["$$slots","$$events","$$legacy","position","style","class","children"]),i=A(Ut),s=A(()=>`${n()}`.split("-"));var o=lv();let a;var l=Ie(o);Pt(l,()=>t.children??Ze),Ae(c=>a=Kn(o,a,{class:c,style:t.style,...r,[At]:{"pointer-events":$(i).selectionRectMode?"none":""}}),[()=>["svelte-flow__panel",t.class,...$(s)]]),me(e,o),_e()}var uv=ze('<a href="https://svelteflow.dev" target="_blank" rel="noopener noreferrer" aria-label="Svelte Flow attribution">Svelte Flow</a>');function cv(e,t){we(t,!0);let n=J(t,"position",3,"bottom-right");var r=Yt(),i=Le(r);{var s=o=>{Xu(o,{get position(){return n()},class:"svelte-flow__attribution","data-message":"Feel free to remove the attribution or check out how you could support us: https://svelteflow.dev/support-us",children:(a,l)=>{var c=uv();me(a,c)},$$slots:{default:!0}})};Fe(i,o=>{t.proOptions?.hideAttribution||o(s)})}me(e,r),_e()}var dv=ze("<div><!></div>");function fv(e,t){we(t,!0);let n=J(t,"domNode",15),r=J(t,"clientWidth",15),i=J(t,"clientHeight",15),s=A(()=>{let{id:u,class:d,nodeTypes:f,edgeTypes:h,colorMode:g,isValidConnection:w,onmove:v,onmovestart:m,onmoveend:E,onflowerror:x,ondelete:b,onbeforedelete:N,onbeforeconnect:S,onconnect:D,onconnectstart:k,onconnectend:I,onbeforereconnect:M,onreconnect:y,onreconnectstart:_,onreconnectend:C,onclickconnectstart:p,onclickconnectend:P,oninit:O,onselectionchange:L,onselectiondragstart:W,onselectiondrag:X,onselectiondragstop:G,onselectionstart:te,onselectionend:se,clickConnect:R,fitView:z,fitViewOptions:T,nodeOrigin:H,nodeDragThreshold:Y,minZoom:V,maxZoom:j,initialViewport:U,connectionRadius:ee,connectionMode:Q,selectionMode:F,selectNodesOnDrag:B,snapGrid:ne,defaultMarkerColor:re,translateExtent:ae,nodeExtent:K,onlyRenderVisibleElements:Z,autoPanOnConnect:ie,autoPanOnNodeDrag:oe,colorModeSSR:le,style:ue,defaultEdgeOptions:ce,elevateNodesOnSelect:de,elevateEdgesOnSelect:fe,nodesDraggable:he,nodesConnectable:$e,elementsSelectable:ge,nodesFocusable:pe,edgesFocusable:ve,disableKeyboardA11y:Se,noDragClass:Ne,noPanClass:Pe,noWheelClass:Ce,...Ee}=t.rest;return d}),o=A(()=>{let{id:u,class:d,nodeTypes:f,edgeTypes:h,colorMode:g,isValidConnection:w,onmove:v,onmovestart:m,onmoveend:E,onflowerror:x,ondelete:b,onbeforedelete:N,onbeforeconnect:S,onconnect:D,onconnectstart:k,onconnectend:I,onbeforereconnect:M,onreconnect:y,onreconnectstart:_,onreconnectend:C,onclickconnectstart:p,onclickconnectend:P,oninit:O,onselectionchange:L,onselectiondragstart:W,onselectiondrag:X,onselectiondragstop:G,onselectionstart:te,onselectionend:se,clickConnect:R,fitView:z,fitViewOptions:T,nodeOrigin:H,nodeDragThreshold:Y,minZoom:V,maxZoom:j,initialViewport:U,connectionRadius:ee,connectionMode:Q,selectionMode:F,selectNodesOnDrag:B,snapGrid:ne,defaultMarkerColor:re,translateExtent:ae,nodeExtent:K,onlyRenderVisibleElements:Z,autoPanOnConnect:ie,autoPanOnNodeDrag:oe,colorModeSSR:le,style:ue,defaultEdgeOptions:ce,elevateNodesOnSelect:de,elevateEdgesOnSelect:fe,nodesDraggable:he,nodesConnectable:$e,elementsSelectable:ge,nodesFocusable:pe,edgesFocusable:ve,disableKeyboardA11y:Se,noDragClass:Ne,noPanClass:Pe,noWheelClass:Ce,...Ee}=t.rest;return Ee});var a=dv();let l;var c=Ie(a);Pt(c,()=>t.children??Ze),_n(a,u=>n(u),()=>n()),Ae((u,d)=>l=Kn(a,l,{class:["svelte-flow","svelte-flow__container",$(s),t.colorMode],"data-testid":"svelte-flow__wrapper",role:"application",...$(o),[At]:{width:u,height:d}},"svelte-12wlba6"),[()=>pt(t.width),()=>pt(t.height)]),yr(a,"clientHeight",i),yr(a,"clientWidth",r),me(e,a),_e()}var hv=ze('<div class="svelte-flow__viewport-back svelte-flow__container"></div> <!> <div class="svelte-flow__edge-labels svelte-flow__container"></div> <!> <!> <!> <div class="svelte-flow__viewport-front svelte-flow__container"></div>',1),$v=ze("<!> <!>",1),gv=ze("<!> <!> <!> <!> <!>",1);function pv(e,t){we(t,!0);let n=J(t,"paneClickDistance",3,1),r=J(t,"nodeClickDistance",3,1),i=J(t,"panOnScrollMode",19,()=>Rt.Free),s=J(t,"preventScrolling",3,!0),o=J(t,"zoomOnScroll",3,!0),a=J(t,"zoomOnDoubleClick",3,!0),l=J(t,"zoomOnPinch",3,!0),c=J(t,"panOnScroll",3,!1),u=J(t,"panOnDrag",3,!0),d=J(t,"selectionOnDrag",3,!0),f=J(t,"connectionLineType",19,()=>bt.Bezier),h=J(t,"nodes",31,()=>Ge([])),g=J(t,"edges",31,()=>Ge([])),w=J(t,"viewport",15,void 0),v=jn(t,["$$slots","$$events","$$legacy","width","height","proOptions","selectionKey","deleteKey","panActivationKey","multiSelectionKey","zoomActivationKey","paneClickDistance","nodeClickDistance","onmovestart","onmoveend","onmove","oninit","onnodeclick","onnodecontextmenu","onnodedrag","onnodedragstart","onnodedragstop","onnodepointerenter","onnodepointermove","onnodepointerleave","onselectionclick","onselectioncontextmenu","onselectionstart","onselectionend","onedgeclick","onedgecontextmenu","onedgepointerenter","onedgepointerleave","onpaneclick","onpanecontextmenu","panOnScrollMode","preventScrolling","zoomOnScroll","zoomOnDoubleClick","zoomOnPinch","panOnScroll","panOnDrag","selectionOnDrag","connectionLineComponent","connectionLineStyle","connectionLineContainerStyle","connectionLineType","attributionPosition","children","nodes","edges","viewport"]),m=Yu({props:v,width:t.width,height:t.height,get nodes(){return h()},set nodes(x){h(x)},get edges(){return g()},set edges(x){g(x)},get viewport(){return w()},set viewport(x){w(x)}});const E=On(Ar);E&&E.setStore&&E.setStore(m),An(Ar,{provider:!1,getStore(){return m}}),Ht(()=>{const x={nodes:m.selectedNodes,edges:m.selectedEdges};Ye(()=>t.onselectionchange)?.(x);for(const b of m.selectionChangeHandlers.values())b(x)}),Br(()=>{m.reset()}),fv(e,{get colorMode(){return m.colorMode},get width(){return t.width},get height(){return t.height},get rest(){return v},get domNode(){return m.domNode},set domNode(x){m.domNode=x},get clientWidth(){return m.width},set clientWidth(x){m.width=x},get clientHeight(){return m.height},set clientHeight(x){m.height=x},children:(x,b)=>{var N=gv(),S=Le(N);iv(S,{get selectionKey(){return t.selectionKey},get deleteKey(){return t.deleteKey},get panActivationKey(){return t.panActivationKey},get multiSelectionKey(){return t.multiSelectionKey},get zoomActivationKey(){return t.zoomActivationKey},get store(){return m},set store(y){m=y}});var D=ke(S,2);Pp(D,{get panOnScrollMode(){return i()},get preventScrolling(){return s()},get zoomOnScroll(){return o()},get zoomOnDoubleClick(){return a()},get zoomOnPinch(){return l()},get panOnScroll(){return c()},get panOnDrag(){return u()},get paneClickDistance(){return n()},get onmovestart(){return t.onmovestart},get onmove(){return t.onmove},get onmoveend(){return t.onmoveend},get oninit(){return t.oninit},get store(){return m},set store(y){m=y},children:(y,_)=>{Ip(y,{get onpaneclick(){return t.onpaneclick},get onpanecontextmenu(){return t.onpanecontextmenu},get onselectionstart(){return t.onselectionstart},get onselectionend(){return t.onselectionend},get panOnDrag(){return u()},get selectionOnDrag(){return d()},get store(){return m},set store(C){m=C},children:(C,p)=>{var P=$v(),O=Le(P);Ap(O,{get store(){return m},set store(R){m=R},children:(R,z)=>{var T=hv(),H=ke(Le(T),2);Up(H,{get onedgeclick(){return t.onedgeclick},get onedgecontextmenu(){return t.onedgecontextmenu},get onedgepointerenter(){return t.onedgepointerenter},get onedgepointerleave(){return t.onedgepointerleave},get store(){return m},set store(U){m=U}});var Y=ke(H,4);av(Y,{get type(){return f()},get LineComponent(){return t.connectionLineComponent},get containerStyle(){return t.connectionLineContainerStyle},get style(){return t.connectionLineStyle},get store(){return m},set store(U){m=U}});var V=ke(Y,2);Yp(V,{get nodeClickDistance(){return r()},get onnodeclick(){return t.onnodeclick},get onnodecontextmenu(){return t.onnodecontextmenu},get onnodepointerenter(){return t.onnodepointerenter},get onnodepointermove(){return t.onnodepointermove},get onnodepointerleave(){return t.onnodepointerleave},get onnodedrag(){return t.onnodedrag},get onnodedragstart(){return t.onnodedragstart},get onnodedragstop(){return t.onnodedragstop},get store(){return m},set store(U){m=U}});var j=ke(V,2);nv(j,{get onselectionclick(){return t.onselectionclick},get onselectioncontextmenu(){return t.onselectioncontextmenu},get onnodedrag(){return t.onnodedrag},get onnodedragstart(){return t.onnodedragstart},get onnodedragstop(){return t.onnodedragstop},get store(){return m},set store(U){m=U}}),me(R,T)},$$slots:{default:!0}});var L=ke(O,2);const W=A(()=>!!(m.selectionRect&&m.selectionRectMode==="user")),X=A(()=>m.selectionRect?.width),G=A(()=>m.selectionRect?.height),te=A(()=>m.selectionRect?.x),se=A(()=>m.selectionRect?.y);Bu(L,{get isVisible(){return $(W)},get width(){return $(X)},get height(){return $(G)},get x(){return $(te)},get y(){return $(se)}}),me(C,P)},$$slots:{default:!0}})},$$slots:{default:!0}});var k=ke(D,2);cv(k,{get proOptions(){return t.proOptions},get position(){return t.attributionPosition}});var I=ke(k,2);Dp(I,{store:m});var M=ke(I,2);Pt(M,()=>t.children??Ze),me(x,N)},$$slots:{default:!0}}),_e()}function vv(e,t){we(t,!0);let n=xe(Yu({props:{},nodes:[],edges:[]}));An(Ar,{provider:!0,getStore(){return $(n)},setStore:s=>{q(n,s)}}),Br(()=>{$(n).reset()});var r=Yt(),i=Le(r);Pt(i,()=>t.children??Ze),me(e,r),_e()}var zt;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(zt||(zt={}));var mv=tt("<circle></circle>");function yv(e,t){var n=mv();Ae(()=>{ye(n,"cx",t.radius),ye(n,"cy",t.radius),ye(n,"r",t.radius),lt(n,0,Ct(["svelte-flow__background-pattern","dots",t.class]))}),me(e,n)}var bv=tt("<path></path>");function wv(e,t){we(t,!0);var n=bv();Ae(()=>{ye(n,"stroke-width",t.lineWidth),ye(n,"d",`M${t.dimensions[0]/2} 0 V${t.dimensions[1]} M0 ${t.dimensions[1]/2} H${t.dimensions[0]}`),lt(n,0,Ct(["svelte-flow__background-pattern",t.variant,t.class]))}),me(e,n),_e()}const _v={[zt.Dots]:1,[zt.Lines]:1,[zt.Cross]:6};var xv=tt('<svg data-testid="svelte-flow__background"><pattern patternUnits="userSpaceOnUse"><!></pattern><rect x="0" y="0" width="100%" height="100%"></rect></svg>');function Ev(e,t){we(t,!0);let n=J(t,"variant",19,()=>zt.Dots),r=J(t,"gap",3,20),i=J(t,"lineWidth",3,1),s=A(Ut),o=A(()=>n()===zt.Dots),a=A(()=>n()===zt.Cross),l=A(()=>Array.isArray(r())?r():[r(),r()]),c=A(()=>`background-pattern-${$(s).flowId}-${t.id??""}`),u=A(()=>[$(l)[0]*$(s).viewport.zoom||1,$(l)[1]*$(s).viewport.zoom||1]),d=A(()=>(t.size??_v[n()])*$(s).viewport.zoom),f=A(()=>$(a)?[$(d),$(d)]:$(u)),h=A(()=>$(o)?[$(d)/2,$(d)/2]:[$(f)[0]/2,$(f)[1]/2]);var g=xv();let w;var v=Ie(g),m=Ie(v);{var E=N=>{const S=A(()=>$(d)/2);yv(N,{get radius(){return $(S)},get class(){return t.patternClass}})},x=N=>{wv(N,{get dimensions(){return $(f)},get variant(){return n()},get lineWidth(){return i()},get class(){return t.patternClass}})};Fe(m,N=>{$(o)?N(E):N(x,!1)})}var b=ke(v);Ae(()=>{lt(g,0,Ct(["svelte-flow__background","svelte-flow__container",t.class])),w=et(g,"",w,{"--xy-background-color-props":t.bgColor,"--xy-background-pattern-color-props":t.patternColor}),ye(v,"id",$(c)),ye(v,"x",$(s).viewport.x%$(u)[0]),ye(v,"y",$(s).viewport.y%$(u)[1]),ye(v,"width",$(u)[0]),ye(v,"height",$(u)[1]),ye(v,"patternTransform",`translate(-${$(h)[0]},-${$(h)[1]})`),ye(b,"fill",`url(#${$(c)})`)}),me(e,g),_e()}function kv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var $i,ia;function ts(){if(ia)return $i;ia=1;var e="\0",t="\0",n="";class r{_isDirected=!0;_isMultigraph=!1;_isCompound=!1;_label;_defaultNodeLabelFn=()=>{};_defaultEdgeLabelFn=()=>{};_nodes={};_in={};_preds={};_out={};_sucs={};_edgeObjs={};_edgeLabels={};_nodeCount=0;_edgeCount=0;_parent;_children;constructor(u){u&&(this._isDirected=Object.hasOwn(u,"directed")?u.directed:!0,this._isMultigraph=Object.hasOwn(u,"multigraph")?u.multigraph:!1,this._isCompound=Object.hasOwn(u,"compound")?u.compound:!1),this._isCompound&&(this._parent={},this._children={},this._children[t]={})}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(u){return this._label=u,this}graph(){return this._label}setDefaultNodeLabel(u){return this._defaultNodeLabelFn=u,typeof u!="function"&&(this._defaultNodeLabelFn=()=>u),this}nodeCount(){return this._nodeCount}nodes(){return Object.keys(this._nodes)}sources(){var u=this;return this.nodes().filter(d=>Object.keys(u._in[d]).length===0)}sinks(){var u=this;return this.nodes().filter(d=>Object.keys(u._out[d]).length===0)}setNodes(u,d){var f=arguments,h=this;return u.forEach(function(g){f.length>1?h.setNode(g,d):h.setNode(g)}),this}setNode(u,d){return Object.hasOwn(this._nodes,u)?(arguments.length>1&&(this._nodes[u]=d),this):(this._nodes[u]=arguments.length>1?d:this._defaultNodeLabelFn(u),this._isCompound&&(this._parent[u]=t,this._children[u]={},this._children[t][u]=!0),this._in[u]={},this._preds[u]={},this._out[u]={},this._sucs[u]={},++this._nodeCount,this)}node(u){return this._nodes[u]}hasNode(u){return Object.hasOwn(this._nodes,u)}removeNode(u){var d=this;if(Object.hasOwn(this._nodes,u)){var f=h=>d.removeEdge(d._edgeObjs[h]);delete this._nodes[u],this._isCompound&&(this._removeFromParentsChildList(u),delete this._parent[u],this.children(u).forEach(function(h){d.setParent(h)}),delete this._children[u]),Object.keys(this._in[u]).forEach(f),delete this._in[u],delete this._preds[u],Object.keys(this._out[u]).forEach(f),delete this._out[u],delete this._sucs[u],--this._nodeCount}return this}setParent(u,d){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(d===void 0)d=t;else{d+="";for(var f=d;f!==void 0;f=this.parent(f))if(f===u)throw new Error("Setting "+d+" as parent of "+u+" would create a cycle");this.setNode(d)}return this.setNode(u),this._removeFromParentsChildList(u),this._parent[u]=d,this._children[d][u]=!0,this}_removeFromParentsChildList(u){delete this._children[this._parent[u]][u]}parent(u){if(this._isCompound){var d=this._parent[u];if(d!==t)return d}}children(u=t){if(this._isCompound){var d=this._children[u];if(d)return Object.keys(d)}else{if(u===t)return this.nodes();if(this.hasNode(u))return[]}}predecessors(u){var d=this._preds[u];if(d)return Object.keys(d)}successors(u){var d=this._sucs[u];if(d)return Object.keys(d)}neighbors(u){var d=this.predecessors(u);if(d){const h=new Set(d);for(var f of this.successors(u))h.add(f);return Array.from(h.values())}}isLeaf(u){var d;return this.isDirected()?d=this.successors(u):d=this.neighbors(u),d.length===0}filterNodes(u){var d=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});d.setGraph(this.graph());var f=this;Object.entries(this._nodes).forEach(function([w,v]){u(w)&&d.setNode(w,v)}),Object.values(this._edgeObjs).forEach(function(w){d.hasNode(w.v)&&d.hasNode(w.w)&&d.setEdge(w,f.edge(w))});var h={};function g(w){var v=f.parent(w);return v===void 0||d.hasNode(v)?(h[w]=v,v):v in h?h[v]:g(v)}return this._isCompound&&d.nodes().forEach(w=>d.setParent(w,g(w))),d}setDefaultEdgeLabel(u){return this._defaultEdgeLabelFn=u,typeof u!="function"&&(this._defaultEdgeLabelFn=()=>u),this}edgeCount(){return this._edgeCount}edges(){return Object.values(this._edgeObjs)}setPath(u,d){var f=this,h=arguments;return u.reduce(function(g,w){return h.length>1?f.setEdge(g,w,d):f.setEdge(g,w),w}),this}setEdge(){var u,d,f,h,g=!1,w=arguments[0];typeof w=="object"&&w!==null&&"v"in w?(u=w.v,d=w.w,f=w.name,arguments.length===2&&(h=arguments[1],g=!0)):(u=w,d=arguments[1],f=arguments[3],arguments.length>2&&(h=arguments[2],g=!0)),u=""+u,d=""+d,f!==void 0&&(f=""+f);var v=o(this._isDirected,u,d,f);if(Object.hasOwn(this._edgeLabels,v))return g&&(this._edgeLabels[v]=h),this;if(f!==void 0&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(u),this.setNode(d),this._edgeLabels[v]=g?h:this._defaultEdgeLabelFn(u,d,f);var m=a(this._isDirected,u,d,f);return u=m.v,d=m.w,Object.freeze(m),this._edgeObjs[v]=m,i(this._preds[d],u),i(this._sucs[u],d),this._in[d][v]=m,this._out[u][v]=m,this._edgeCount++,this}edge(u,d,f){var h=arguments.length===1?l(this._isDirected,arguments[0]):o(this._isDirected,u,d,f);return this._edgeLabels[h]}edgeAsObj(){const u=this.edge(...arguments);return typeof u!="object"?{label:u}:u}hasEdge(u,d,f){var h=arguments.length===1?l(this._isDirected,arguments[0]):o(this._isDirected,u,d,f);return Object.hasOwn(this._edgeLabels,h)}removeEdge(u,d,f){var h=arguments.length===1?l(this._isDirected,arguments[0]):o(this._isDirected,u,d,f),g=this._edgeObjs[h];return g&&(u=g.v,d=g.w,delete this._edgeLabels[h],delete this._edgeObjs[h],s(this._preds[d],u),s(this._sucs[u],d),delete this._in[d][h],delete this._out[u][h],this._edgeCount--),this}inEdges(u,d){var f=this._in[u];if(f){var h=Object.values(f);return d?h.filter(g=>g.v===d):h}}outEdges(u,d){var f=this._out[u];if(f){var h=Object.values(f);return d?h.filter(g=>g.w===d):h}}nodeEdges(u,d){var f=this.inEdges(u,d);if(f)return f.concat(this.outEdges(u,d))}}function i(c,u){c[u]?c[u]++:c[u]=1}function s(c,u){--c[u]||delete c[u]}function o(c,u,d,f){var h=""+u,g=""+d;if(!c&&h>g){var w=h;h=g,g=w}return h+n+g+n+(f===void 0?e:f)}function a(c,u,d,f){var h=""+u,g=""+d;if(!c&&h>g){var w=h;h=g,g=w}var v={v:h,w:g};return f&&(v.name=f),v}function l(c,u){return o(c,u.v,u.w,u.name)}return $i=r,$i}var gi,oa;function Sv(){return oa||(oa=1,gi="2.2.4"),gi}var pi,sa;function Nv(){return sa||(sa=1,pi={Graph:ts(),version:Sv()}),pi}var vi,aa;function Pv(){if(aa)return vi;aa=1;var e=ts();vi={write:t,read:i};function t(s){var o={options:{directed:s.isDirected(),multigraph:s.isMultigraph(),compound:s.isCompound()},nodes:n(s),edges:r(s)};return s.graph()!==void 0&&(o.value=structuredClone(s.graph())),o}function n(s){return s.nodes().map(function(o){var a=s.node(o),l=s.parent(o),c={v:o};return a!==void 0&&(c.value=a),l!==void 0&&(c.parent=l),c})}function r(s){return s.edges().map(function(o){var a=s.edge(o),l={v:o.v,w:o.w};return o.name!==void 0&&(l.name=o.name),a!==void 0&&(l.value=a),l})}function i(s){var o=new e(s.options).setGraph(s.value);return s.nodes.forEach(function(a){o.setNode(a.v,a.value),a.parent&&o.setParent(a.v,a.parent)}),s.edges.forEach(function(a){o.setEdge({v:a.v,w:a.w,name:a.name},a.value)}),o}return vi}var mi,la;function Cv(){if(la)return mi;la=1,mi=e;function e(t){var n={},r=[],i;function s(o){Object.hasOwn(n,o)||(n[o]=!0,i.push(o),t.successors(o).forEach(s),t.predecessors(o).forEach(s))}return t.nodes().forEach(function(o){i=[],s(o),i.length&&r.push(i)}),r}return mi}var yi,ua;function Ku(){if(ua)return yi;ua=1;class e{_arr=[];_keyIndices={};size(){return this._arr.length}keys(){return this._arr.map(function(n){return n.key})}has(n){return Object.hasOwn(this._keyIndices,n)}priority(n){var r=this._keyIndices[n];if(r!==void 0)return this._arr[r].priority}min(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key}add(n,r){var i=this._keyIndices;if(n=String(n),!Object.hasOwn(i,n)){var s=this._arr,o=s.length;return i[n]=o,s.push({key:n,priority:r}),this._decrease(o),!0}return!1}removeMin(){this._swap(0,this._arr.length-1);var n=this._arr.pop();return delete this._keyIndices[n.key],this._heapify(0),n.key}decrease(n,r){var i=this._keyIndices[n];if(r>this._arr[i].priority)throw new Error("New priority is greater than current priority. Key: "+n+" Old: "+this._arr[i].priority+" New: "+r);this._arr[i].priority=r,this._decrease(i)}_heapify(n){var r=this._arr,i=2*n,s=i+1,o=n;i<r.length&&(o=r[i].priority<r[o].priority?i:o,s<r.length&&(o=r[s].priority<r[o].priority?s:o),o!==n&&(this._swap(n,o),this._heapify(o)))}_decrease(n){for(var r=this._arr,i=r[n].priority,s;n!==0&&(s=n>>1,!(r[s].priority<i));)this._swap(n,s),n=s}_swap(n,r){var i=this._arr,s=this._keyIndices,o=i[n],a=i[r];i[n]=a,i[r]=o,s[a.key]=n,s[o.key]=r}}return yi=e,yi}var bi,ca;function ju(){if(ca)return bi;ca=1;var e=Ku();bi=n;var t=()=>1;function n(i,s,o,a){return r(i,String(s),o||t,a||function(l){return i.outEdges(l)})}function r(i,s,o,a){var l={},c=new e,u,d,f=function(h){var g=h.v!==u?h.v:h.w,w=l[g],v=o(h),m=d.distance+v;if(v<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+h+" Weight: "+v);m<w.distance&&(w.distance=m,w.predecessor=u,c.decrease(g,m))};for(i.nodes().forEach(function(h){var g=h===s?0:Number.POSITIVE_INFINITY;l[h]={distance:g},c.add(h,g)});c.size()>0&&(u=c.removeMin(),d=l[u],d.distance!==Number.POSITIVE_INFINITY);)a(u).forEach(f);return l}return bi}var wi,da;function Iv(){if(da)return wi;da=1;var e=ju();wi=t;function t(n,r,i){return n.nodes().reduce(function(s,o){return s[o]=e(n,o,r,i),s},{})}return wi}var _i,fa;function Gu(){if(fa)return _i;fa=1,_i=e;function e(t){var n=0,r=[],i={},s=[];function o(a){var l=i[a]={onStack:!0,lowlink:n,index:n++};if(r.push(a),t.successors(a).forEach(function(d){Object.hasOwn(i,d)?i[d].onStack&&(l.lowlink=Math.min(l.lowlink,i[d].index)):(o(d),l.lowlink=Math.min(l.lowlink,i[d].lowlink))}),l.lowlink===l.index){var c=[],u;do u=r.pop(),i[u].onStack=!1,c.push(u);while(a!==u);s.push(c)}}return t.nodes().forEach(function(a){Object.hasOwn(i,a)||o(a)}),s}return _i}var xi,ha;function Ov(){if(ha)return xi;ha=1;var e=Gu();xi=t;function t(n){return e(n).filter(function(r){return r.length>1||r.length===1&&n.hasEdge(r[0],r[0])})}return xi}var Ei,$a;function Av(){if($a)return Ei;$a=1,Ei=t;var e=()=>1;function t(r,i,s){return n(r,i||e,s||function(o){return r.outEdges(o)})}function n(r,i,s){var o={},a=r.nodes();return a.forEach(function(l){o[l]={},o[l][l]={distance:0},a.forEach(function(c){l!==c&&(o[l][c]={distance:Number.POSITIVE_INFINITY})}),s(l).forEach(function(c){var u=c.v===l?c.w:c.v,d=i(c);o[l][u]={distance:d,predecessor:l}})}),a.forEach(function(l){var c=o[l];a.forEach(function(u){var d=o[u];a.forEach(function(f){var h=d[l],g=c[f],w=d[f],v=h.distance+g.distance;v<w.distance&&(w.distance=v,w.predecessor=g.predecessor)})})}),o}return Ei}var ki,ga;function Zu(){if(ga)return ki;ga=1;function e(n){var r={},i={},s=[];function o(a){if(Object.hasOwn(i,a))throw new t;Object.hasOwn(r,a)||(i[a]=!0,r[a]=!0,n.predecessors(a).forEach(o),delete i[a],s.push(a))}if(n.sinks().forEach(o),Object.keys(r).length!==n.nodeCount())throw new t;return s}class t extends Error{constructor(){super(...arguments)}}return ki=e,e.CycleException=t,ki}var Si,pa;function Mv(){if(pa)return Si;pa=1;var e=Zu();Si=t;function t(n){try{e(n)}catch(r){if(r instanceof e.CycleException)return!1;throw r}return!0}return Si}var Ni,va;function Uu(){if(va)return Ni;va=1,Ni=e;function e(i,s,o){Array.isArray(s)||(s=[s]);var a=i.isDirected()?d=>i.successors(d):d=>i.neighbors(d),l=o==="post"?t:n,c=[],u={};return s.forEach(d=>{if(!i.hasNode(d))throw new Error("Graph does not have node: "+d);l(d,a,u,c)}),c}function t(i,s,o,a){for(var l=[[i,!1]];l.length>0;){var c=l.pop();c[1]?a.push(c[0]):Object.hasOwn(o,c[0])||(o[c[0]]=!0,l.push([c[0],!0]),r(s(c[0]),u=>l.push([u,!1])))}}function n(i,s,o,a){for(var l=[i];l.length>0;){var c=l.pop();Object.hasOwn(o,c)||(o[c]=!0,a.push(c),r(s(c),u=>l.push(u)))}}function r(i,s){for(var o=i.length;o--;)s(i[o],o,i);return i}return Ni}var Pi,ma;function Tv(){if(ma)return Pi;ma=1;var e=Uu();Pi=t;function t(n,r){return e(n,r,"post")}return Pi}var Ci,ya;function Dv(){if(ya)return Ci;ya=1;var e=Uu();Ci=t;function t(n,r){return e(n,r,"pre")}return Ci}var Ii,ba;function Rv(){if(ba)return Ii;ba=1;var e=ts(),t=Ku();Ii=n;function n(r,i){var s=new e,o={},a=new t,l;function c(d){var f=d.v===l?d.w:d.v,h=a.priority(f);if(h!==void 0){var g=i(d);g<h&&(o[f]=l,a.decrease(f,g))}}if(r.nodeCount()===0)return s;r.nodes().forEach(function(d){a.add(d,Number.POSITIVE_INFINITY),s.setNode(d)}),a.decrease(r.nodes()[0],0);for(var u=!1;a.size()>0;){if(l=a.removeMin(),Object.hasOwn(o,l))s.setEdge(l,o[l]);else{if(u)throw new Error("Input graph is not connected: "+r);u=!0}r.nodeEdges(l).forEach(c)}return s}return Ii}var Oi,wa;function zv(){return wa||(wa=1,Oi={components:Cv(),dijkstra:ju(),dijkstraAll:Iv(),findCycles:Ov(),floydWarshall:Av(),isAcyclic:Mv(),postorder:Tv(),preorder:Dv(),prim:Rv(),tarjan:Gu(),topsort:Zu()}),Oi}var Ai,_a;function at(){if(_a)return Ai;_a=1;var e=Nv();return Ai={Graph:e.Graph,json:Pv(),alg:zv(),version:e.version},Ai}var Mi,xa;function Hv(){if(xa)return Mi;xa=1;class e{constructor(){let i={};i._next=i._prev=i,this._sentinel=i}dequeue(){let i=this._sentinel,s=i._prev;if(s!==i)return t(s),s}enqueue(i){let s=this._sentinel;i._prev&&i._next&&t(i),i._next=s._next,s._next._prev=i,s._next=i,i._prev=s}toString(){let i=[],s=this._sentinel,o=s._prev;for(;o!==s;)i.push(JSON.stringify(o,n)),o=o._prev;return"["+i.join(", ")+"]"}}function t(r){r._prev._next=r._next,r._next._prev=r._prev,delete r._next,delete r._prev}function n(r,i){if(r!=="_next"&&r!=="_prev")return i}return Mi=e,Mi}var Ti,Ea;function Lv(){if(Ea)return Ti;Ea=1;let e=at().Graph,t=Hv();Ti=r;let n=()=>1;function r(c,u){if(c.nodeCount()<=1)return[];let d=o(c,u||n);return i(d.graph,d.buckets,d.zeroIdx).flatMap(h=>c.outEdges(h.v,h.w))}function i(c,u,d){let f=[],h=u[u.length-1],g=u[0],w;for(;c.nodeCount();){for(;w=g.dequeue();)s(c,u,d,w);for(;w=h.dequeue();)s(c,u,d,w);if(c.nodeCount()){for(let v=u.length-2;v>0;--v)if(w=u[v].dequeue(),w){f=f.concat(s(c,u,d,w,!0));break}}}return f}function s(c,u,d,f,h){let g=h?[]:void 0;return c.inEdges(f.v).forEach(w=>{let v=c.edge(w),m=c.node(w.v);h&&g.push({v:w.v,w:w.w}),m.out-=v,a(u,d,m)}),c.outEdges(f.v).forEach(w=>{let v=c.edge(w),m=w.w,E=c.node(m);E.in-=v,a(u,d,E)}),c.removeNode(f.v),g}function o(c,u){let d=new e,f=0,h=0;c.nodes().forEach(v=>{d.setNode(v,{v,in:0,out:0})}),c.edges().forEach(v=>{let m=d.edge(v.v,v.w)||0,E=u(v),x=m+E;d.setEdge(v.v,v.w,x),h=Math.max(h,d.node(v.v).out+=E),f=Math.max(f,d.node(v.w).in+=E)});let g=l(h+f+3).map(()=>new t),w=f+1;return d.nodes().forEach(v=>{a(g,w,d.node(v))}),{graph:d,buckets:g,zeroIdx:w}}function a(c,u,d){d.out?d.in?c[d.out-d.in+u].enqueue(d):c[c.length-1].enqueue(d):c[0].enqueue(d)}function l(c){const u=[];for(let d=0;d<c;d++)u.push(d);return u}return Ti}var Di,ka;function He(){if(ka)return Di;ka=1;let e=at().Graph;Di={addBorderNode:u,addDummyNode:t,applyWithChunking:h,asNonCompoundGraph:r,buildLayerMatrix:a,intersectRect:o,mapValues:S,maxRank:g,normalizeRanks:l,notime:m,partition:w,pick:N,predecessorWeights:s,range:b,removeEmptyRanks:c,simplify:n,successorWeights:i,time:v,uniqueId:x,zipObject:D};function t(k,I,M,y){let _;do _=x(y);while(k.hasNode(_));return M.dummy=I,k.setNode(_,M),_}function n(k){let I=new e().setGraph(k.graph());return k.nodes().forEach(M=>I.setNode(M,k.node(M))),k.edges().forEach(M=>{let y=I.edge(M.v,M.w)||{weight:0,minlen:1},_=k.edge(M);I.setEdge(M.v,M.w,{weight:y.weight+_.weight,minlen:Math.max(y.minlen,_.minlen)})}),I}function r(k){let I=new e({multigraph:k.isMultigraph()}).setGraph(k.graph());return k.nodes().forEach(M=>{k.children(M).length||I.setNode(M,k.node(M))}),k.edges().forEach(M=>{I.setEdge(M,k.edge(M))}),I}function i(k){let I=k.nodes().map(M=>{let y={};return k.outEdges(M).forEach(_=>{y[_.w]=(y[_.w]||0)+k.edge(_).weight}),y});return D(k.nodes(),I)}function s(k){let I=k.nodes().map(M=>{let y={};return k.inEdges(M).forEach(_=>{y[_.v]=(y[_.v]||0)+k.edge(_).weight}),y});return D(k.nodes(),I)}function o(k,I){let M=k.x,y=k.y,_=I.x-M,C=I.y-y,p=k.width/2,P=k.height/2;if(!_&&!C)throw new Error("Not possible to find intersection inside of the rectangle");let O,L;return Math.abs(C)*p>Math.abs(_)*P?(C<0&&(P=-P),O=P*_/C,L=P):(_<0&&(p=-p),O=p,L=p*C/_),{x:M+O,y:y+L}}function a(k){let I=b(g(k)+1).map(()=>[]);return k.nodes().forEach(M=>{let y=k.node(M),_=y.rank;_!==void 0&&(I[_][y.order]=M)}),I}function l(k){let I=k.nodes().map(y=>{let _=k.node(y).rank;return _===void 0?Number.MAX_VALUE:_}),M=h(Math.min,I);k.nodes().forEach(y=>{let _=k.node(y);Object.hasOwn(_,"rank")&&(_.rank-=M)})}function c(k){let I=k.nodes().map(p=>k.node(p).rank),M=h(Math.min,I),y=[];k.nodes().forEach(p=>{let P=k.node(p).rank-M;y[P]||(y[P]=[]),y[P].push(p)});let _=0,C=k.graph().nodeRankFactor;Array.from(y).forEach((p,P)=>{p===void 0&&P%C!==0?--_:p!==void 0&&_&&p.forEach(O=>k.node(O).rank+=_)})}function u(k,I,M,y){let _={width:0,height:0};return arguments.length>=4&&(_.rank=M,_.order=y),t(k,"border",_,I)}function d(k,I=f){const M=[];for(let y=0;y<k.length;y+=I){const _=k.slice(y,y+I);M.push(_)}return M}const f=65535;function h(k,I){if(I.length>f){const M=d(I);return k.apply(null,M.map(y=>k.apply(null,y)))}else return k.apply(null,I)}function g(k){const M=k.nodes().map(y=>{let _=k.node(y).rank;return _===void 0?Number.MIN_VALUE:_});return h(Math.max,M)}function w(k,I){let M={lhs:[],rhs:[]};return k.forEach(y=>{I(y)?M.lhs.push(y):M.rhs.push(y)}),M}function v(k,I){let M=Date.now();try{return I()}finally{console.log(k+" time: "+(Date.now()-M)+"ms")}}function m(k,I){return I()}let E=0;function x(k){var I=++E;return toString(k)+I}function b(k,I,M=1){I==null&&(I=k,k=0);let y=C=>C<I;M<0&&(y=C=>I<C);const _=[];for(let C=k;y(C);C+=M)_.push(C);return _}function N(k,I){const M={};for(const y of I)k[y]!==void 0&&(M[y]=k[y]);return M}function S(k,I){let M=I;return typeof I=="string"&&(M=y=>y[I]),Object.entries(k).reduce((y,[_,C])=>(y[_]=M(C,_),y),{})}function D(k,I){return k.reduce((M,y,_)=>(M[y]=I[_],M),{})}return Di}var Ri,Sa;function Vv(){if(Sa)return Ri;Sa=1;let e=Lv(),t=He().uniqueId;Ri={run:n,undo:i};function n(s){(s.graph().acyclicer==="greedy"?e(s,a(s)):r(s)).forEach(l=>{let c=s.edge(l);s.removeEdge(l),c.forwardName=l.name,c.reversed=!0,s.setEdge(l.w,l.v,c,t("rev"))});function a(l){return c=>l.edge(c).weight}}function r(s){let o=[],a={},l={};function c(u){Object.hasOwn(l,u)||(l[u]=!0,a[u]=!0,s.outEdges(u).forEach(d=>{Object.hasOwn(a,d.w)?o.push(d):c(d.w)}),delete a[u])}return s.nodes().forEach(c),o}function i(s){s.edges().forEach(o=>{let a=s.edge(o);if(a.reversed){s.removeEdge(o);let l=a.forwardName;delete a.reversed,delete a.forwardName,s.setEdge(o.w,o.v,a,l)}})}return Ri}var zi,Na;function Yv(){if(Na)return zi;Na=1;let e=He();zi={run:t,undo:r};function t(i){i.graph().dummyChains=[],i.edges().forEach(s=>n(i,s))}function n(i,s){let o=s.v,a=i.node(o).rank,l=s.w,c=i.node(l).rank,u=s.name,d=i.edge(s),f=d.labelRank;if(c===a+1)return;i.removeEdge(s);let h,g,w;for(w=0,++a;a<c;++w,++a)d.points=[],g={width:0,height:0,edgeLabel:d,edgeObj:s,rank:a},h=e.addDummyNode(i,"edge",g,"_d"),a===f&&(g.width=d.width,g.height=d.height,g.dummy="edge-label",g.labelpos=d.labelpos),i.setEdge(o,h,{weight:d.weight},u),w===0&&i.graph().dummyChains.push(h),o=h;i.setEdge(o,l,{weight:d.weight},u)}function r(i){i.graph().dummyChains.forEach(s=>{let o=i.node(s),a=o.edgeLabel,l;for(i.setEdge(o.edgeObj,a);o.dummy;)l=i.successors(s)[0],i.removeNode(s),a.points.push({x:o.x,y:o.y}),o.dummy==="edge-label"&&(a.x=o.x,a.y=o.y,a.width=o.width,a.height=o.height),s=l,o=i.node(s)})}return zi}var Hi,Pa;function Mr(){if(Pa)return Hi;Pa=1;const{applyWithChunking:e}=He();Hi={longestPath:t,slack:n};function t(r){var i={};function s(o){var a=r.node(o);if(Object.hasOwn(i,o))return a.rank;i[o]=!0;let l=r.outEdges(o).map(u=>u==null?Number.POSITIVE_INFINITY:s(u.w)-r.edge(u).minlen);var c=e(Math.min,l);return c===Number.POSITIVE_INFINITY&&(c=0),a.rank=c}r.sources().forEach(s)}function n(r,i){return r.node(i.w).rank-r.node(i.v).rank-r.edge(i).minlen}return Hi}var Li,Ca;function Qu(){if(Ca)return Li;Ca=1;var e=at().Graph,t=Mr().slack;Li=n;function n(o){var a=new e({directed:!1}),l=o.nodes()[0],c=o.nodeCount();a.setNode(l,{});for(var u,d;r(a,o)<c;)u=i(a,o),d=a.hasNode(u.v)?t(o,u):-t(o,u),s(a,o,d);return a}function r(o,a){function l(c){a.nodeEdges(c).forEach(u=>{var d=u.v,f=c===d?u.w:d;!o.hasNode(f)&&!t(a,u)&&(o.setNode(f,{}),o.setEdge(c,f,{}),l(f))})}return o.nodes().forEach(l),o.nodeCount()}function i(o,a){return a.edges().reduce((c,u)=>{let d=Number.POSITIVE_INFINITY;return o.hasNode(u.v)!==o.hasNode(u.w)&&(d=t(a,u)),d<c[0]?[d,u]:c},[Number.POSITIVE_INFINITY,null])[1]}function s(o,a,l){o.nodes().forEach(c=>a.node(c).rank+=l)}return Li}var Vi,Ia;function Fv(){if(Ia)return Vi;Ia=1;var e=Qu(),t=Mr().slack,n=Mr().longestPath,r=at().alg.preorder,i=at().alg.postorder,s=He().simplify;Vi=o,o.initLowLimValues=u,o.initCutValues=a,o.calcCutValue=c,o.leaveEdge=f,o.enterEdge=h,o.exchangeEdges=g;function o(E){E=s(E),n(E);var x=e(E);u(x),a(x,E);for(var b,N;b=f(x);)N=h(x,E,b),g(x,E,b,N)}function a(E,x){var b=i(E,E.nodes());b=b.slice(0,b.length-1),b.forEach(N=>l(E,x,N))}function l(E,x,b){var N=E.node(b),S=N.parent;E.edge(b,S).cutvalue=c(E,x,b)}function c(E,x,b){var N=E.node(b),S=N.parent,D=!0,k=x.edge(b,S),I=0;return k||(D=!1,k=x.edge(S,b)),I=k.weight,x.nodeEdges(b).forEach(M=>{var y=M.v===b,_=y?M.w:M.v;if(_!==S){var C=y===D,p=x.edge(M).weight;if(I+=C?p:-p,v(E,b,_)){var P=E.edge(b,_).cutvalue;I+=C?-P:P}}}),I}function u(E,x){arguments.length<2&&(x=E.nodes()[0]),d(E,{},1,x)}function d(E,x,b,N,S){var D=b,k=E.node(N);return x[N]=!0,E.neighbors(N).forEach(I=>{Object.hasOwn(x,I)||(b=d(E,x,b,I,N))}),k.low=D,k.lim=b++,S?k.parent=S:delete k.parent,b}function f(E){return E.edges().find(x=>E.edge(x).cutvalue<0)}function h(E,x,b){var N=b.v,S=b.w;x.hasEdge(N,S)||(N=b.w,S=b.v);var D=E.node(N),k=E.node(S),I=D,M=!1;D.lim>k.lim&&(I=k,M=!0);var y=x.edges().filter(_=>M===m(E,E.node(_.v),I)&&M!==m(E,E.node(_.w),I));return y.reduce((_,C)=>t(x,C)<t(x,_)?C:_)}function g(E,x,b,N){var S=b.v,D=b.w;E.removeEdge(S,D),E.setEdge(N.v,N.w,{}),u(E),a(E,x),w(E,x)}function w(E,x){var b=E.nodes().find(S=>!x.node(S).parent),N=r(E,b);N=N.slice(1),N.forEach(S=>{var D=E.node(S).parent,k=x.edge(S,D),I=!1;k||(k=x.edge(D,S),I=!0),x.node(S).rank=x.node(D).rank+(I?k.minlen:-k.minlen)})}function v(E,x,b){return E.hasEdge(x,b)}function m(E,x,b){return b.low<=x.lim&&x.lim<=b.lim}return Vi}var Yi,Oa;function qv(){if(Oa)return Yi;Oa=1;var e=Mr(),t=e.longestPath,n=Qu(),r=Fv();Yi=i;function i(l){switch(l.graph().ranker){case"network-simplex":a(l);break;case"tight-tree":o(l);break;case"longest-path":s(l);break;default:a(l)}}var s=t;function o(l){t(l),n(l)}function a(l){r(l)}return Yi}var Fi,Aa;function Wv(){if(Aa)return Fi;Aa=1,Fi=e;function e(r){let i=n(r);r.graph().dummyChains.forEach(s=>{let o=r.node(s),a=o.edgeObj,l=t(r,i,a.v,a.w),c=l.path,u=l.lca,d=0,f=c[d],h=!0;for(;s!==a.w;){if(o=r.node(s),h){for(;(f=c[d])!==u&&r.node(f).maxRank<o.rank;)d++;f===u&&(h=!1)}if(!h){for(;d<c.length-1&&r.node(f=c[d+1]).minRank<=o.rank;)d++;f=c[d]}r.setParent(s,f),s=r.successors(s)[0]}})}function t(r,i,s,o){let a=[],l=[],c=Math.min(i[s].low,i[o].low),u=Math.max(i[s].lim,i[o].lim),d,f;d=s;do d=r.parent(d),a.push(d);while(d&&(i[d].low>c||u>i[d].lim));for(f=d,d=o;(d=r.parent(d))!==f;)l.push(d);return{path:a.concat(l.reverse()),lca:f}}function n(r){let i={},s=0;function o(a){let l=s;r.children(a).forEach(o),i[a]={low:l,lim:s++}}return r.children().forEach(o),i}return Fi}var qi,Ma;function Bv(){if(Ma)return qi;Ma=1;let e=He();qi={run:t,cleanup:s};function t(o){let a=e.addDummyNode(o,"root",{},"_root"),l=r(o),c=Object.values(l),u=e.applyWithChunking(Math.max,c)-1,d=2*u+1;o.graph().nestingRoot=a,o.edges().forEach(h=>o.edge(h).minlen*=d);let f=i(o)+1;o.children().forEach(h=>n(o,a,d,f,u,l,h)),o.graph().nodeRankFactor=d}function n(o,a,l,c,u,d,f){let h=o.children(f);if(!h.length){f!==a&&o.setEdge(a,f,{weight:0,minlen:l});return}let g=e.addBorderNode(o,"_bt"),w=e.addBorderNode(o,"_bb"),v=o.node(f);o.setParent(g,f),v.borderTop=g,o.setParent(w,f),v.borderBottom=w,h.forEach(m=>{n(o,a,l,c,u,d,m);let E=o.node(m),x=E.borderTop?E.borderTop:m,b=E.borderBottom?E.borderBottom:m,N=E.borderTop?c:2*c,S=x!==b?1:u-d[f]+1;o.setEdge(g,x,{weight:N,minlen:S,nestingEdge:!0}),o.setEdge(b,w,{weight:N,minlen:S,nestingEdge:!0})}),o.parent(f)||o.setEdge(a,g,{weight:0,minlen:u+d[f]})}function r(o){var a={};function l(c,u){var d=o.children(c);d&&d.length&&d.forEach(f=>l(f,u+1)),a[c]=u}return o.children().forEach(c=>l(c,1)),a}function i(o){return o.edges().reduce((a,l)=>a+o.edge(l).weight,0)}function s(o){var a=o.graph();o.removeNode(a.nestingRoot),delete a.nestingRoot,o.edges().forEach(l=>{var c=o.edge(l);c.nestingEdge&&o.removeEdge(l)})}return qi}var Wi,Ta;function Xv(){if(Ta)return Wi;Ta=1;let e=He();Wi=t;function t(r){function i(s){let o=r.children(s),a=r.node(s);if(o.length&&o.forEach(i),Object.hasOwn(a,"minRank")){a.borderLeft=[],a.borderRight=[];for(let l=a.minRank,c=a.maxRank+1;l<c;++l)n(r,"borderLeft","_bl",s,a,l),n(r,"borderRight","_br",s,a,l)}}r.children().forEach(i)}function n(r,i,s,o,a,l){let c={width:0,height:0,rank:l,borderType:i},u=a[i][l-1],d=e.addDummyNode(r,"border",c,s);a[i][l]=d,r.setParent(d,o),u&&r.setEdge(u,d,{weight:1})}return Wi}var Bi,Da;function Kv(){if(Da)return Bi;Da=1,Bi={adjust:e,undo:t};function e(l){let c=l.graph().rankdir.toLowerCase();(c==="lr"||c==="rl")&&n(l)}function t(l){let c=l.graph().rankdir.toLowerCase();(c==="bt"||c==="rl")&&i(l),(c==="lr"||c==="rl")&&(o(l),n(l))}function n(l){l.nodes().forEach(c=>r(l.node(c))),l.edges().forEach(c=>r(l.edge(c)))}function r(l){let c=l.width;l.width=l.height,l.height=c}function i(l){l.nodes().forEach(c=>s(l.node(c))),l.edges().forEach(c=>{let u=l.edge(c);u.points.forEach(s),Object.hasOwn(u,"y")&&s(u)})}function s(l){l.y=-l.y}function o(l){l.nodes().forEach(c=>a(l.node(c))),l.edges().forEach(c=>{let u=l.edge(c);u.points.forEach(a),Object.hasOwn(u,"x")&&a(u)})}function a(l){let c=l.x;l.x=l.y,l.y=c}return Bi}var Xi,Ra;function jv(){if(Ra)return Xi;Ra=1;let e=He();Xi=t;function t(n){let r={},i=n.nodes().filter(u=>!n.children(u).length),s=i.map(u=>n.node(u).rank),o=e.applyWithChunking(Math.max,s),a=e.range(o+1).map(()=>[]);function l(u){if(r[u])return;r[u]=!0;let d=n.node(u);a[d.rank].push(u),n.successors(u).forEach(l)}return i.sort((u,d)=>n.node(u).rank-n.node(d).rank).forEach(l),a}return Xi}var Ki,za;function Gv(){if(za)return Ki;za=1;let e=He().zipObject;Ki=t;function t(r,i){let s=0;for(let o=1;o<i.length;++o)s+=n(r,i[o-1],i[o]);return s}function n(r,i,s){let o=e(s,s.map((f,h)=>h)),a=i.flatMap(f=>r.outEdges(f).map(h=>({pos:o[h.w],weight:r.edge(h).weight})).sort((h,g)=>h.pos-g.pos)),l=1;for(;l<s.length;)l<<=1;let c=2*l-1;l-=1;let u=new Array(c).fill(0),d=0;return a.forEach(f=>{let h=f.pos+l;u[h]+=f.weight;let g=0;for(;h>0;)h%2&&(g+=u[h+1]),h=h-1>>1,u[h]+=f.weight;d+=f.weight*g}),d}return Ki}var ji,Ha;function Zv(){if(Ha)return ji;Ha=1,ji=e;function e(t,n=[]){return n.map(r=>{let i=t.inEdges(r);if(i.length){let s=i.reduce((o,a)=>{let l=t.edge(a),c=t.node(a.v);return{sum:o.sum+l.weight*c.order,weight:o.weight+l.weight}},{sum:0,weight:0});return{v:r,barycenter:s.sum/s.weight,weight:s.weight}}else return{v:r}})}return ji}var Gi,La;function Uv(){if(La)return Gi;La=1;let e=He();Gi=t;function t(i,s){let o={};i.forEach((l,c)=>{let u=o[l.v]={indegree:0,in:[],out:[],vs:[l.v],i:c};l.barycenter!==void 0&&(u.barycenter=l.barycenter,u.weight=l.weight)}),s.edges().forEach(l=>{let c=o[l.v],u=o[l.w];c!==void 0&&u!==void 0&&(u.indegree++,c.out.push(o[l.w]))});let a=Object.values(o).filter(l=>!l.indegree);return n(a)}function n(i){let s=[];function o(l){return c=>{c.merged||(c.barycenter===void 0||l.barycenter===void 0||c.barycenter>=l.barycenter)&&r(l,c)}}function a(l){return c=>{c.in.push(l),--c.indegree===0&&i.push(c)}}for(;i.length;){let l=i.pop();s.push(l),l.in.reverse().forEach(o(l)),l.out.forEach(a(l))}return s.filter(l=>!l.merged).map(l=>e.pick(l,["vs","i","barycenter","weight"]))}function r(i,s){let o=0,a=0;i.weight&&(o+=i.barycenter*i.weight,a+=i.weight),s.weight&&(o+=s.barycenter*s.weight,a+=s.weight),i.vs=s.vs.concat(i.vs),i.barycenter=o/a,i.weight=a,i.i=Math.min(s.i,i.i),s.merged=!0}return Gi}var Zi,Va;function Qv(){if(Va)return Zi;Va=1;let e=He();Zi=t;function t(i,s){let o=e.partition(i,g=>Object.hasOwn(g,"barycenter")),a=o.lhs,l=o.rhs.sort((g,w)=>w.i-g.i),c=[],u=0,d=0,f=0;a.sort(r(!!s)),f=n(c,l,f),a.forEach(g=>{f+=g.vs.length,c.push(g.vs),u+=g.barycenter*g.weight,d+=g.weight,f=n(c,l,f)});let h={vs:c.flat(!0)};return d&&(h.barycenter=u/d,h.weight=d),h}function n(i,s,o){let a;for(;s.length&&(a=s[s.length-1]).i<=o;)s.pop(),i.push(a.vs),o++;return o}function r(i){return(s,o)=>s.barycenter<o.barycenter?-1:s.barycenter>o.barycenter?1:i?o.i-s.i:s.i-o.i}return Zi}var Ui,Ya;function Jv(){if(Ya)return Ui;Ya=1;let e=Zv(),t=Uv(),n=Qv();Ui=r;function r(o,a,l,c){let u=o.children(a),d=o.node(a),f=d?d.borderLeft:void 0,h=d?d.borderRight:void 0,g={};f&&(u=u.filter(E=>E!==f&&E!==h));let w=e(o,u);w.forEach(E=>{if(o.children(E.v).length){let x=r(o,E.v,l,c);g[E.v]=x,Object.hasOwn(x,"barycenter")&&s(E,x)}});let v=t(w,l);i(v,g);let m=n(v,c);if(f&&(m.vs=[f,m.vs,h].flat(!0),o.predecessors(f).length)){let E=o.node(o.predecessors(f)[0]),x=o.node(o.predecessors(h)[0]);Object.hasOwn(m,"barycenter")||(m.barycenter=0,m.weight=0),m.barycenter=(m.barycenter*m.weight+E.order+x.order)/(m.weight+2),m.weight+=2}return m}function i(o,a){o.forEach(l=>{l.vs=l.vs.flatMap(c=>a[c]?a[c].vs:c)})}function s(o,a){o.barycenter!==void 0?(o.barycenter=(o.barycenter*o.weight+a.barycenter*a.weight)/(o.weight+a.weight),o.weight+=a.weight):(o.barycenter=a.barycenter,o.weight=a.weight)}return Ui}var Qi,Fa;function em(){if(Fa)return Qi;Fa=1;let e=at().Graph,t=He();Qi=n;function n(i,s,o){let a=r(i),l=new e({compound:!0}).setGraph({root:a}).setDefaultNodeLabel(c=>i.node(c));return i.nodes().forEach(c=>{let u=i.node(c),d=i.parent(c);(u.rank===s||u.minRank<=s&&s<=u.maxRank)&&(l.setNode(c),l.setParent(c,d||a),i[o](c).forEach(f=>{let h=f.v===c?f.w:f.v,g=l.edge(h,c),w=g!==void 0?g.weight:0;l.setEdge(h,c,{weight:i.edge(f).weight+w})}),Object.hasOwn(u,"minRank")&&l.setNode(c,{borderLeft:u.borderLeft[s],borderRight:u.borderRight[s]}))}),l}function r(i){for(var s;i.hasNode(s=t.uniqueId("_root")););return s}return Qi}var Ji,qa;function tm(){if(qa)return Ji;qa=1,Ji=e;function e(t,n,r){let i={},s;r.forEach(o=>{let a=t.parent(o),l,c;for(;a;){if(l=t.parent(a),l?(c=i[l],i[l]=a):(c=s,s=a),c&&c!==a){n.setEdge(c,a);return}a=l}})}return Ji}var eo,Wa;function nm(){if(Wa)return eo;Wa=1;let e=jv(),t=Gv(),n=Jv(),r=em(),i=tm(),s=at().Graph,o=He();eo=a;function a(d,f){if(f&&typeof f.customOrder=="function"){f.customOrder(d,a);return}let h=o.maxRank(d),g=l(d,o.range(1,h+1),"inEdges"),w=l(d,o.range(h-1,-1,-1),"outEdges"),v=e(d);if(u(d,v),f&&f.disableOptimalOrderHeuristic)return;let m=Number.POSITIVE_INFINITY,E;for(let x=0,b=0;b<4;++x,++b){c(x%2?g:w,x%4>=2),v=o.buildLayerMatrix(d);let N=t(d,v);N<m&&(b=0,E=Object.assign({},v),m=N)}u(d,E)}function l(d,f,h){return f.map(function(g){return r(d,g,h)})}function c(d,f){let h=new s;d.forEach(function(g){let w=g.graph().root,v=n(g,w,h,f);v.vs.forEach((m,E)=>g.node(m).order=E),i(g,h,v.vs)})}function u(d,f){Object.values(f).forEach(h=>h.forEach((g,w)=>d.node(g).order=w))}return eo}var to,Ba;function rm(){if(Ba)return to;Ba=1;let e=at().Graph,t=He();to={positionX:h,findType1Conflicts:n,findType2Conflicts:r,addConflict:s,hasConflict:o,verticalAlignment:a,horizontalCompaction:l,alignCoordinates:d,findSmallestWidthAlignment:u,balance:f};function n(v,m){let E={};function x(b,N){let S=0,D=0,k=b.length,I=N[N.length-1];return N.forEach((M,y)=>{let _=i(v,M),C=_?v.node(_).order:k;(_||M===I)&&(N.slice(D,y+1).forEach(p=>{v.predecessors(p).forEach(P=>{let O=v.node(P),L=O.order;(L<S||C<L)&&!(O.dummy&&v.node(p).dummy)&&s(E,P,p)})}),D=y+1,S=C)}),N}return m.length&&m.reduce(x),E}function r(v,m){let E={};function x(N,S,D,k,I){let M;t.range(S,D).forEach(y=>{M=N[y],v.node(M).dummy&&v.predecessors(M).forEach(_=>{let C=v.node(_);C.dummy&&(C.order<k||C.order>I)&&s(E,_,M)})})}function b(N,S){let D=-1,k,I=0;return S.forEach((M,y)=>{if(v.node(M).dummy==="border"){let _=v.predecessors(M);_.length&&(k=v.node(_[0]).order,x(S,I,y,D,k),I=y,D=k)}x(S,I,S.length,k,N.length)}),S}return m.length&&m.reduce(b),E}function i(v,m){if(v.node(m).dummy)return v.predecessors(m).find(E=>v.node(E).dummy)}function s(v,m,E){if(m>E){let b=m;m=E,E=b}let x=v[m];x||(v[m]=x={}),x[E]=!0}function o(v,m,E){if(m>E){let x=m;m=E,E=x}return!!v[m]&&Object.hasOwn(v[m],E)}function a(v,m,E,x){let b={},N={},S={};return m.forEach(D=>{D.forEach((k,I)=>{b[k]=k,N[k]=k,S[k]=I})}),m.forEach(D=>{let k=-1;D.forEach(I=>{let M=x(I);if(M.length){M=M.sort((_,C)=>S[_]-S[C]);let y=(M.length-1)/2;for(let _=Math.floor(y),C=Math.ceil(y);_<=C;++_){let p=M[_];N[I]===I&&k<S[p]&&!o(E,I,p)&&(N[p]=I,N[I]=b[I]=b[p],k=S[p])}}})}),{root:b,align:N}}function l(v,m,E,x,b){let N={},S=c(v,m,E,b),D=b?"borderLeft":"borderRight";function k(y,_){let C=S.nodes(),p=C.pop(),P={};for(;p;)P[p]?y(p):(P[p]=!0,C.push(p),C=C.concat(_(p))),p=C.pop()}function I(y){N[y]=S.inEdges(y).reduce((_,C)=>Math.max(_,N[C.v]+S.edge(C)),0)}function M(y){let _=S.outEdges(y).reduce((p,P)=>Math.min(p,N[P.w]-S.edge(P)),Number.POSITIVE_INFINITY),C=v.node(y);_!==Number.POSITIVE_INFINITY&&C.borderType!==D&&(N[y]=Math.max(N[y],_))}return k(I,S.predecessors.bind(S)),k(M,S.successors.bind(S)),Object.keys(x).forEach(y=>N[y]=N[E[y]]),N}function c(v,m,E,x){let b=new e,N=v.graph(),S=g(N.nodesep,N.edgesep,x);return m.forEach(D=>{let k;D.forEach(I=>{let M=E[I];if(b.setNode(M),k){var y=E[k],_=b.edge(y,M);b.setEdge(y,M,Math.max(S(v,I,k),_||0))}k=I})}),b}function u(v,m){return Object.values(m).reduce((E,x)=>{let b=Number.NEGATIVE_INFINITY,N=Number.POSITIVE_INFINITY;Object.entries(x).forEach(([D,k])=>{let I=w(v,D)/2;b=Math.max(k+I,b),N=Math.min(k-I,N)});const S=b-N;return S<E[0]&&(E=[S,x]),E},[Number.POSITIVE_INFINITY,null])[1]}function d(v,m){let E=Object.values(m),x=t.applyWithChunking(Math.min,E),b=t.applyWithChunking(Math.max,E);["u","d"].forEach(N=>{["l","r"].forEach(S=>{let D=N+S,k=v[D];if(k===m)return;let I=Object.values(k),M=x-t.applyWithChunking(Math.min,I);S!=="l"&&(M=b-t.applyWithChunking(Math.max,I)),M&&(v[D]=t.mapValues(k,y=>y+M))})})}function f(v,m){return t.mapValues(v.ul,(E,x)=>{if(m)return v[m.toLowerCase()][x];{let b=Object.values(v).map(N=>N[x]).sort((N,S)=>N-S);return(b[1]+b[2])/2}})}function h(v){let m=t.buildLayerMatrix(v),E=Object.assign(n(v,m),r(v,m)),x={},b;["u","d"].forEach(S=>{b=S==="u"?m:Object.values(m).reverse(),["l","r"].forEach(D=>{D==="r"&&(b=b.map(y=>Object.values(y).reverse()));let k=(S==="u"?v.predecessors:v.successors).bind(v),I=a(v,b,E,k),M=l(v,b,I.root,I.align,D==="r");D==="r"&&(M=t.mapValues(M,y=>-y)),x[S+D]=M})});let N=u(v,x);return d(x,N),f(x,v.graph().align)}function g(v,m,E){return(x,b,N)=>{let S=x.node(b),D=x.node(N),k=0,I;if(k+=S.width/2,Object.hasOwn(S,"labelpos"))switch(S.labelpos.toLowerCase()){case"l":I=-S.width/2;break;case"r":I=S.width/2;break}if(I&&(k+=E?I:-I),I=0,k+=(S.dummy?m:v)/2,k+=(D.dummy?m:v)/2,k+=D.width/2,Object.hasOwn(D,"labelpos"))switch(D.labelpos.toLowerCase()){case"l":I=D.width/2;break;case"r":I=-D.width/2;break}return I&&(k+=E?I:-I),I=0,k}}function w(v,m){return v.node(m).width}return to}var no,Xa;function im(){if(Xa)return no;Xa=1;let e=He(),t=rm().positionX;no=n;function n(i){i=e.asNonCompoundGraph(i),r(i),Object.entries(t(i)).forEach(([s,o])=>i.node(s).x=o)}function r(i){let s=e.buildLayerMatrix(i),o=i.graph().ranksep,a=0;s.forEach(l=>{const c=l.reduce((u,d)=>{const f=i.node(d).height;return u>f?u:f},0);l.forEach(u=>i.node(u).y=a+c/2),a+=c+o})}return no}var ro,Ka;function om(){if(Ka)return ro;Ka=1;let e=Vv(),t=Yv(),n=qv(),r=He().normalizeRanks,i=Wv(),s=He().removeEmptyRanks,o=Bv(),a=Xv(),l=Kv(),c=nm(),u=im(),d=He(),f=at().Graph;ro=h;function h(R,z){let T=z&&z.debugTiming?d.time:d.notime;T("layout",()=>{let H=T("  buildLayoutGraph",()=>k(R));T("  runLayout",()=>g(H,T,z)),T("  updateInputGraph",()=>w(R,H))})}function g(R,z,T){z("    makeSpaceForEdgeLabels",()=>I(R)),z("    removeSelfEdges",()=>W(R)),z("    acyclic",()=>e.run(R)),z("    nestingGraph.run",()=>o.run(R)),z("    rank",()=>n(d.asNonCompoundGraph(R))),z("    injectEdgeLabelProxies",()=>M(R)),z("    removeEmptyRanks",()=>s(R)),z("    nestingGraph.cleanup",()=>o.cleanup(R)),z("    normalizeRanks",()=>r(R)),z("    assignRankMinMax",()=>y(R)),z("    removeEdgeLabelProxies",()=>_(R)),z("    normalize.run",()=>t.run(R)),z("    parentDummyChains",()=>i(R)),z("    addBorderSegments",()=>a(R)),z("    order",()=>c(R,T)),z("    insertSelfEdges",()=>X(R)),z("    adjustCoordinateSystem",()=>l.adjust(R)),z("    position",()=>u(R)),z("    positionSelfEdges",()=>G(R)),z("    removeBorderNodes",()=>L(R)),z("    normalize.undo",()=>t.undo(R)),z("    fixupEdgeLabelCoords",()=>P(R)),z("    undoCoordinateSystem",()=>l.undo(R)),z("    translateGraph",()=>C(R)),z("    assignNodeIntersects",()=>p(R)),z("    reversePoints",()=>O(R)),z("    acyclic.undo",()=>e.undo(R))}function w(R,z){R.nodes().forEach(T=>{let H=R.node(T),Y=z.node(T);H&&(H.x=Y.x,H.y=Y.y,H.rank=Y.rank,z.children(T).length&&(H.width=Y.width,H.height=Y.height))}),R.edges().forEach(T=>{let H=R.edge(T),Y=z.edge(T);H.points=Y.points,Object.hasOwn(Y,"x")&&(H.x=Y.x,H.y=Y.y)}),R.graph().width=z.graph().width,R.graph().height=z.graph().height}let v=["nodesep","edgesep","ranksep","marginx","marginy"],m={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},E=["acyclicer","ranker","rankdir","align"],x=["width","height"],b={width:0,height:0},N=["minlen","weight","width","height","labeloffset"],S={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},D=["labelpos"];function k(R){let z=new f({multigraph:!0,compound:!0}),T=se(R.graph());return z.setGraph(Object.assign({},m,te(T,v),d.pick(T,E))),R.nodes().forEach(H=>{let Y=se(R.node(H));const V=te(Y,x);Object.keys(b).forEach(j=>{V[j]===void 0&&(V[j]=b[j])}),z.setNode(H,V),z.setParent(H,R.parent(H))}),R.edges().forEach(H=>{let Y=se(R.edge(H));z.setEdge(H,Object.assign({},S,te(Y,N),d.pick(Y,D)))}),z}function I(R){let z=R.graph();z.ranksep/=2,R.edges().forEach(T=>{let H=R.edge(T);H.minlen*=2,H.labelpos.toLowerCase()!=="c"&&(z.rankdir==="TB"||z.rankdir==="BT"?H.width+=H.labeloffset:H.height+=H.labeloffset)})}function M(R){R.edges().forEach(z=>{let T=R.edge(z);if(T.width&&T.height){let H=R.node(z.v),V={rank:(R.node(z.w).rank-H.rank)/2+H.rank,e:z};d.addDummyNode(R,"edge-proxy",V,"_ep")}})}function y(R){let z=0;R.nodes().forEach(T=>{let H=R.node(T);H.borderTop&&(H.minRank=R.node(H.borderTop).rank,H.maxRank=R.node(H.borderBottom).rank,z=Math.max(z,H.maxRank))}),R.graph().maxRank=z}function _(R){R.nodes().forEach(z=>{let T=R.node(z);T.dummy==="edge-proxy"&&(R.edge(T.e).labelRank=T.rank,R.removeNode(z))})}function C(R){let z=Number.POSITIVE_INFINITY,T=0,H=Number.POSITIVE_INFINITY,Y=0,V=R.graph(),j=V.marginx||0,U=V.marginy||0;function ee(Q){let F=Q.x,B=Q.y,ne=Q.width,re=Q.height;z=Math.min(z,F-ne/2),T=Math.max(T,F+ne/2),H=Math.min(H,B-re/2),Y=Math.max(Y,B+re/2)}R.nodes().forEach(Q=>ee(R.node(Q))),R.edges().forEach(Q=>{let F=R.edge(Q);Object.hasOwn(F,"x")&&ee(F)}),z-=j,H-=U,R.nodes().forEach(Q=>{let F=R.node(Q);F.x-=z,F.y-=H}),R.edges().forEach(Q=>{let F=R.edge(Q);F.points.forEach(B=>{B.x-=z,B.y-=H}),Object.hasOwn(F,"x")&&(F.x-=z),Object.hasOwn(F,"y")&&(F.y-=H)}),V.width=T-z+j,V.height=Y-H+U}function p(R){R.edges().forEach(z=>{let T=R.edge(z),H=R.node(z.v),Y=R.node(z.w),V,j;T.points?(V=T.points[0],j=T.points[T.points.length-1]):(T.points=[],V=Y,j=H),T.points.unshift(d.intersectRect(H,V)),T.points.push(d.intersectRect(Y,j))})}function P(R){R.edges().forEach(z=>{let T=R.edge(z);if(Object.hasOwn(T,"x"))switch((T.labelpos==="l"||T.labelpos==="r")&&(T.width-=T.labeloffset),T.labelpos){case"l":T.x-=T.width/2+T.labeloffset;break;case"r":T.x+=T.width/2+T.labeloffset;break}})}function O(R){R.edges().forEach(z=>{let T=R.edge(z);T.reversed&&T.points.reverse()})}function L(R){R.nodes().forEach(z=>{if(R.children(z).length){let T=R.node(z),H=R.node(T.borderTop),Y=R.node(T.borderBottom),V=R.node(T.borderLeft[T.borderLeft.length-1]),j=R.node(T.borderRight[T.borderRight.length-1]);T.width=Math.abs(j.x-V.x),T.height=Math.abs(Y.y-H.y),T.x=V.x+T.width/2,T.y=H.y+T.height/2}}),R.nodes().forEach(z=>{R.node(z).dummy==="border"&&R.removeNode(z)})}function W(R){R.edges().forEach(z=>{if(z.v===z.w){var T=R.node(z.v);T.selfEdges||(T.selfEdges=[]),T.selfEdges.push({e:z,label:R.edge(z)}),R.removeEdge(z)}})}function X(R){var z=d.buildLayerMatrix(R);z.forEach(T=>{var H=0;T.forEach((Y,V)=>{var j=R.node(Y);j.order=V+H,(j.selfEdges||[]).forEach(U=>{d.addDummyNode(R,"selfedge",{width:U.label.width,height:U.label.height,rank:j.rank,order:V+ ++H,e:U.e,label:U.label},"_se")}),delete j.selfEdges})})}function G(R){R.nodes().forEach(z=>{var T=R.node(z);if(T.dummy==="selfedge"){var H=R.node(T.e.v),Y=H.x+H.width/2,V=H.y,j=T.x-Y,U=H.height/2;R.setEdge(T.e,T.label),R.removeNode(z),T.label.points=[{x:Y+2*j/3,y:V-U},{x:Y+5*j/6,y:V-U},{x:Y+j,y:V},{x:Y+5*j/6,y:V+U},{x:Y+2*j/3,y:V+U}],T.label.x=T.x,T.label.y=T.y}})}function te(R,z){return d.mapValues(d.pick(R,z),Number)}function se(R){var z={};return R&&Object.entries(R).forEach(([T,H])=>{typeof T=="string"&&(T=T.toLowerCase()),z[T]=H}),z}return ro}var io,ja;function sm(){if(ja)return io;ja=1;let e=He(),t=at().Graph;io={debugOrdering:n};function n(r){let i=e.buildLayerMatrix(r),s=new t({compound:!0,multigraph:!0}).setGraph({});return r.nodes().forEach(o=>{s.setNode(o,{label:o}),s.setParent(o,"layer"+r.node(o).rank)}),r.edges().forEach(o=>s.setEdge(o.v,o.w,{},o.name)),i.forEach((o,a)=>{let l="layer"+a;s.setNode(l,{rank:"same"}),o.reduce((c,u)=>(s.setEdge(c,u,{style:"invis"}),u))}),s}return io}var oo,Ga;function am(){return Ga||(Ga=1,oo="1.1.4"),oo}var so,Za;function lm(){return Za||(Za=1,so={graphlib:at(),layout:om(),debug:sm(),util:{time:He().time,notime:He().notime},version:am()}),so}var um=lm();const Ua=kv(um);var cm=ze('<div class="custom-node svelte-17qbjr3"><!> <div><span class="node-icon svelte-17qbjr3"></span> <span class="node-name svelte-17qbjr3"><b> </b></span></div> <!></div>');function dm(e,t){we(t,!0);var n=cm();et(n,"--bg-color: #f0f8ff");var r=Ie(n);pn(r,{type:"target",position:"left"});var i=ke(r,2),s=ke(Ie(i),2),o=Ie(s),a=Ie(o),l=ke(i,2);pn(l,{type:"source",position:"right"}),Ae(()=>{lt(i,1,`node-container ${t.data.CalcType??""}`,"svelte-17qbjr3"),Gt(a,t.data.CalcName)}),me(e,n),_e()}function fm(){}var hm=(e,t)=>t.filterNode(t.id),$m=ze('<div class="context-menu svelte-oa6u6f"><p style="margin: 0.5em;"><small> </small></p> <button class="svelte-oa6u6f">Filter Node</button> <button class="svelte-oa6u6f">Clear Filter</button></div>');function gm(e,t){we(t,!0),es();var n=$m();n.__click=function(...l){t.onclick?.apply(this,l)};var r=Ie(n),i=Ie(r),s=Ie(i),o=ke(r,2);o.__click=[hm,t];var a=ke(o,2);a.__click=[fm],Ae(()=>{et(n,`top: ${t.top??""}px; left: ${t.left??""}px; right: ${t.right??""}px; bottom: ${t.bottom??""}px;`),Gt(s,`node: ${t.id??""}`)}),me(e,n),_e()}jt(["click"]);function Ju(e,t,n="incomers"){const r=[t],i=new Set,s=new Set,o=n==="incomers"?(a,l)=>a.target===l:(a,l)=>a.source===l;for(;r.length>0;){const a=r.shift();if(!i.has(a)){i.add(a);const l=e.filter(c=>o(c,a));for(const c of l){const u=n==="incomers"?c.source:c.target;i.has(u)||(r.push(u),s.add(u))}}}return s}function pm(e,t){return Ju(e,t,"incomers")}function vm(e,t){return Ju(e,t,"outgoers")}var mm=(e,t)=>t("TB"),ym=(e,t)=>t("LR"),bm=ze("<button>vertical layout</button> <button>horizontal layout</button> <button>Filter Nodes</button>",1),wm=ze("<!> <!> <!>",1),_m=ze('<div style="height:100vh;"><!></div>');function xm(e,t){we(t,!0);const[n,r]=bd(),i=()=>$s(l,"$nodes",n),s=()=>$s(c,"$edges",n),o={selectorNode:dm};let a;const l=hs([]),c=hs([]),u=172,d=36,{fitView:f}=es(),h="http://localhost:8080/utilspbi/api/";var g,w;let v=xe(null),m=xe(void 0),E=xe(void 0);function x(y,_,C="TB"){const O=new Ua.graphlib.Graph;O.setDefaultEdgeLabel(()=>({}));const L=C==="LR";return O.setGraph({rankdir:C,ranksep:250,nodesep:50}),y.forEach(X=>{O.setNode(X.id,{width:u,height:d})}),_.forEach(X=>{O.setEdge(X.source,X.target)}),Ua.layout(O),{nodes:y.map(X=>{const G=O.node(X.id);return X.targetPosition=L?be.Left:be.Top,X.sourcePosition=L?be.Right:be.Bottom,{...X,position:{x:G.x-u/2,y:G.y-d/2}}}),edges:_}}async function b(){const y=h+"sveltenodes",_=h+"svelteedges";return Promise.all([fetch(y).then(C=>C.json()),fetch(_).then(C=>C.json())]).then(([C,p])=>{C.forEach(P=>{P.data&&P.data.name&&(P.data.nameLength=P.data.name.length)}),g=C,w=p})}Yl(()=>{b().then(()=>{const y=x(g,w,"LR");l.set(y.nodes),c.set(y.edges)})});function N(y){const _=x(g,w,y);l.set(_.nodes),c.set(_.edges)}function S(y){const _=Array.from(new Set([...pm(w,y),...vm(w,y),y])),C=g.filter(L=>_.includes(L.id)),p=w.filter(L=>_.includes(L.source)||_.includes(L.target)),P=x(C,p,"LR");l.set(P.nodes),c.set(P.edges);const O={padding:.5,duration:800,maxZoom:2};setTimeout(()=>{f(O)},0)}const D=({event:y,node:_})=>{y.preventDefault(),q(v,{id:_.id,top:y.clientY<$(E)-200?y.clientY:void 0,left:y.clientX<$(m)-200?y.clientX:void 0,right:y.clientX>=$(m)-200?$(m)-y.clientX:void 0,bottom:y.clientY>=$(E)-200?$(E)-y.clientY:void 0},!0)};function k(){q(v,null)}var I=_m(),M=Ie(I);_n(pv(M,{nodeTypes:o,fitView:!0,onnodecontextmenu:D,onpaneclick:k,get connectionLineType(){return bt.SmoothStep},defaultEdgeOptions:{type:"bezier",animated:!1},get nodes(){return ps(),i()},set nodes(y){gs(l,y)},get edges(){return ps(),s()},set edges(y){gs(c,y)},children:(y,_)=>{var C=wm(),p=Le(C);Xu(p,{position:"top-right",children:(W,X)=>{var G=bm(),te=Le(G);te.__click=[mm,N];var se=ke(te,2);se.__click=[ym,N];var R=ke(se,2);R.__click=S,me(W,G)},$$slots:{default:!0}});var P=ke(p,2);Ev(P,{});var O=ke(P,2);{var L=W=>{gm(W,{onclick:k,filterNode:X=>S(X),get id(){return $(v).id},get top(){return $(v).top},get left(){return $(v).left},get right(){return $(v).right},get bottom(){return $(v).bottom}})};Fe(O,W=>{$(v)&&W(L)})}me(y,C)},$$slots:{default:!0}}),y=>a=y,()=>a),yr(I,"clientWidth",y=>q(m,y)),yr(I,"clientHeight",y=>q(E,y)),me(e,I),_e(),r()}jt(["click"]);function Em(e){vv(e,{children:(t,n)=>{xm(t,{})},$$slots:{default:!0}})}od(Em,{target:document.getElementById("app")});</script>
    <style rel="stylesheet" crossorigin>.transparent.svelte-w2n27y{background:transparent}.svelte-flow__selection.svelte-1iugwpu{position:absolute;top:0;left:0}.svelte-flow__selection-wrapper.svelte-16qgzgd{position:absolute;top:0;left:0;z-index:2000;pointer-events:all}.svelte-flow.svelte-12wlba6{width:100%;height:100%;overflow:hidden;position:relative;z-index:0;background-color:var(--background-color, var(--background-color-default))}:root{--background-color-default: #fff;--background-pattern-color-default: #ddd;--minimap-mask-color-default: rgb(240, 240, 240, .6);--minimap-mask-stroke-color-default: none;--minimap-mask-stroke-width-default: 1;--controls-button-background-color-default: #fefefe;--controls-button-background-color-hover-default: #f4f4f4;--controls-button-color-default: inherit;--controls-button-color-hover-default: inherit;--controls-button-border-color-default: #eee}.custom-node.svelte-17qbjr3{border-radius:8px;border:2px solid #ccc;width:180px;background-color:var(--bg-color);box-shadow:2px 2px 6px #0000001a;font-family:sans-serif;overflow:hidden}.title.svelte-17qbjr3{padding:10px;font-weight:700;background-color:#0000000d;border-bottom:1px solid #ccc}.detail.svelte-17qbjr3{font-size:12px;color:#555;padding:6px 10px;background-color:#00000005}.Table.svelte-17qbjr3 .node-icon:where(.svelte-17qbjr3):before{content:"ð"}.node-container.svelte-17qbjr3{display:flex;align-items:center;justify-content:space-between;border:1px solid #ccc;background-color:#fefefe;padding:8px 12px;border-radius:6px;font-family:sans-serif;font-size:14px;width:160px;box-shadow:0 2px 4px #0000001a}.node-name.svelte-17qbjr3{font-weight:500;color:#333;justify-content:left;align-items:left}.node-icon.svelte-17qbjr3{font-size:23px}.context-menu.svelte-oa6u6f{background:#fff;border-style:solid;box-shadow:10px 19px 20px #0000001a;position:absolute;z-index:10}.context-menu.svelte-oa6u6f button:where(.svelte-oa6u6f){border:none;display:block;padding:.5em;text-align:left;width:100%}.context-menu.svelte-oa6u6f button:where(.svelte-oa6u6f):hover{background:#fff}.svelte-flow{direction:ltr;--xy-edge-stroke-default: #b1b1b7;--xy-edge-stroke-width-default: 1;--xy-edge-stroke-selected-default: #555;--xy-connectionline-stroke-default: #b1b1b7;--xy-connectionline-stroke-width-default: 1;--xy-attribution-background-color-default: rgba(255, 255, 255, .5);--xy-minimap-background-color-default: #fff;--xy-minimap-mask-background-color-default: rgba(240, 240, 240, .6);--xy-minimap-mask-stroke-color-default: transparent;--xy-minimap-mask-stroke-width-default: 1;--xy-minimap-node-background-color-default: #e2e2e2;--xy-minimap-node-stroke-color-default: transparent;--xy-minimap-node-stroke-width-default: 2;--xy-background-color-default: transparent;--xy-background-pattern-dots-color-default: #91919a;--xy-background-pattern-lines-color-default: #eee;--xy-background-pattern-cross-color-default: #e2e2e2;background-color:var(--xy-background-color, var(--xy-background-color-default));--xy-node-color-default: inherit;--xy-node-border-default: 1px solid #1a192b;--xy-node-background-color-default: #fff;--xy-node-group-background-color-default: rgba(240, 240, 240, .25);--xy-node-boxshadow-hover-default: 0 1px 4px 1px rgba(0, 0, 0, .08);--xy-node-boxshadow-selected-default: 0 0 0 .5px #1a192b;--xy-node-border-radius-default: 3px;--xy-handle-background-color-default: #1a192b;--xy-handle-border-color-default: #fff;--xy-selection-background-color-default: rgba(0, 89, 220, .08);--xy-selection-border-default: 1px dotted rgba(0, 89, 220, .8);--xy-controls-button-background-color-default: #fefefe;--xy-controls-button-background-color-hover-default: #f4f4f4;--xy-controls-button-color-default: inherit;--xy-controls-button-color-hover-default: inherit;--xy-controls-button-border-color-default: #eee;--xy-controls-box-shadow-default: 0 0 2px 1px rgba(0, 0, 0, .08);--xy-edge-label-background-color-default: #ffffff;--xy-edge-label-color-default: inherit;--xy-resize-background-color-default: #3367d9}.svelte-flow.dark{--xy-edge-stroke-default: #3e3e3e;--xy-edge-stroke-width-default: 1;--xy-edge-stroke-selected-default: #727272;--xy-connectionline-stroke-default: #b1b1b7;--xy-connectionline-stroke-width-default: 1;--xy-attribution-background-color-default: rgba(150, 150, 150, .25);--xy-minimap-background-color-default: #141414;--xy-minimap-mask-background-color-default: rgba(60, 60, 60, .6);--xy-minimap-mask-stroke-color-default: transparent;--xy-minimap-mask-stroke-width-default: 1;--xy-minimap-node-background-color-default: #2b2b2b;--xy-minimap-node-stroke-color-default: transparent;--xy-minimap-node-stroke-width-default: 2;--xy-background-color-default: #141414;--xy-background-pattern-dots-color-default: #777;--xy-background-pattern-lines-color-default: #777;--xy-background-pattern-cross-color-default: #777;--xy-node-color-default: #f8f8f8;--xy-node-border-default: 1px solid #3c3c3c;--xy-node-background-color-default: #1e1e1e;--xy-node-group-background-color-default: rgba(240, 240, 240, .25);--xy-node-boxshadow-hover-default: 0 1px 4px 1px rgba(255, 255, 255, .08);--xy-node-boxshadow-selected-default: 0 0 0 .5px #999;--xy-handle-background-color-default: #bebebe;--xy-handle-border-color-default: #1e1e1e;--xy-selection-background-color-default: rgba(200, 200, 220, .08);--xy-selection-border-default: 1px dotted rgba(200, 200, 220, .8);--xy-controls-button-background-color-default: #2b2b2b;--xy-controls-button-background-color-hover-default: #3e3e3e;--xy-controls-button-color-default: #f8f8f8;--xy-controls-button-color-hover-default: #fff;--xy-controls-button-border-color-default: #5b5b5b;--xy-controls-box-shadow-default: 0 0 2px 1px rgba(0, 0, 0, .08);--xy-edge-label-background-color-default: #141414;--xy-edge-label-color-default: #f8f8f8}.svelte-flow__background{background-color:var(--xy-background-color-props, var(--xy-background-color, var(--xy-background-color-default)));pointer-events:none;z-index:-1}.svelte-flow__container{position:absolute;width:100%;height:100%;top:0;left:0}.svelte-flow__pane{z-index:1}.svelte-flow__pane.draggable{cursor:grab}.svelte-flow__pane.dragging{cursor:grabbing}.svelte-flow__pane.selection{cursor:pointer}.svelte-flow__viewport{transform-origin:0 0;z-index:2;pointer-events:none}.svelte-flow__renderer{z-index:4}.svelte-flow__selection{z-index:6}.svelte-flow__nodesselection-rect:focus,.svelte-flow__nodesselection-rect:focus-visible{outline:none}.svelte-flow__edge-path{stroke:var(--xy-edge-stroke, var(--xy-edge-stroke-default));stroke-width:var(--xy-edge-stroke-width, var(--xy-edge-stroke-width-default));fill:none}.svelte-flow__connection-path{stroke:var(--xy-connectionline-stroke, var(--xy-connectionline-stroke-default));stroke-width:var(--xy-connectionline-stroke-width, var(--xy-connectionline-stroke-width-default));fill:none}.svelte-flow .svelte-flow__edges{position:absolute}.svelte-flow .svelte-flow__edges svg{overflow:visible;position:absolute;pointer-events:none}.svelte-flow__edge{pointer-events:visibleStroke}.svelte-flow__edge.selectable{cursor:pointer}.svelte-flow__edge.animated path{stroke-dasharray:5;animation:dashdraw .5s linear infinite}.svelte-flow__edge.animated path.svelte-flow__edge-interaction{stroke-dasharray:none;animation:none}.svelte-flow__edge.inactive{pointer-events:none}.svelte-flow__edge.selected,.svelte-flow__edge:focus,.svelte-flow__edge:focus-visible{outline:none}.svelte-flow__edge.selected .svelte-flow__edge-path,.svelte-flow__edge.selectable:focus .svelte-flow__edge-path,.svelte-flow__edge.selectable:focus-visible .svelte-flow__edge-path{stroke:var(--xy-edge-stroke-selected, var(--xy-edge-stroke-selected-default))}.svelte-flow__edge-textwrapper{pointer-events:all}.svelte-flow__edge .svelte-flow__edge-text{pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.svelte-flow__connection{pointer-events:none}.svelte-flow__connection .animated{stroke-dasharray:5;animation:dashdraw .5s linear infinite}svg.svelte-flow__connectionline{z-index:1001;overflow:visible;position:absolute}.svelte-flow__nodes{pointer-events:none;transform-origin:0 0}.svelte-flow__node{position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none;pointer-events:all;transform-origin:0 0;box-sizing:border-box;cursor:default}.svelte-flow__node.selectable{cursor:pointer}.svelte-flow__node.draggable{cursor:grab;pointer-events:all}.svelte-flow__node.draggable.dragging{cursor:grabbing}.svelte-flow__nodesselection{z-index:3;transform-origin:left top;pointer-events:none}.svelte-flow__nodesselection-rect{position:absolute;pointer-events:all;cursor:grab}.svelte-flow__handle{position:absolute;pointer-events:none;min-width:5px;min-height:5px;width:6px;height:6px;background-color:var(--xy-handle-background-color, var(--xy-handle-background-color-default));border:1px solid var(--xy-handle-border-color, var(--xy-handle-border-color-default));border-radius:100%}.svelte-flow__handle.connectingfrom{pointer-events:all}.svelte-flow__handle.connectionindicator{pointer-events:all;cursor:crosshair}.svelte-flow__handle-bottom{top:auto;left:50%;bottom:0;transform:translate(-50%,50%)}.svelte-flow__handle-top{top:0;left:50%;transform:translate(-50%,-50%)}.svelte-flow__handle-left{top:50%;left:0;transform:translate(-50%,-50%)}.svelte-flow__handle-right{top:50%;right:0;transform:translate(50%,-50%)}.svelte-flow__edgeupdater{cursor:move;pointer-events:all}.svelte-flow__panel{position:absolute;z-index:5;margin:15px}.svelte-flow__panel.top{top:0}.svelte-flow__panel.bottom{bottom:0}.svelte-flow__panel.top.center,.svelte-flow__panel.bottom.center{left:50%;transform:translate(-15px) translate(-50%)}.svelte-flow__panel.left{left:0}.svelte-flow__panel.right{right:0}.svelte-flow__panel.left.center,.svelte-flow__panel.right.center{top:50%;transform:translateY(-15px) translateY(-50%)}.svelte-flow__attribution{font-size:10px;background:var(--xy-attribution-background-color, var(--xy-attribution-background-color-default));padding:2px 3px;margin:0}.svelte-flow__attribution a{text-decoration:none;color:#999}@keyframes dashdraw{0%{stroke-dashoffset:10}}.svelte-flow__edgelabel-renderer{position:absolute;width:100%;height:100%;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;left:0;top:0}.svelte-flow__viewport-portal{position:absolute;width:100%;height:100%;left:0;top:0;-webkit-user-select:none;-moz-user-select:none;user-select:none}.svelte-flow__minimap{background:var( --xy-minimap-background-color-props, var(--xy-minimap-background-color, var(--xy-minimap-background-color-default)) )}.svelte-flow__minimap-svg{display:block}.svelte-flow__minimap-mask{fill:var( --xy-minimap-mask-background-color-props, var(--xy-minimap-mask-background-color, var(--xy-minimap-mask-background-color-default)) );stroke:var( --xy-minimap-mask-stroke-color-props, var(--xy-minimap-mask-stroke-color, var(--xy-minimap-mask-stroke-color-default)) );stroke-width:var( --xy-minimap-mask-stroke-width-props, var(--xy-minimap-mask-stroke-width, var(--xy-minimap-mask-stroke-width-default)) )}.svelte-flow__minimap-node{fill:var( --xy-minimap-node-background-color-props, var(--xy-minimap-node-background-color, var(--xy-minimap-node-background-color-default)) );stroke:var( --xy-minimap-node-stroke-color-props, var(--xy-minimap-node-stroke-color, var(--xy-minimap-node-stroke-color-default)) );stroke-width:var( --xy-minimap-node-stroke-width-props, var(--xy-minimap-node-stroke-width, var(--xy-minimap-node-stroke-width-default)) )}.svelte-flow__background-pattern.dots{fill:var( --xy-background-pattern-color-props, var(--xy-background-pattern-color, var(--xy-background-pattern-dots-color-default)) )}.svelte-flow__background-pattern.lines{stroke:var( --xy-background-pattern-color-props, var(--xy-background-pattern-color, var(--xy-background-pattern-lines-color-default)) )}.svelte-flow__background-pattern.cross{stroke:var( --xy-background-pattern-color-props, var(--xy-background-pattern-color, var(--xy-background-pattern-cross-color-default)) )}.svelte-flow__controls{display:flex;flex-direction:column;box-shadow:var(--xy-controls-box-shadow, var(--xy-controls-box-shadow-default))}.svelte-flow__controls.horizontal{flex-direction:row}.svelte-flow__controls-button{display:flex;justify-content:center;align-items:center;height:26px;width:26px;padding:4px;border:none;background:var(--xy-controls-button-background-color, var(--xy-controls-button-background-color-default));border-bottom:1px solid var( --xy-controls-button-border-color-props, var(--xy-controls-button-border-color, var(--xy-controls-button-border-color-default)) );color:var( --xy-controls-button-color-props, var(--xy-controls-button-color, var(--xy-controls-button-color-default)) );cursor:pointer;-webkit-user-select:none;-moz-user-select:none;user-select:none}.svelte-flow__controls-button svg{width:100%;max-width:12px;max-height:12px;fill:currentColor}.svelte-flow__edge.updating .svelte-flow__edge-path{stroke:#777}.svelte-flow__edge-text{font-size:10px}.svelte-flow__node.selectable:focus,.svelte-flow__node.selectable:focus-visible{outline:none}.svelte-flow__node-input,.svelte-flow__node-default,.svelte-flow__node-output,.svelte-flow__node-group{padding:10px;border-radius:var(--xy-node-border-radius, var(--xy-node-border-radius-default));width:150px;font-size:12px;color:var(--xy-node-color, var(--xy-node-color-default));text-align:center;border:var(--xy-node-border, var(--xy-node-border-default));background-color:var(--xy-node-background-color, var(--xy-node-background-color-default))}.svelte-flow__node-input.selectable:hover,.svelte-flow__node-default.selectable:hover,.svelte-flow__node-output.selectable:hover,.svelte-flow__node-group.selectable:hover{box-shadow:var(--xy-node-boxshadow-hover, var(--xy-node-boxshadow-hover-default))}.svelte-flow__node-input.selectable.selected,.svelte-flow__node-input.selectable:focus,.svelte-flow__node-input.selectable:focus-visible,.svelte-flow__node-default.selectable.selected,.svelte-flow__node-default.selectable:focus,.svelte-flow__node-default.selectable:focus-visible,.svelte-flow__node-output.selectable.selected,.svelte-flow__node-output.selectable:focus,.svelte-flow__node-output.selectable:focus-visible,.svelte-flow__node-group.selectable.selected,.svelte-flow__node-group.selectable:focus,.svelte-flow__node-group.selectable:focus-visible{box-shadow:var(--xy-node-boxshadow-selected, var(--xy-node-boxshadow-selected-default))}.svelte-flow__node-group{background-color:var(--xy-node-group-background-color, var(--xy-node-group-background-color-default))}.svelte-flow__nodesselection-rect,.svelte-flow__selection{background:var(--xy-selection-background-color, var(--xy-selection-background-color-default));border:var(--xy-selection-border, var(--xy-selection-border-default))}.svelte-flow__nodesselection-rect:focus,.svelte-flow__nodesselection-rect:focus-visible,.svelte-flow__selection:focus,.svelte-flow__selection:focus-visible{outline:none}.svelte-flow__controls-button:hover{background:var( --xy-controls-button-background-color-hover-props, var(--xy-controls-button-background-color-hover, var(--xy-controls-button-background-color-hover-default)) );color:var( --xy-controls-button-color-hover-props, var(--xy-controls-button-color-hover, var(--xy-controls-button-color-hover-default)) )}.svelte-flow__controls-button:disabled{pointer-events:none}.svelte-flow__controls-button:disabled svg{fill-opacity:.4}.svelte-flow__controls-button:last-child{border-bottom:none}.svelte-flow__controls.horizontal .svelte-flow__controls-button{border-bottom:none;border-right:1px solid var( --xy-controls-button-border-color-props, var(--xy-controls-button-border-color, var(--xy-controls-button-border-color-default)) )}.svelte-flow__controls.horizontal .svelte-flow__controls-button:last-child{border-right:none}.svelte-flow__resize-control{position:absolute}.svelte-flow__resize-control.left,.svelte-flow__resize-control.right{cursor:ew-resize}.svelte-flow__resize-control.top,.svelte-flow__resize-control.bottom{cursor:ns-resize}.svelte-flow__resize-control.top.left,.svelte-flow__resize-control.bottom.right{cursor:nwse-resize}.svelte-flow__resize-control.bottom.left,.svelte-flow__resize-control.top.right{cursor:nesw-resize}.svelte-flow__resize-control.handle{width:4px;height:4px;border:1px solid #fff;border-radius:1px;background-color:var(--xy-resize-background-color, var(--xy-resize-background-color-default));transform:translate(-50%,-50%)}.svelte-flow__resize-control.handle.left{left:0;top:50%}.svelte-flow__resize-control.handle.right{left:100%;top:50%}.svelte-flow__resize-control.handle.top{left:50%;top:0}.svelte-flow__resize-control.handle.bottom{left:50%;top:100%}.svelte-flow__resize-control.handle.top.left,.svelte-flow__resize-control.handle.bottom.left{left:0}.svelte-flow__resize-control.handle.top.right,.svelte-flow__resize-control.handle.bottom.right{left:100%}.svelte-flow__resize-control.line{border-color:var(--xy-resize-background-color, var(--xy-resize-background-color-default));border-width:0;border-style:solid}.svelte-flow__resize-control.line.left,.svelte-flow__resize-control.line.right{width:1px;transform:translate(-50%);top:0;height:100%}.svelte-flow__resize-control.line.left{left:0;border-left-width:1px}.svelte-flow__resize-control.line.right{left:100%;border-right-width:1px}.svelte-flow__resize-control.line.top,.svelte-flow__resize-control.line.bottom{height:1px;transform:translateY(-50%);left:0;width:100%}.svelte-flow__resize-control.line.top{top:0;border-top-width:1px}.svelte-flow__resize-control.line.bottom{border-bottom-width:1px;top:100%}.svelte-flow__edge-label{text-align:center;position:absolute;padding:2px;font-size:10px;color:var(--xy-edge-label-color, var(--xy-edge-label-color-default));background:var(--xy-edge-label-background-color, var(--xy-edge-label-background-color-default))}.svelte-flow__container{-webkit-user-select:none;-moz-user-select:none;user-select:none}.svelte-flow{--xy-background-color: #f7f9fb;--xy-theme-selected: #ff4000;--xy-theme-hover: #c5c5c5;--xy-theme-edge-hover: black;--xy-theme-color-focus: #e8e8e8;--xy-node-border-default: 1px solid #ededed;--xy-node-boxshadow-default: 0px 3.54px 4.55px 0px #00000005, 0px 3.54px 4.55px 0px #0000000d, 0px .51px 1.01px 0px #0000001a;--xy-node-border-radius-default: 8px;--xy-handle-background-color-default: #ffffff;--xy-handle-border-color-default: #aaaaaa;--xy-edge-label-color-default: #505050;--xy-resize-background-color-default: #9e86ed}.svelte-flow.dark{--xy-node-boxshadow-default: 0px 3.54px 4.55px 0px rgba(255, 255, 255, .05), 0px 3.54px 4.55px 0px rgba(255, 255, 255, .13), 0px .51px 1.01px 0px rgba(255, 255, 255, .2);--xy-theme-color-focus: #535353}.svelte-flow__node{box-shadow:var(--xy-node-boxshadow-default);border-radius:var(--xy-node-border-radius-default);background-color:var(--xy-node-background-color-default);display:flex;justify-content:center;align-items:center;text-align:center;padding:10px;font-size:12px;flex-direction:column;border:var(--xy-node-border-default);color:var(--xy-node-color, var(--xy-node-color-default))}.svelte-flow__node.selectable:focus{box-shadow:0 0 0 4px var(--xy-theme-color-focus);border-color:#d9d9d9}.svelte-flow__node.selectable:focus:active{box-shadow:var(--xy-node-boxshadow-default)}.svelte-flow__node.selectable:hover,.svelte-flow__node.draggable:hover{border-color:var(--xy-theme-hover)}.svelte-flow__node.selectable.selected{border-color:var(--xy-theme-selected);box-shadow:var(--xy-node-boxshadow-default)}.svelte-flow__node-group{background-color:#cfb6ff66;border-color:#9e86ed}.svelte-flow__edge.selectable:hover .svelte-flow__edge-path,.svelte-flow__edge.selectable.selected .svelte-flow__edge-path{stroke:var(--xy-theme-edge-hover)}.svelte-flow__handle{background-color:var(--xy-handle-background-color-default)}.svelte-flow__handle.connectionindicator:hover{pointer-events:all;border-color:var(--xy-theme-edge-hover);background-color:#fff}.svelte-flow__handle.connectionindicator:focus,.svelte-flow__handle.connectingfrom,.svelte-flow__handle.connectingto{border-color:var(--xy-theme-edge-hover)}.svelte-flow__node:has(.svelte-flow__resize-control.line){border-radius:0}.svelte-flow__resize-control.handle{border:none;border-radius:0;width:5px;height:5px}.svelte-flow__edge-label{background:#f7f9fb}:root{--color-primary: #ff4000;--color-background: #fefefe;--color-hover-bg: #f6f6f6;--color-disabled: #76797e}.xy-theme__button{cursor:pointer;display:inline-flex;align-items:center;justify-content:center;height:2.5rem;padding:0 1rem;border-radius:100px;border:1px solid var(--color-primary);background-color:var(--color-background);color:var(--color-primary);transition:background-color .2s ease,border-color .2s ease;box-shadow:var(--xy-node-boxshadow-default)}.xy-theme__button:hover{background-color:var(--xy-controls-button-background-color-hover-default)}.xy-theme__button:active{background-color:var(--color-hover-bg)}.xy-theme__button:disabled{color:var(--color-disabled);opacity:.8;cursor:not-allowed;border:1px solid var(--color-disabled)}.xy-theme__button>span{margin-right:.2rem}.xy-theme__button+.xy-theme__button{margin-left:.3rem}.xy-theme__input{padding:.5rem .75rem;border:1px solid var(--color-primary);border-radius:7px;background-color:var(--color-background);transition:background-color .2s ease,border-color .2s ease;font-size:1rem;color:inherit}.xy-theme__input:focus{outline:none;border-color:var(--color-primary);box-shadow:0 0 0 2px #ff00734d}.xy-theme__checkbox{appearance:none;-webkit-appearance:none;width:1.25rem;height:1.25rem;border-radius:7px;border:2px solid var(--color-primary);background-color:var(--color-background);transition:background-color .2s ease,border-color .2s ease;cursor:pointer;display:inline-block;vertical-align:middle;margin-right:.5rem}.xy-theme__checkbox:checked{background-color:var(--color-primary);border-color:var(--color-primary)}.xy-theme__checkbox:focus{outline:none;box-shadow:0 0 0 2px #ff00734d}.xy-theme__select{padding:.5rem .75rem;border:1px solid var(--color-primary);border-radius:50px;background-color:var(--color-background);transition:background-color .2s ease,border-color .2s ease;font-size:1rem;color:inherit;margin-right:.5rem;box-shadow:var(--xy-node-boxshadow-default)}.xy-theme__select:focus{outline:none;border-color:var(--color-primary);box-shadow:0 0 0 2px #ff00734d}.xy-theme__label{margin-top:10px;margin-bottom:3px;display:inline-block}html,body{margin:0;font-family:sans-serif}#app{width:100vw;height:100vh}</style>
  </head>
  <body>
    <div id="app"></div>
  </body>
</html>
