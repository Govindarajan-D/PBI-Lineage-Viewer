<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>PBI Lineage Viewer - SvelteFlow</title>
    <script type="module" crossorigin>(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();const ts=!1;var Tr=Array.isArray,nc=Array.prototype.indexOf,No=Array.from,Ja=Object.defineProperty,Tt=Object.getOwnPropertyDescriptor,el=Object.getOwnPropertyDescriptors,tl=Object.prototype,rc=Array.prototype,Dr=Object.getPrototypeOf,ns=Object.isExtensible;function xn(e){return typeof e=="function"}const Ge=()=>{};function ic(e){return e()}function dr(e){for(var t=0;t<e.length;t++)e[t]()}const ot=2,nl=4,zr=8,Co=16,Nt=32,vn=64,fr=128,Ue=256,hr=512,Ke=1024,ht=2048,Kt=4096,xt=8192,Hr=16384,oc=32768,Wn=65536,sc=1<<17,ac=1<<19,rl=1<<20,ao=1<<21,Dt=Symbol("$state"),il=Symbol("legacy props"),lc=Symbol("");function ol(e){return e===this.v}function Po(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Io(e){return!Po(e,this.v)}function uc(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function cc(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function dc(e){throw new Error("https://svelte.dev/e/effect_orphan")}function fc(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function hc(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function gc(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function $c(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function pc(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let mn=!1,vc=!1;function mc(){mn=!0}const Oo=1,Mo=2,sl=4,yc=8,bc=16,wc=1,_c=2,xc=4,Ec=8,kc=16,al=1,Sc=2,qe=Symbol(),Nc="http://www.w3.org/1999/xhtml",Cc="@attach",Pc=[];function ll(e,t=!1){return or(e,new Map,"",Pc)}function or(e,t,n,r,i=null){if(typeof e=="object"&&e!==null){var s=t.get(e);if(s!==void 0)return s;if(e instanceof Map)return new Map(e);if(e instanceof Set)return new Set(e);if(Tr(e)){var o=Array(e.length);t.set(e,o),i!==null&&t.set(i,o);for(var a=0;a<e.length;a+=1){var l=e[a];a in e&&(o[a]=or(l,t,n,r))}return o}if(Dr(e)===tl){o={},t.set(e,o),i!==null&&t.set(i,o);for(var c in e)o[c]=or(e[c],t,n,r);return o}if(e instanceof Date)return structuredClone(e);if(typeof e.toJSON=="function")return or(e.toJSON(),t,n,r,e)}if(e instanceof EventTarget)return e;try{return structuredClone(e)}catch{return e}}function Ao(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let Ae=null;function rs(e){Ae=e}function On(e){return ul().get(e)}function Mn(e,t){return ul().set(e,t),t}function we(e,t=!1,n){var r=Ae={p:Ae,c:null,d:!1,e:null,m:!1,s:e,x:null,l:null};mn&&!t&&(Ae.l={s:null,u:null,r1:[],r2:an(!1)}),Do(()=>{r.d=!0})}function _e(e){const t=Ae;if(t!==null){const o=t.e;if(o!==null){var n=Te,r=Oe;t.e=null;try{for(var i=0;i<o.length;i++){var s=o[i];Vt(s.effect),$t(s.reaction),bn(s.fn)}}finally{Vt(n),$t(r)}}Ae=t.p,t.m=!0}return{}}function Rr(){return!mn||Ae!==null&&Ae.l===null}function ul(e){return Ae===null&&Ao(),Ae.c??=new Map(Ic(Ae)||void 0)}function Ic(e){let t=e.p;for(;t!==null;){const n=t.c;if(n!==null)return n;t=t.p}return null}function Ze(e){if(typeof e!="object"||e===null||Dt in e)return e;const t=Dr(e);if(t!==tl&&t!==rc)return e;var n=new Map,r=Tr(e),i=xe(0),s=Oe,o=a=>{var l=Oe;$t(s);var c=a();return $t(l),c};return r&&n.set("length",xe(e.length)),new Proxy(e,{defineProperty(a,l,c){(!("value"in c)||c.configurable===!1||c.enumerable===!1||c.writable===!1)&&gc();var u=n.get(l);return u===void 0?(u=o(()=>xe(c.value)),n.set(l,u)):W(u,o(()=>Ze(c.value))),!0},deleteProperty(a,l){var c=n.get(l);if(c===void 0)l in a&&(n.set(l,o(()=>xe(qe))),ri(i));else{if(r&&typeof l=="string"){var u=n.get("length"),d=Number(l);Number.isInteger(d)&&d<u.v&&W(u,d)}W(c,qe),ri(i)}return!0},get(a,l,c){if(l===Dt)return e;var u=n.get(l),d=l in a;if(u===void 0&&(!d||Tt(a,l)?.writable)&&(u=o(()=>xe(Ze(d?a[l]:qe))),n.set(l,u)),u!==void 0){var f=g(u);return f===qe?void 0:f}return Reflect.get(a,l,c)},getOwnPropertyDescriptor(a,l){var c=Reflect.getOwnPropertyDescriptor(a,l);if(c&&"value"in c){var u=n.get(l);u&&(c.value=g(u))}else if(c===void 0){var d=n.get(l),f=d?.v;if(d!==void 0&&f!==qe)return{enumerable:!0,configurable:!0,value:f,writable:!0}}return c},has(a,l){if(l===Dt)return!0;var c=n.get(l),u=c!==void 0&&c.v!==qe||Reflect.has(a,l);if(c!==void 0||Te!==null&&(!u||Tt(a,l)?.writable)){c===void 0&&(c=o(()=>xe(u?Ze(a[l]):qe)),n.set(l,c));var d=g(c);if(d===qe)return!1}return u},set(a,l,c,u){var d=n.get(l),f=l in a;if(r&&l==="length")for(var h=c;h<d.v;h+=1){var $=n.get(h+"");$!==void 0?W($,qe):h in a&&($=o(()=>xe(qe)),n.set(h+"",$))}d===void 0?(!f||Tt(a,l)?.writable)&&(d=o(()=>xe(void 0)),W(d,o(()=>Ze(c))),n.set(l,d)):(f=d.v!==qe,W(d,o(()=>Ze(c))));var b=Reflect.getOwnPropertyDescriptor(a,l);if(b?.set&&b.set.call(u,c),!f){if(r&&typeof l=="string"){var v=n.get("length"),m=Number(l);Number.isInteger(m)&&m>=v.v&&W(v,m+1)}ri(i)}return!0},ownKeys(a){g(i);var l=Reflect.ownKeys(a).filter(d=>{var f=n.get(d);return f===void 0||f.v!==qe});for(var[c,u]of n)u.v!==qe&&!(c in a)&&l.push(c);return l},setPrototypeOf(){$c()}})}function ri(e,t=1){W(e,e.v+t)}function sn(e){var t=ot|ht,n=Oe!==null&&(Oe.f&ot)!==0?Oe:null;return Te===null||n!==null&&(n.f&Ue)!==0?t|=Ue:Te.f|=rl,{ctx:Ae,deps:null,effects:null,equals:ol,f:t,fn:e,reactions:null,rv:0,v:null,wv:0,parent:n??Te}}function M(e){const t=sn(e);return Sl(t),t}function cl(e){const t=sn(e);return t.equals=Io,t}function dl(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)gt(t[n])}}function Oc(e){for(var t=e.parent;t!==null;){if((t.f&ot)===0)return t;t=t.parent}return null}function fl(e){var t,n=Te;Vt(Oc(e));try{dl(e),t=Il(e)}finally{Vt(n)}return t}function hl(e){var t=fl(e),n=(At||(e.f&Ue)!==0)&&e.deps!==null?Kt:Ke;st(e,n),e.equals(t)||(e.v=t,e.wv=Cl())}const An=new Map;function an(e,t){var n={f:0,v:e,reactions:null,equals:ol,rv:0,wv:0};return n}function xe(e,t){const n=an(e);return Sl(n),n}function To(e,t=!1){const n=an(e);return t||(n.equals=Io),mn&&Ae!==null&&Ae.l!==null&&(Ae.l.s??=[]).push(n),n}function W(e,t,n=!1){Oe!==null&&!nt&&Rr()&&(Oe.f&(ot|Co))!==0&&!Et?.includes(e)&&pc();let r=n?Ze(t):t;return lo(e,r)}function lo(e,t){if(!e.equals(t)){var n=e.v;Bn?An.set(e,t):An.set(e,n),e.v=t,(e.f&ot)!==0&&((e.f&ht)!==0&&fl(e),st(e,(e.f&Ue)===0?Ke:Kt)),e.wv=Cl(),gl(e,ht),Rr()&&Te!==null&&(Te.f&Ke)!==0&&(Te.f&(Nt|vn))===0&&(Je===null?Yc([e]):Je.push(e))}return t}function gl(e,t){var n=e.reactions;if(n!==null)for(var r=Rr(),i=n.length,s=0;s<i;s++){var o=n[s],a=o.f;(a&ht)===0&&(!r&&o===Te||(st(o,t),(a&(Ke|Ue))!==0&&((a&ot)!==0?gl(o,Kt):Wr(o))))}}let Mc=!1;var We,$l,pl,vl;function Ac(){if(We===void 0){We=window,$l=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;pl=Tt(t,"firstChild").get,vl=Tt(t,"nextSibling").get,ns(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),ns(n)&&(n.__t=void 0)}}function Lr(e=""){return document.createTextNode(e)}function yt(e){return pl.call(e)}function Vr(e){return vl.call(e)}function Se(e,t){return yt(e)}function Le(e,t){{var n=yt(e);return n instanceof Comment&&n.data===""?Vr(n):n}}function ke(e,t=1,n=!1){let r=e;for(;t--;)r=Vr(r);return r}function Tc(e){e.textContent=""}function ml(e){Te===null&&Oe===null&&dc(),Oe!==null&&(Oe.f&Ue)!==0&&Te===null&&cc(),Bn&&uc()}function Dc(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function yn(e,t,n,r=!0){var i=Te,s={ctx:Ae,deps:null,nodes_start:null,nodes_end:null,f:e|ht,first:null,fn:t,last:null,next:null,parent:i,prev:null,teardown:null,transitions:null,wv:0};if(n)try{Ho(s),s.f|=oc}catch(l){throw gt(s),l}else t!==null&&Wr(s);var o=n&&s.deps===null&&s.first===null&&s.nodes_start===null&&s.teardown===null&&(s.f&(rl|fr))===0;if(!o&&r&&(i!==null&&Dc(s,i),Oe!==null&&(Oe.f&ot)!==0)){var a=Oe;(a.effects??=[]).push(s)}return s}function zc(){return Oe!==null&&!nt}function Do(e){const t=yn(zr,null,!1);return st(t,Ke),t.teardown=e,t}function Rt(e){ml();var t=Te!==null&&(Te.f&Nt)!==0&&Ae!==null&&!Ae.m;if(t){var n=Ae;(n.e??=[]).push({fn:e,effect:Te,reaction:Oe})}else{var r=bn(e);return r}}function yl(e){return ml(),Fr(e)}function Hc(e){const t=yn(vn,e,!0);return(n={})=>new Promise(r=>{n.outro?Tn(t,()=>{gt(t),r(void 0)}):(gt(t),r(void 0))})}function bn(e){return yn(nl,e,!1)}function Fr(e){return yn(zr,e,!0)}function Me(e,t=[],n=sn){const r=t.map(n);return wn(()=>e(...r.map(g)))}function wn(e,t=0){return yn(zr|Co|t,e,!0)}function Lt(e,t=!0){return yn(zr|Nt,e,!0,t)}function bl(e){var t=e.teardown;if(t!==null){const n=Bn,r=Oe;is(!0),$t(null);try{t.call(null)}finally{is(n),$t(r)}}}function wl(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){var r=n.next;(n.f&vn)!==0?n.parent=null:gt(n,t),n=r}}function Rc(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&Nt)===0&&gt(t),t=n}}function gt(e,t=!0){var n=!1;(t||(e.f&ac)!==0)&&e.nodes_start!==null&&(Lc(e.nodes_start,e.nodes_end),n=!0),wl(e,t&&!n),mr(e,0),st(e,Hr);var r=e.transitions;if(r!==null)for(const s of r)s.stop();bl(e);var i=e.parent;i!==null&&i.first!==null&&_l(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=null}function Lc(e,t){for(;e!==null;){var n=e===t?null:Vr(e);e.remove(),e=n}}function _l(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function Tn(e,t){var n=[];zo(e,n,!0),xl(n,()=>{gt(e),t&&t()})}function xl(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var i of e)i.out(r)}else t()}function zo(e,t,n){if((e.f&xt)===0){if(e.f^=xt,e.transitions!==null)for(const o of e.transitions)(o.is_global||n)&&t.push(o);for(var r=e.first;r!==null;){var i=r.next,s=(r.f&Wn)!==0||(r.f&Nt)!==0;zo(r,t,s?n:!1),r=i}}}function gr(e){El(e,!0)}function El(e,t){if((e.f&xt)!==0){e.f^=xt,(e.f&Ke)===0&&(e.f^=Ke),Xn(e)&&(st(e,ht),Wr(e));for(var n=e.first;n!==null;){var r=n.next,i=(n.f&Wn)!==0||(n.f&Nt)!==0;El(n,i?t:!1),n=r}if(e.transitions!==null)for(const s of e.transitions)(s.is_global||t)&&s.in()}}let Dn=[],uo=[];function kl(){var e=Dn;Dn=[],dr(e)}function Vc(){var e=uo;uo=[],dr(e)}function Yr(e){Dn.length===0&&queueMicrotask(kl),Dn.push(e)}function Fc(){Dn.length>0&&kl(),uo.length>0&&Vc()}let sr=!1,$r=!1,pr=null,qt=!1,Bn=!1;function is(e){Bn=e}let In=[];let Oe=null,nt=!1;function $t(e){Oe=e}let Te=null;function Vt(e){Te=e}let Et=null;function Sl(e){Oe!==null&&Oe.f&ao&&(Et===null?Et=[e]:Et.push(e))}let Ve=null,je=0,Je=null;function Yc(e){Je=e}let Nl=1,vr=0,At=!1;function Cl(){return++Nl}function Xn(e){var t=e.f;if((t&ht)!==0)return!0;if((t&Kt)!==0){var n=e.deps,r=(t&Ue)!==0;if(n!==null){var i,s,o=(t&hr)!==0,a=r&&Te!==null&&!At,l=n.length;if(o||a){var c=e,u=c.parent;for(i=0;i<l;i++)s=n[i],(o||!s?.reactions?.includes(c))&&(s.reactions??=[]).push(c);o&&(c.f^=hr),a&&u!==null&&(u.f&Ue)===0&&(c.f^=Ue)}for(i=0;i<l;i++)if(s=n[i],Xn(s)&&hl(s),s.wv>e.wv)return!0}(!r||Te!==null&&!At)&&st(e,Ke)}return!1}function qc(e,t){for(var n=t;n!==null;){if((n.f&fr)!==0)try{n.fn(e);return}catch{n.f^=fr}n=n.parent}throw sr=!1,e}function os(e){return(e.f&Hr)===0&&(e.parent===null||(e.parent.f&fr)===0)}function qr(e,t,n,r){if(sr){if(n===null&&(sr=!1),os(t))throw e;return}if(n!==null&&(sr=!0),qc(e,t),os(t))throw e}function Pl(e,t,n=!0){var r=e.reactions;if(r!==null)for(var i=0;i<r.length;i++){var s=r[i];Et?.includes(e)||((s.f&ot)!==0?Pl(s,t,!1):t===s&&(n?st(s,ht):(s.f&Ke)!==0&&st(s,Kt),Wr(s)))}}function Il(e){var t=Ve,n=je,r=Je,i=Oe,s=At,o=Et,a=Ae,l=nt,c=e.f;Ve=null,je=0,Je=null,At=(c&Ue)!==0&&(nt||!qt||Oe===null),Oe=(c&(Nt|vn))===0?e:null,Et=null,rs(e.ctx),nt=!1,vr++,e.f|=ao;try{var u=(0,e.fn)(),d=e.deps;if(Ve!==null){var f;if(mr(e,je),d!==null&&je>0)for(d.length=je+Ve.length,f=0;f<Ve.length;f++)d[je+f]=Ve[f];else e.deps=d=Ve;if(!At)for(f=je;f<d.length;f++)(d[f].reactions??=[]).push(e)}else d!==null&&je<d.length&&(mr(e,je),d.length=je);if(Rr()&&Je!==null&&!nt&&d!==null&&(e.f&(ot|Kt|ht))===0)for(f=0;f<Je.length;f++)Pl(Je[f],e);return i!==null&&i!==e&&(vr++,Je!==null&&(r===null?r=Je:r.push(...Je))),u}finally{Ve=t,je=n,Je=r,Oe=i,At=s,Et=o,rs(a),nt=l,e.f^=ao}}function Wc(e,t){let n=t.reactions;if(n!==null){var r=nc.call(n,e);if(r!==-1){var i=n.length-1;i===0?n=t.reactions=null:(n[r]=n[i],n.pop())}}n===null&&(t.f&ot)!==0&&(Ve===null||!Ve.includes(t))&&(st(t,Kt),(t.f&(Ue|hr))===0&&(t.f^=hr),dl(t),mr(t,0))}function mr(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)Wc(e,n[r])}function Ho(e){var t=e.f;if((t&Hr)===0){st(e,Ke);var n=Te,r=Ae,i=qt;Te=e,qt=!0;try{(t&Co)!==0?Rc(e):wl(e),bl(e);var s=Il(e);e.teardown=typeof s=="function"?s:null,e.wv=Nl;var o=e.deps,a;ts&&vc&&e.f&ht}catch(l){qr(l,e,n,r||e.ctx)}finally{qt=i,Te=n}}}function Bc(){try{fc()}catch(e){if(pr!==null)qr(e,pr,null);else throw e}}function Ol(){var e=qt;try{var t=0;for(qt=!0;In.length>0;){t++>1e3&&Bc();var n=In,r=n.length;In=[];for(var i=0;i<r;i++){var s=Kc(n[i]);Xc(s)}An.clear()}}finally{$r=!1,qt=e,pr=null}}function Xc(e){var t=e.length;if(t!==0)for(var n=0;n<t;n++){var r=e[n];if((r.f&(Hr|xt))===0)try{Xn(r)&&(Ho(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null?_l(r):r.fn=null))}catch(i){qr(i,r,null,r.ctx)}}}function Wr(e){$r||($r=!0,queueMicrotask(Ol));for(var t=pr=e;t.parent!==null;){t=t.parent;var n=t.f;if((n&(vn|Nt))!==0){if((n&Ke)===0)return;t.f^=Ke}}In.push(t)}function Kc(e){for(var t=[],n=e;n!==null;){var r=n.f,i=(r&(Nt|vn))!==0,s=i&&(r&Ke)!==0;if(!s&&(r&xt)===0){if((r&nl)!==0)t.push(n);else if(i)n.f^=Ke;else try{Xn(n)&&Ho(n)}catch(l){qr(l,n,null,n.ctx)}var o=n.first;if(o!==null){n=o;continue}}var a=n.parent;for(n=n.next;n===null&&a!==null;)n=a.next,a=a.parent}return t}function jc(e){for(var t;;){if(Fc(),In.length===0)return t;$r=!0,Ol()}}async function Zc(){await Promise.resolve(),jc()}function g(e){var t=e.f,n=(t&ot)!==0;if(Oe!==null&&!nt){if(!Et?.includes(e)){var r=Oe.deps;e.rv<vr&&(e.rv=vr,Ve===null&&r!==null&&r[je]===e?je++:Ve===null?Ve=[e]:(!At||!Ve.includes(e))&&Ve.push(e))}}else if(n&&e.deps===null&&e.effects===null){var i=e,s=i.parent;s!==null&&(s.f&Ue)===0&&(i.f^=Ue)}return n&&(i=e,Xn(i)&&hl(i)),Bn&&An.has(e)?An.get(e):e.v}function Fe(e){var t=nt;try{return nt=!0,e()}finally{nt=t}}const Gc=-7169;function st(e,t){e.f=e.f&Gc|t}function Ml(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(Dt in e)co(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&Dt in n&&co(n)}}}function co(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{co(e[r],t)}catch{}const n=Dr(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=el(n);for(let i in r){const s=r[i].get;if(s)try{s.call(e)}catch{}}}}}function Uc(e){return e.endsWith("capture")&&e!=="gotpointercapture"&&e!=="lostpointercapture"}const Qc=["beforeinput","click","change","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"];function Jc(e){return Qc.includes(e)}const ed={formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly",defaultvalue:"defaultValue",defaultchecked:"defaultChecked",srcobject:"srcObject",novalidate:"noValidate",allowfullscreen:"allowFullscreen",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback"};function td(e){return e=e.toLowerCase(),ed[e]??e}const nd=["touchstart","touchmove"];function rd(e){return nd.includes(e)}function id(e,t){if(t){const n=document.body;e.autofocus=!0,Yr(()=>{document.activeElement===n&&e.focus()})}}function od(e){var t=Oe,n=Te;$t(null),Vt(null);try{return e()}finally{$t(t),Vt(n)}}const Al=new Set,fo=new Set;function Ro(e,t,n,r={}){function i(s){if(r.capture||Sn.call(t,s),!s.cancelBubble)return od(()=>n?.call(this,s))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?Yr(()=>{t.addEventListener(e,i,r)}):t.addEventListener(e,i,r),i}function ho(e,t,n,r={}){var i=Ro(t,e,n,r);return()=>{e.removeEventListener(t,i,r)}}function ln(e,t,n,r,i){var s={capture:r,passive:i},o=Ro(e,t,n,s);(t===document.body||t===window||t===document)&&Do(()=>{t.removeEventListener(e,o,s)})}function jt(e){for(var t=0;t<e.length;t++)Al.add(e[t]);for(var n of fo)n(e)}function Sn(e){var t=this,n=t.ownerDocument,r=e.type,i=e.composedPath?.()||[],s=i[0]||e.target,o=0,a=e.__root;if(a){var l=i.indexOf(a);if(l!==-1&&(t===document||t===window)){e.__root=t;return}var c=i.indexOf(t);if(c===-1)return;l<=c&&(o=l)}if(s=i[o]||e.target,s!==t){Ja(e,"currentTarget",{configurable:!0,get(){return s||n}});var u=Oe,d=Te;$t(null),Vt(null);try{for(var f,h=[];s!==null;){var $=s.assignedSlot||s.parentNode||s.host||null;try{var b=s["__"+r];if(b!=null&&(!s.disabled||e.target===s))if(Tr(b)){var[v,...m]=b;v.apply(s,[e,...m])}else b.call(s,e)}catch(E){f?h.push(E):f=E}if(e.cancelBubble||$===t||$===null)break;s=$}if(f){for(let E of h)queueMicrotask(()=>{throw E});throw f}}finally{e.__root=t,delete e.currentTarget,$t(u),Vt(d)}}}function Tl(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","\x3C!---->"),t.content}function un(e,t){var n=Te;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function He(e,t){var n=(t&al)!==0,r=(t&Sc)!==0,i,s=!e.startsWith("<!>");return()=>{i===void 0&&(i=Tl(s?e:"<!>"+e),n||(i=yt(i)));var o=r||$l?document.importNode(i,!0):i.cloneNode(!0);if(n){var a=yt(o),l=o.lastChild;un(a,l)}else un(o,o);return o}}function sd(e,t,n="svg"){var r=!e.startsWith("<!>"),i=(t&al)!==0,s=`<${n}>${r?e:"<!>"+e}</${n}>`,o;return()=>{if(!o){var a=Tl(s),l=yt(a);if(i)for(o=document.createDocumentFragment();yt(l);)o.appendChild(yt(l));else o=yt(l)}var c=o.cloneNode(!0);if(i){var u=yt(c),d=c.lastChild;un(u,d)}else un(c,c);return c}}function tt(e,t){return sd(e,t,"svg")}function Dl(e=""){{var t=Lr(e+"");return un(t,t),t}}function Ft(){var e=document.createDocumentFragment(),t=document.createComment(""),n=Lr();return e.append(t,n),un(t,n),e}function me(e,t){e!==null&&e.before(t)}function Zt(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??=e.nodeValue)&&(e.__t=n,e.nodeValue=n+"")}function ad(e,t){return ld(e,t)}const Qt=new Map;function ld(e,{target:t,anchor:n,props:r={},events:i,context:s,intro:o=!0}){Ac();var a=new Set,l=d=>{for(var f=0;f<d.length;f++){var h=d[f];if(!a.has(h)){a.add(h);var $=rd(h);t.addEventListener(h,Sn,{passive:$});var b=Qt.get(h);b===void 0?(document.addEventListener(h,Sn,{passive:$}),Qt.set(h,1)):Qt.set(h,b+1)}}};l(No(Al)),fo.add(l);var c=void 0,u=Hc(()=>{var d=n??t.appendChild(Lr());return Lt(()=>{if(s){we({});var f=Ae;f.c=s}i&&(r.$$events=i),c=e(d,r)||{},s&&_e()}),()=>{for(var f of a){t.removeEventListener(f,Sn);var h=Qt.get(f);--h===0?(document.removeEventListener(f,Sn),Qt.delete(f)):Qt.set(f,h)}fo.delete(l),d!==n&&d.parentNode?.removeChild(d)}});return ud.set(c,u),c}let ud=new WeakMap;function Ye(e,t,[n,r]=[0,0]){var i=e,s=null,o=null,a=qe,l=n>0?Wn:0,c=!1;const u=(f,h=!0)=>{c=!0,d(h,f)},d=(f,h)=>{a!==(a=f)&&(a?(s?gr(s):h&&(s=Lt(()=>h(i))),o&&Tn(o,()=>{o=null})):(o?gr(o):h&&(o=Lt(()=>h(i,[n+1,r]))),s&&Tn(s,()=>{s=null})))};wn(()=>{c=!1,t(u),c||d(null,null)},l)}function cd(e,t,n,r){for(var i=[],s=t.length,o=0;o<s;o++)zo(t[o].e,i,!0);var a=s>0&&i.length===0&&n!==null;if(a){var l=n.parentNode;Tc(l),l.append(n),r.clear(),It(e,t[0].prev,t[s-1].next)}xl(i,()=>{for(var c=0;c<s;c++){var u=t[c];a||(r.delete(u.k),It(e,u.prev,u.next)),gt(u.e,!a)}})}function Lo(e,t,n,r,i,s=null){var o=e,a={flags:t,items:new Map,first:null},l=(t&sl)!==0;if(l){var c=e;o=c.appendChild(Lr())}var u=null,d=!1,f=cl(()=>{var h=n();return Tr(h)?h:h==null?[]:No(h)});wn(()=>{var h=g(f),$=h.length;d&&$===0||(d=$===0,dd(h,a,o,i,t,r,n),s!==null&&($===0?u?gr(u):u=Lt(()=>s(o)):u!==null&&Tn(u,()=>{u=null})),g(f))})}function dd(e,t,n,r,i,s,o){var a=(i&yc)!==0,l=(i&(Oo|Mo))!==0,c=e.length,u=t.items,d=t.first,f=d,h,$=null,b,v=[],m=[],E,x,y,C;if(a)for(C=0;C<c;C+=1)E=e[C],x=s(E,C),y=u.get(x),y!==void 0&&(y.a?.measure(),(b??=new Set).add(y));for(C=0;C<c;C+=1){if(E=e[C],x=s(E,C),y=u.get(x),y===void 0){var N=f?f.e.nodes_start:n;$=hd(N,t,$,$===null?t.first:$.next,E,x,C,r,i,o),u.set(x,$),v=[],m=[],f=$.next;continue}if(l&&fd(y,E,C,i),(y.e.f&xt)!==0&&(gr(y.e),a&&(y.a?.unfix(),(b??=new Set).delete(y))),y!==f){if(h!==void 0&&h.has(y)){if(v.length<m.length){var D=m[0],k;$=D.prev;var O=v[0],A=v[v.length-1];for(k=0;k<v.length;k+=1)ss(v[k],D,n);for(k=0;k<m.length;k+=1)h.delete(m[k]);It(t,O.prev,A.next),It(t,$,O),It(t,A,D),f=D,$=A,C-=1,v=[],m=[]}else h.delete(y),ss(y,f,n),It(t,y.prev,y.next),It(t,y,$===null?t.first:$.next),It(t,$,y),$=y;continue}for(v=[],m=[];f!==null&&f.k!==x;)(f.e.f&xt)===0&&(h??=new Set).add(f),m.push(f),f=f.next;if(f===null)continue;y=f}v.push(y),$=y,f=y.next}if(f!==null||h!==void 0){for(var w=h===void 0?[]:No(h);f!==null;)(f.e.f&xt)===0&&w.push(f),f=f.next;var _=w.length;if(_>0){var T=(i&sl)!==0&&c===0?n:null;if(a){for(C=0;C<_;C+=1)w[C].a?.measure();for(C=0;C<_;C+=1)w[C].a?.fix()}cd(t,w,T,u)}}a&&Yr(()=>{if(b!==void 0)for(y of b)y.a?.apply()}),Te.first=t.first&&t.first.e,Te.last=$&&$.e}function fd(e,t,n,r){(r&Oo)!==0&&lo(e.v,t),(r&Mo)!==0?lo(e.i,n):e.i=n}function hd(e,t,n,r,i,s,o,a,l,c){var u=(l&Oo)!==0,d=(l&bc)===0,f=u?d?To(i):an(i):i,h=(l&Mo)===0?o:an(o),$={i:h,v:f,k:s,a:null,e:null,prev:n,next:r};try{return $.e=Lt(()=>a(e,f,h,c),Mc),$.e.prev=n&&n.e,$.e.next=r&&r.e,n===null?t.first=$:(n.next=$,n.e.next=$.e),r!==null&&(r.prev=$,r.e.prev=$.e),$}finally{}}function ss(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,i=t?t.e.nodes_start:n,s=e.e.nodes_start;s!==r;){var o=Vr(s);i.before(s),s=o}}function It(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function Ct(e,t,...n){var r=e,i=Ge,s;wn(()=>{i!==(i=t())&&(s&&(gt(s),s=null),s=Lt(()=>i(r,...n)))},Wn)}function Vo(e,t,n){var r=e,i,s;wn(()=>{i!==(i=t())&&(s&&(Tn(s),s=null),i&&(s=Lt(()=>n(r,i))))},Wn)}function Be(e,t,n){bn(()=>{var r=Fe(()=>t(e,n?.())||{});if(n&&r?.update){var i=!1,s={};Fr(()=>{var o=n();Ml(o),i&&Po(s,o)&&(s=o,r.update(o))}),i=!0}if(r?.destroy)return()=>r.destroy()})}function gd(e,t){var n=void 0,r;wn(()=>{n!==(n=t())&&(r&&(gt(r),r=null),n&&(r=Lt(()=>{bn(()=>n(e))})))})}function zl(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=zl(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function $d(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=zl(e))&&(r&&(r+=" "),r+=t);return r}function Pt(e){return typeof e=="object"?$d(e):e??""}const as=[...` 	
\r\fÂ \v\uFEFF`];function pd(e,t,n){var r=e==null?"":""+e;if(t&&(r=r?r+" "+t:t),n){for(var i in n)if(n[i])r=r?r+" "+i:i;else if(r.length)for(var s=i.length,o=0;(o=r.indexOf(i,o))>=0;){var a=o+s;(o===0||as.includes(r[o-1]))&&(a===r.length||as.includes(r[a]))?r=(o===0?"":r.substring(0,o))+r.substring(a+1):o=a}}return r===""?null:r}function ls(e,t=!1){var n=t?" !important;":";",r="";for(var i in e){var s=e[i];s!=null&&s!==""&&(r+=" "+i+": "+s+n)}return r}function ii(e){return e[0]!=="-"||e[1]!=="-"?e.toLowerCase():e}function vd(e,t){if(t){var n="",r,i;if(Array.isArray(t)?(r=t[0],i=t[1]):r=t,e){e=String(e).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var s=!1,o=0,a=!1,l=[];r&&l.push(...Object.keys(r).map(ii)),i&&l.push(...Object.keys(i).map(ii));var c=0,u=-1;const b=e.length;for(var d=0;d<b;d++){var f=e[d];if(a?f==="/"&&e[d-1]==="*"&&(a=!1):s?s===f&&(s=!1):f==="/"&&e[d+1]==="*"?a=!0:f==='"'||f==="'"?s=f:f==="("?o++:f===")"&&o--,!a&&s===!1&&o===0){if(f===":"&&u===-1)u=d;else if(f===";"||d===b-1){if(u!==-1){var h=ii(e.substring(c,u).trim());if(!l.includes(h)){f!==";"&&d++;var $=e.substring(c,d).trim();n+=" "+$+";"}}c=d+1,u=-1}}}}return r&&(n+=ls(r)),i&&(n+=ls(i,!0)),n=n.trim(),n===""?null:n}return e==null?null:String(e)}function lt(e,t,n,r,i,s){var o=e.__className;if(o!==n||o===void 0){var a=pd(n,r,s);a==null?e.removeAttribute("class"):t?e.className=a:e.setAttribute("class",a),e.__className=n}else if(s&&i!==s)for(var l in s){var c=!!s[l];(i==null||c!==!!i[l])&&e.classList.toggle(l,c)}return s}function oi(e,t={},n,r){for(var i in n){var s=n[i];t[i]!==s&&(n[i]==null?e.style.removeProperty(i):e.style.setProperty(i,s,r))}}function et(e,t,n,r){var i=e.__style;if(i!==t){var s=vd(t,r);s==null?e.removeAttribute("style"):e.style.cssText=s,e.__style=t}else r&&(Array.isArray(r)?(oi(e,n?.[0],r[0]),oi(e,n?.[1],r[1],"important")):oi(e,n,r));return r}const tn=Symbol("class"),Mt=Symbol("style"),Hl=Symbol("is custom element"),Rl=Symbol("is html");function md(e,t){t?e.hasAttribute("selected")||e.setAttribute("selected",""):e.removeAttribute("selected")}function ye(e,t,n,r){var i=Ll(e);i[t]!==(i[t]=n)&&(t==="loading"&&(e[lc]=n),n==null?e.removeAttribute(t):typeof n!="string"&&Vl(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function Kn(e,t,n,r,i=!1){var s=Ll(e),o=s[Hl],a=!s[Rl],l=t||{},c=e.tagName==="OPTION";for(var u in t)u in n||(n[u]=null);n.class?n.class=Pt(n.class):(r||n[tn])&&(n.class=null),n[Mt]&&(n.style??=null);var d=Vl(e);for(const x in n){let y=n[x];if(c&&x==="value"&&y==null){e.value=e.__value="",l[x]=y;continue}if(x==="class"){var f=e.namespaceURI==="http://www.w3.org/1999/xhtml";lt(e,f,y,r,t?.[tn],n[tn]),l[x]=y,l[tn]=n[tn];continue}if(x==="style"){et(e,y,t?.[Mt],n[Mt]),l[x]=y,l[Mt]=n[Mt];continue}var h=l[x];if(y!==h){l[x]=y;var $=x[0]+x[1];if($!=="$$")if($==="on"){const C={},N="$$"+x;let D=x.slice(2);var b=Jc(D);if(Uc(D)&&(D=D.slice(0,-7),C.capture=!0),!b&&h){if(y!=null)continue;e.removeEventListener(D,l[N],C),l[N]=null}if(y!=null)if(b)e[`__${D}`]=y,jt([D]);else{let k=function(O){l[x].call(this,O)};var E=k;l[N]=Ro(D,e,k,C)}else b&&(e[`__${D}`]=void 0)}else if(x==="style")ye(e,x,y);else if(x==="autofocus")id(e,!!y);else if(!o&&(x==="__value"||x==="value"&&y!=null))e.value=e.__value=y;else if(x==="selected"&&c)md(e,y);else{var v=x;a||(v=td(v));var m=v==="defaultValue"||v==="defaultChecked";if(y==null&&!o&&!m)if(s[x]=null,v==="value"||v==="checked"){let C=e;const N=t===void 0;if(v==="value"){let D=C.defaultValue;C.removeAttribute(v),C.defaultValue=D,C.value=C.__value=N?D:null}else{let D=C.defaultChecked;C.removeAttribute(v),C.defaultChecked=D,C.checked=N?D:!1}}else e.removeAttribute(x);else m||d.includes(v)&&(o||typeof y!="string")?e[v]=y:typeof y!="function"&&ye(e,v,y)}}}for(let x of Object.getOwnPropertySymbols(n))x.description===Cc&&gd(e,()=>n[x]);return l}function Ll(e){return e.__attributes??={[Hl]:e.nodeName.includes("-"),[Rl]:e.namespaceURI===Nc}}var us=new Map;function Vl(e){var t=us.get(e.nodeName);if(t)return t;us.set(e.nodeName,t=[]);for(var n,r=e,i=Element.prototype;i!==r;){n=el(r);for(var s in n)n[s].set&&t.push(s);r=Dr(r)}return t}class Fo{#e=new WeakMap;#t;#n;static entries=new WeakMap;constructor(t){this.#n=t}observe(t,n){var r=this.#e.get(t)||new Set;return r.add(n),this.#e.set(t,r),this.#r().observe(t,this.#n),()=>{var i=this.#e.get(t);i.delete(n),i.size===0&&(this.#e.delete(t),this.#t.unobserve(t))}}#r(){return this.#t??(this.#t=new ResizeObserver(t=>{for(var n of t){Fo.entries.set(n.target,n);for(var r of this.#e.get(n.target)||[])r(n)}}))}}var yd=new Fo({box:"border-box"});function yr(e,t,n){var r=yd.observe(e,()=>n(e[t]));bn(()=>(Fe(()=>n(e[t])),r))}function cs(e,t){return e===t||e?.[Dt]===t}function _n(e={},t,n,r){return bn(()=>{var i,s;return Fr(()=>{i=s,s=[],Fe(()=>{e!==n(...s)&&(t(e,...s),i&&cs(n(...i),e)&&t(null,...i))})}),()=>{Yr(()=>{s&&cs(n(...s),e)&&t(null,...s)})}}),e}function bd(e=!1){const t=Ae,n=t.l.u;if(!n)return;let r=()=>Ml(t.s);if(e){let i=0,s={};const o=sn(()=>{let a=!1;const l=t.s;for(const c in l)l[c]!==s[c]&&(s[c]=l[c],a=!0);return a&&i++,i});r=()=>g(o)}n.b.length&&yl(()=>{ds(t,r),dr(n.b)}),Rt(()=>{const i=Fe(()=>n.m.map(ic));return()=>{for(const s of i)typeof s=="function"&&s()}}),n.a.length&&Rt(()=>{ds(t,r),dr(n.a)})}function ds(e,t){if(e.l.s)for(const n of e.l.s)g(n);t()}function Fl(e,t,n){if(e==null)return t(void 0),Ge;const r=Fe(()=>e.subscribe(t,n));return r.unsubscribe?()=>r.unsubscribe():r}const Jt=[];function fs(e,t=Ge){let n=null;const r=new Set;function i(a){if(Po(e,a)&&(e=a,n)){const l=!Jt.length;for(const c of r)c[1](),Jt.push(c,e);if(l){for(let c=0;c<Jt.length;c+=2)Jt[c][0](Jt[c+1]);Jt.length=0}}}function s(a){i(a(e))}function o(a,l=Ge){const c=[a,l];return r.add(c),r.size===1&&(n=t(i,s)||Ge),a(e),()=>{r.delete(c),r.size===0&&n&&(n(),n=null)}}return{set:i,update:s,subscribe:o}}function wd(e){let t;return Fl(e,n=>t=n)(),t}let Nn=!1,go=Symbol();function hs(e,t,n){const r=n[t]??={store:null,source:To(void 0),unsubscribe:Ge};if(r.store!==e&&!(go in n))if(r.unsubscribe(),r.store=e??null,e==null)r.source.v=void 0,r.unsubscribe=Ge;else{var i=!0;r.unsubscribe=Fl(e,s=>{i?r.source.v=s:W(r.source,s)}),i=!1}return e&&go in n?wd(e):g(r.source)}function gs(e,t){return e.set(t),t}function _d(){const e={};function t(){Do(()=>{for(var n in e)e[n].unsubscribe();Ja(e,go,{enumerable:!1,value:!0})})}return[e,t]}function $s(){Nn=!0}function xd(e){var t=Nn;try{return Nn=!1,[e(),Nn]}finally{Nn=t}}const Ed={get(e,t){if(!e.exclude.includes(t))return e.props[t]},set(e,t){return!1},getOwnPropertyDescriptor(e,t){if(!e.exclude.includes(t)&&t in e.props)return{enumerable:!0,configurable:!0,value:e.props[t]}},has(e,t){return e.exclude.includes(t)?!1:t in e.props},ownKeys(e){return Reflect.ownKeys(e.props).filter(t=>!e.exclude.includes(t))}};function jn(e,t,n){return new Proxy({props:e,exclude:t},Ed)}const kd={get(e,t){let n=e.props.length;for(;n--;){let r=e.props[n];if(xn(r)&&(r=r()),typeof r=="object"&&r!==null&&t in r)return r[t]}},set(e,t,n){let r=e.props.length;for(;r--;){let i=e.props[r];xn(i)&&(i=i());const s=Tt(i,t);if(s&&s.set)return s.set(n),!0}return!1},getOwnPropertyDescriptor(e,t){let n=e.props.length;for(;n--;){let r=e.props[n];if(xn(r)&&(r=r()),typeof r=="object"&&r!==null&&t in r){const i=Tt(r,t);return i&&!i.configurable&&(i.configurable=!0),i}}},has(e,t){if(t===Dt||t===il)return!1;for(let n of e.props)if(xn(n)&&(n=n()),n!=null&&t in n)return!0;return!1},ownKeys(e){const t=[];for(let n of e.props)if(xn(n)&&(n=n()),!!n){for(const r in n)t.includes(r)||t.push(r);for(const r of Object.getOwnPropertySymbols(n))t.includes(r)||t.push(r)}return t}};function Sd(...e){return new Proxy({props:e},kd)}function ps(e){return e.ctx?.d??!1}function te(e,t,n,r){var i=(n&wc)!==0,s=!mn||(n&_c)!==0,o=(n&Ec)!==0,a=(n&kc)!==0,l=!1,c;o?[c,l]=xd(()=>e[t]):c=e[t];var u=Dt in e||il in e,d=o&&(Tt(e,t)?.set??(u&&t in e&&(N=>e[t]=N)))||void 0,f=r,h=!0,$=!1,b=()=>($=!0,h&&(h=!1,a?f=Fe(r):f=r),f);c===void 0&&r!==void 0&&(d&&s&&hc(),c=b(),d&&d(c));var v;if(s)v=()=>{var N=e[t];return N===void 0?b():(h=!0,$=!1,N)};else{var m=(i?sn:cl)(()=>e[t]);m.f|=sc,v=()=>{var N=g(m);return N!==void 0&&(f=void 0),N===void 0?f:N}}if((n&xc)===0)return v;if(d){var E=e.$$legacy;return function(N,D){return arguments.length>0?((!s||!D||E||l)&&d(D?v():N),N):v()}}var x=!1,y=To(c),C=sn(()=>{var N=v(),D=g(y);return x?(x=!1,D):y.v=N});return o&&g(C),i||(C.equals=Io),function(N,D){if(arguments.length>0){const k=D?g(C):s&&o?Ze(N):N;if(!C.equals(k)){if(x=!0,W(y,k),$&&f!==void 0&&(f=k),ps(C))return N;Fe(()=>g(C))}return N}return ps(C)?C.v:g(C)}}function Yl(e){Ae===null&&Ao(),mn&&Ae.l!==null?Nd(Ae).m.push(e):Rt(()=>{const t=Fe(e);if(typeof t=="function")return t})}function Br(e){Ae===null&&Ao(),Yl(()=>()=>Fe(e))}function Nd(e){var t=e.l;return t.u??={a:[],b:[],m:[]}}const Cd="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(Cd);mc();var Pd={value:()=>{}};function Xr(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new ar(n)}function ar(e){this._=e}function Id(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}ar.prototype=Xr.prototype={constructor:ar,on:function(e,t){var n=this._,r=Id(e+"",n),i,s=-1,o=r.length;if(arguments.length<2){for(;++s<o;)if((i=(e=r[s]).type)&&(i=Od(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<o;)if(i=(e=r[s]).type)n[i]=vs(n[i],e.name,t);else if(t==null)for(i in n)n[i]=vs(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new ar(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],r=0,i=s.length;r<i;++r)s[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,s=r.length;i<s;++i)r[i].value.apply(t,n)}};function Od(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function vs(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=Pd,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var $o="http://www.w3.org/1999/xhtml";const ms={svg:"http://www.w3.org/2000/svg",xhtml:$o,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Kr(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),ms.hasOwnProperty(t)?{space:ms[t],local:e}:e}function Md(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===$o&&t.documentElement.namespaceURI===$o?t.createElement(e):t.createElementNS(n,e)}}function Ad(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function ql(e){var t=Kr(e);return(t.local?Ad:Md)(t)}function Td(){}function Yo(e){return e==null?Td:function(){return this.querySelector(e)}}function Dd(e){typeof e!="function"&&(e=Yo(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],o=s.length,a=r[i]=new Array(o),l,c,u=0;u<o;++u)(l=s[u])&&(c=e.call(l,l.__data__,u,s))&&("__data__"in l&&(c.__data__=l.__data__),a[u]=c);return new Qe(r,this._parents)}function zd(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Hd(){return[]}function Wl(e){return e==null?Hd:function(){return this.querySelectorAll(e)}}function Rd(e){return function(){return zd(e.apply(this,arguments))}}function Ld(e){typeof e=="function"?e=Rd(e):e=Wl(e);for(var t=this._groups,n=t.length,r=[],i=[],s=0;s<n;++s)for(var o=t[s],a=o.length,l,c=0;c<a;++c)(l=o[c])&&(r.push(e.call(l,l.__data__,c,o)),i.push(l));return new Qe(r,i)}function Bl(e){return function(){return this.matches(e)}}function Xl(e){return function(t){return t.matches(e)}}var Vd=Array.prototype.find;function Fd(e){return function(){return Vd.call(this.children,e)}}function Yd(){return this.firstElementChild}function qd(e){return this.select(e==null?Yd:Fd(typeof e=="function"?e:Xl(e)))}var Wd=Array.prototype.filter;function Bd(){return Array.from(this.children)}function Xd(e){return function(){return Wd.call(this.children,e)}}function Kd(e){return this.selectAll(e==null?Bd:Xd(typeof e=="function"?e:Xl(e)))}function jd(e){typeof e!="function"&&(e=Bl(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],o=s.length,a=r[i]=[],l,c=0;c<o;++c)(l=s[c])&&e.call(l,l.__data__,c,s)&&a.push(l);return new Qe(r,this._parents)}function Kl(e){return new Array(e.length)}function Zd(){return new Qe(this._enter||this._groups.map(Kl),this._parents)}function br(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}br.prototype={constructor:br,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Gd(e){return function(){return e}}function Ud(e,t,n,r,i,s){for(var o=0,a,l=t.length,c=s.length;o<c;++o)(a=t[o])?(a.__data__=s[o],r[o]=a):n[o]=new br(e,s[o]);for(;o<l;++o)(a=t[o])&&(i[o]=a)}function Qd(e,t,n,r,i,s,o){var a,l,c=new Map,u=t.length,d=s.length,f=new Array(u),h;for(a=0;a<u;++a)(l=t[a])&&(f[a]=h=o.call(l,l.__data__,a,t)+"",c.has(h)?i[a]=l:c.set(h,l));for(a=0;a<d;++a)h=o.call(e,s[a],a,s)+"",(l=c.get(h))?(r[a]=l,l.__data__=s[a],c.delete(h)):n[a]=new br(e,s[a]);for(a=0;a<u;++a)(l=t[a])&&c.get(f[a])===l&&(i[a]=l)}function Jd(e){return e.__data__}function ef(e,t){if(!arguments.length)return Array.from(this,Jd);var n=t?Qd:Ud,r=this._parents,i=this._groups;typeof e!="function"&&(e=Gd(e));for(var s=i.length,o=new Array(s),a=new Array(s),l=new Array(s),c=0;c<s;++c){var u=r[c],d=i[c],f=d.length,h=tf(e.call(u,u&&u.__data__,c,r)),$=h.length,b=a[c]=new Array($),v=o[c]=new Array($),m=l[c]=new Array(f);n(u,d,b,v,m,h,t);for(var E=0,x=0,y,C;E<$;++E)if(y=b[E]){for(E>=x&&(x=E+1);!(C=v[x])&&++x<$;);y._next=C||null}}return o=new Qe(o,r),o._enter=a,o._exit=l,o}function tf(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function nf(){return new Qe(this._exit||this._groups.map(Kl),this._parents)}function rf(e,t,n){var r=this.enter(),i=this,s=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function of(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,s=r.length,o=Math.min(i,s),a=new Array(i),l=0;l<o;++l)for(var c=n[l],u=r[l],d=c.length,f=a[l]=new Array(d),h,$=0;$<d;++$)(h=c[$]||u[$])&&(f[$]=h);for(;l<i;++l)a[l]=n[l];return new Qe(a,this._parents)}function sf(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,s=r[i],o;--i>=0;)(o=r[i])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function af(e){e||(e=lf);function t(d,f){return d&&f?e(d.__data__,f.__data__):!d-!f}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var o=n[s],a=o.length,l=i[s]=new Array(a),c,u=0;u<a;++u)(c=o[u])&&(l[u]=c);l.sort(t)}return new Qe(i,this._parents).order()}function lf(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function uf(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function cf(){return Array.from(this)}function df(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,s=r.length;i<s;++i){var o=r[i];if(o)return o}return null}function ff(){let e=0;for(const t of this)++e;return e}function hf(){return!this.node()}function gf(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],s=0,o=i.length,a;s<o;++s)(a=i[s])&&e.call(a,a.__data__,s,i);return this}function $f(e){return function(){this.removeAttribute(e)}}function pf(e){return function(){this.removeAttributeNS(e.space,e.local)}}function vf(e,t){return function(){this.setAttribute(e,t)}}function mf(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function yf(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function bf(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function wf(e,t){var n=Kr(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?pf:$f:typeof t=="function"?n.local?bf:yf:n.local?mf:vf)(n,t))}function jl(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function _f(e){return function(){this.style.removeProperty(e)}}function xf(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Ef(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function kf(e,t,n){return arguments.length>1?this.each((t==null?_f:typeof t=="function"?Ef:xf)(e,t,n??"")):cn(this.node(),e)}function cn(e,t){return e.style.getPropertyValue(t)||jl(e).getComputedStyle(e,null).getPropertyValue(t)}function Sf(e){return function(){delete this[e]}}function Nf(e,t){return function(){this[e]=t}}function Cf(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Pf(e,t){return arguments.length>1?this.each((t==null?Sf:typeof t=="function"?Cf:Nf)(e,t)):this.node()[e]}function Zl(e){return e.trim().split(/^|\s+/)}function qo(e){return e.classList||new Gl(e)}function Gl(e){this._node=e,this._names=Zl(e.getAttribute("class")||"")}Gl.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Ul(e,t){for(var n=qo(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function Ql(e,t){for(var n=qo(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function If(e){return function(){Ul(this,e)}}function Of(e){return function(){Ql(this,e)}}function Mf(e,t){return function(){(t.apply(this,arguments)?Ul:Ql)(this,e)}}function Af(e,t){var n=Zl(e+"");if(arguments.length<2){for(var r=qo(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?Mf:t?If:Of)(n,t))}function Tf(){this.textContent=""}function Df(e){return function(){this.textContent=e}}function zf(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Hf(e){return arguments.length?this.each(e==null?Tf:(typeof e=="function"?zf:Df)(e)):this.node().textContent}function Rf(){this.innerHTML=""}function Lf(e){return function(){this.innerHTML=e}}function Vf(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Ff(e){return arguments.length?this.each(e==null?Rf:(typeof e=="function"?Vf:Lf)(e)):this.node().innerHTML}function Yf(){this.nextSibling&&this.parentNode.appendChild(this)}function qf(){return this.each(Yf)}function Wf(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Bf(){return this.each(Wf)}function Xf(e){var t=typeof e=="function"?e:ql(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Kf(){return null}function jf(e,t){var n=typeof e=="function"?e:ql(e),r=t==null?Kf:typeof t=="function"?t:Yo(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Zf(){var e=this.parentNode;e&&e.removeChild(this)}function Gf(){return this.each(Zf)}function Uf(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Qf(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Jf(e){return this.select(e?Qf:Uf)}function eh(e){return arguments.length?this.property("__data__",e):this.node().__data__}function th(e){return function(t){e.call(this,t,this.__data__)}}function nh(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function rh(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,s;n<i;++n)s=t[n],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++r]=s;++r?t.length=r:delete this.__on}}}function ih(e,t,n){return function(){var r=this.__on,i,s=th(t);if(r){for(var o=0,a=r.length;o<a;++o)if((i=r[o]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=t;return}}this.addEventListener(e.type,s,n),i={type:e.type,name:e.name,value:t,listener:s,options:n},r?r.push(i):this.__on=[i]}}function oh(e,t,n){var r=nh(e+""),i,s=r.length,o;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,c=a.length,u;l<c;++l)for(i=0,u=a[l];i<s;++i)if((o=r[i]).type===u.type&&o.name===u.name)return u.value}return}for(a=t?ih:rh,i=0;i<s;++i)this.each(a(r[i],t,n));return this}function Jl(e,t,n){var r=jl(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function sh(e,t){return function(){return Jl(this,e,t)}}function ah(e,t){return function(){return Jl(this,e,t.apply(this,arguments))}}function lh(e,t){return this.each((typeof t=="function"?ah:sh)(e,t))}function*uh(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,s=r.length,o;i<s;++i)(o=r[i])&&(yield o)}var eu=[null];function Qe(e,t){this._groups=e,this._parents=t}function Zn(){return new Qe([[document.documentElement]],eu)}function ch(){return this}Qe.prototype=Zn.prototype={constructor:Qe,select:Dd,selectAll:Ld,selectChild:qd,selectChildren:Kd,filter:jd,data:ef,enter:Zd,exit:nf,join:rf,merge:of,selection:ch,order:sf,sort:af,call:uf,nodes:cf,node:df,size:ff,empty:hf,each:gf,attr:wf,style:kf,property:Pf,classed:Af,text:Hf,html:Ff,raise:qf,lower:Bf,append:Xf,insert:jf,remove:Gf,clone:Jf,datum:eh,on:oh,dispatch:lh,[Symbol.iterator]:uh};function rt(e){return typeof e=="string"?new Qe([[document.querySelector(e)]],[document.documentElement]):new Qe([[e]],eu)}function dh(e){let t;for(;t=e.sourceEvent;)e=t;return e}function dt(e,t){if(e=dh(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}const fh={passive:!1},zn={capture:!0,passive:!1};function si(e){e.stopImmediatePropagation()}function rn(e){e.preventDefault(),e.stopImmediatePropagation()}function tu(e){var t=e.document.documentElement,n=rt(e).on("dragstart.drag",rn,zn);"onselectstart"in t?n.on("selectstart.drag",rn,zn):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function nu(e,t){var n=e.document.documentElement,r=rt(e).on("dragstart.drag",null);t&&(r.on("click.drag",rn,zn),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Jn=e=>()=>e;function po(e,{sourceEvent:t,subject:n,target:r,identifier:i,active:s,x:o,y:a,dx:l,dy:c,dispatch:u}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:u}})}po.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function hh(e){return!e.ctrlKey&&!e.button}function gh(){return this.parentNode}function $h(e,t){return t??{x:e.x,y:e.y}}function ph(){return navigator.maxTouchPoints||"ontouchstart"in this}function vh(){var e=hh,t=gh,n=$h,r=ph,i={},s=Xr("start","drag","end"),o=0,a,l,c,u,d=0;function f(y){y.on("mousedown.drag",h).filter(r).on("touchstart.drag",v).on("touchmove.drag",m,fh).on("touchend.drag touchcancel.drag",E).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(y,C){if(!(u||!e.call(this,y,C))){var N=x(this,t.call(this,y,C),y,C,"mouse");N&&(rt(y.view).on("mousemove.drag",$,zn).on("mouseup.drag",b,zn),tu(y.view),si(y),c=!1,a=y.clientX,l=y.clientY,N("start",y))}}function $(y){if(rn(y),!c){var C=y.clientX-a,N=y.clientY-l;c=C*C+N*N>d}i.mouse("drag",y)}function b(y){rt(y.view).on("mousemove.drag mouseup.drag",null),nu(y.view,c),rn(y),i.mouse("end",y)}function v(y,C){if(e.call(this,y,C)){var N=y.changedTouches,D=t.call(this,y,C),k=N.length,O,A;for(O=0;O<k;++O)(A=x(this,D,y,C,N[O].identifier,N[O]))&&(si(y),A("start",y,N[O]))}}function m(y){var C=y.changedTouches,N=C.length,D,k;for(D=0;D<N;++D)(k=i[C[D].identifier])&&(rn(y),k("drag",y,C[D]))}function E(y){var C=y.changedTouches,N=C.length,D,k;for(u&&clearTimeout(u),u=setTimeout(function(){u=null},500),D=0;D<N;++D)(k=i[C[D].identifier])&&(si(y),k("end",y,C[D]))}function x(y,C,N,D,k,O){var A=s.copy(),w=dt(O||N,C),_,T,p;if((p=n.call(y,new po("beforestart",{sourceEvent:N,target:f,identifier:k,active:o,x:w[0],y:w[1],dx:0,dy:0,dispatch:A}),D))!=null)return _=p.x-w[0]||0,T=p.y-w[1]||0,function P(S,L,Y){var X=w,K;switch(S){case"start":i[k]=P,K=o++;break;case"end":delete i[k],--o;case"drag":w=dt(Y||L,C),K=o;break}A.call(S,y,new po(S,{sourceEvent:L,subject:p,target:f,identifier:k,active:K,x:w[0]+_,y:w[1]+T,dx:w[0]-X[0],dy:w[1]-X[1],dispatch:A}),D)}}return f.filter=function(y){return arguments.length?(e=typeof y=="function"?y:Jn(!!y),f):e},f.container=function(y){return arguments.length?(t=typeof y=="function"?y:Jn(y),f):t},f.subject=function(y){return arguments.length?(n=typeof y=="function"?y:Jn(y),f):n},f.touchable=function(y){return arguments.length?(r=typeof y=="function"?y:Jn(!!y),f):r},f.on=function(){var y=s.on.apply(s,arguments);return y===s?f:y},f.clickDistance=function(y){return arguments.length?(d=(y=+y)*y,f):Math.sqrt(d)},f}function Wo(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function ru(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Gn(){}var Hn=.7,wr=1/Hn,on="\\s*([+-]?\\d+)\\s*",Rn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ft="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",mh=/^#([0-9a-f]{3,8})$/,yh=new RegExp(`^rgb\\(${on},${on},${on}\\)$`),bh=new RegExp(`^rgb\\(${ft},${ft},${ft}\\)$`),wh=new RegExp(`^rgba\\(${on},${on},${on},${Rn}\\)$`),_h=new RegExp(`^rgba\\(${ft},${ft},${ft},${Rn}\\)$`),xh=new RegExp(`^hsl\\(${Rn},${ft},${ft}\\)$`),Eh=new RegExp(`^hsla\\(${Rn},${ft},${ft},${Rn}\\)$`),ys={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Wo(Gn,Ln,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:bs,formatHex:bs,formatHex8:kh,formatHsl:Sh,formatRgb:ws,toString:ws});function bs(){return this.rgb().formatHex()}function kh(){return this.rgb().formatHex8()}function Sh(){return iu(this).formatHsl()}function ws(){return this.rgb().formatRgb()}function Ln(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=mh.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?_s(t):n===3?new Xe(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?er(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?er(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=yh.exec(e))?new Xe(t[1],t[2],t[3],1):(t=bh.exec(e))?new Xe(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=wh.exec(e))?er(t[1],t[2],t[3],t[4]):(t=_h.exec(e))?er(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=xh.exec(e))?ks(t[1],t[2]/100,t[3]/100,1):(t=Eh.exec(e))?ks(t[1],t[2]/100,t[3]/100,t[4]):ys.hasOwnProperty(e)?_s(ys[e]):e==="transparent"?new Xe(NaN,NaN,NaN,0):null}function _s(e){return new Xe(e>>16&255,e>>8&255,e&255,1)}function er(e,t,n,r){return r<=0&&(e=t=n=NaN),new Xe(e,t,n,r)}function Nh(e){return e instanceof Gn||(e=Ln(e)),e?(e=e.rgb(),new Xe(e.r,e.g,e.b,e.opacity)):new Xe}function vo(e,t,n,r){return arguments.length===1?Nh(e):new Xe(e,t,n,r??1)}function Xe(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Wo(Xe,vo,ru(Gn,{brighter(e){return e=e==null?wr:Math.pow(wr,e),new Xe(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Hn:Math.pow(Hn,e),new Xe(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Xe(Wt(this.r),Wt(this.g),Wt(this.b),_r(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:xs,formatHex:xs,formatHex8:Ch,formatRgb:Es,toString:Es}));function xs(){return`#${Yt(this.r)}${Yt(this.g)}${Yt(this.b)}`}function Ch(){return`#${Yt(this.r)}${Yt(this.g)}${Yt(this.b)}${Yt((isNaN(this.opacity)?1:this.opacity)*255)}`}function Es(){const e=_r(this.opacity);return`${e===1?"rgb(":"rgba("}${Wt(this.r)}, ${Wt(this.g)}, ${Wt(this.b)}${e===1?")":`, ${e})`}`}function _r(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Wt(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Yt(e){return e=Wt(e),(e<16?"0":"")+e.toString(16)}function ks(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new it(e,t,n,r)}function iu(e){if(e instanceof it)return new it(e.h,e.s,e.l,e.opacity);if(e instanceof Gn||(e=Ln(e)),!e)return new it;if(e instanceof it)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),s=Math.max(t,n,r),o=NaN,a=s-i,l=(s+i)/2;return a?(t===s?o=(n-r)/a+(n<r)*6:n===s?o=(r-t)/a+2:o=(t-n)/a+4,a/=l<.5?s+i:2-s-i,o*=60):a=l>0&&l<1?0:o,new it(o,a,l,e.opacity)}function Ph(e,t,n,r){return arguments.length===1?iu(e):new it(e,t,n,r??1)}function it(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Wo(it,Ph,ru(Gn,{brighter(e){return e=e==null?wr:Math.pow(wr,e),new it(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Hn:Math.pow(Hn,e),new it(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Xe(ai(e>=240?e-240:e+120,i,r),ai(e,i,r),ai(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new it(Ss(this.h),tr(this.s),tr(this.l),_r(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=_r(this.opacity);return`${e===1?"hsl(":"hsla("}${Ss(this.h)}, ${tr(this.s)*100}%, ${tr(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Ss(e){return e=(e||0)%360,e<0?e+360:e}function tr(e){return Math.max(0,Math.min(1,e||0))}function ai(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const ou=e=>()=>e;function Ih(e,t){return function(n){return e+n*t}}function Oh(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Mh(e){return(e=+e)==1?su:function(t,n){return n-t?Oh(t,n,e):ou(isNaN(t)?n:t)}}function su(e,t){var n=t-e;return n?Ih(e,n):ou(isNaN(e)?t:e)}const Ns=function e(t){var n=Mh(t);function r(i,s){var o=n((i=vo(i)).r,(s=vo(s)).r),a=n(i.g,s.g),l=n(i.b,s.b),c=su(i.opacity,s.opacity);return function(u){return i.r=o(u),i.g=a(u),i.b=l(u),i.opacity=c(u),i+""}}return r.gamma=e,r}(1);function Ot(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var mo=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,li=new RegExp(mo.source,"g");function Ah(e){return function(){return e}}function Th(e){return function(t){return e(t)+""}}function Dh(e,t){var n=mo.lastIndex=li.lastIndex=0,r,i,s,o=-1,a=[],l=[];for(e=e+"",t=t+"";(r=mo.exec(e))&&(i=li.exec(t));)(s=i.index)>n&&(s=t.slice(n,s),a[o]?a[o]+=s:a[++o]=s),(r=r[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,l.push({i:o,x:Ot(r,i)})),n=li.lastIndex;return n<t.length&&(s=t.slice(n),a[o]?a[o]+=s:a[++o]=s),a.length<2?l[0]?Th(l[0].x):Ah(t):(t=l.length,function(c){for(var u=0,d;u<t;++u)a[(d=l[u]).i]=d.x(c);return a.join("")})}var Cs=180/Math.PI,yo={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function au(e,t,n,r,i,s){var o,a,l;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),e*r<t*n&&(e=-e,t=-t,l=-l,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(t,e)*Cs,skewX:Math.atan(l)*Cs,scaleX:o,scaleY:a}}var nr;function zh(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?yo:au(t.a,t.b,t.c,t.d,t.e,t.f)}function Hh(e){return e==null||(nr||(nr=document.createElementNS("http://www.w3.org/2000/svg","g")),nr.setAttribute("transform",e),!(e=nr.transform.baseVal.consolidate()))?yo:(e=e.matrix,au(e.a,e.b,e.c,e.d,e.e,e.f))}function lu(e,t,n,r){function i(c){return c.length?c.pop()+" ":""}function s(c,u,d,f,h,$){if(c!==d||u!==f){var b=h.push("translate(",null,t,null,n);$.push({i:b-4,x:Ot(c,d)},{i:b-2,x:Ot(u,f)})}else(d||f)&&h.push("translate("+d+t+f+n)}function o(c,u,d,f){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),f.push({i:d.push(i(d)+"rotate(",null,r)-2,x:Ot(c,u)})):u&&d.push(i(d)+"rotate("+u+r)}function a(c,u,d,f){c!==u?f.push({i:d.push(i(d)+"skewX(",null,r)-2,x:Ot(c,u)}):u&&d.push(i(d)+"skewX("+u+r)}function l(c,u,d,f,h,$){if(c!==d||u!==f){var b=h.push(i(h)+"scale(",null,",",null,")");$.push({i:b-4,x:Ot(c,d)},{i:b-2,x:Ot(u,f)})}else(d!==1||f!==1)&&h.push(i(h)+"scale("+d+","+f+")")}return function(c,u){var d=[],f=[];return c=e(c),u=e(u),s(c.translateX,c.translateY,u.translateX,u.translateY,d,f),o(c.rotate,u.rotate,d,f),a(c.skewX,u.skewX,d,f),l(c.scaleX,c.scaleY,u.scaleX,u.scaleY,d,f),c=u=null,function(h){for(var $=-1,b=f.length,v;++$<b;)d[(v=f[$]).i]=v.x(h);return d.join("")}}}var Rh=lu(zh,"px, ","px)","deg)"),Lh=lu(Hh,", ",")",")"),Vh=1e-12;function Ps(e){return((e=Math.exp(e))+1/e)/2}function Fh(e){return((e=Math.exp(e))-1/e)/2}function Yh(e){return((e=Math.exp(2*e))-1)/(e+1)}const qh=function e(t,n,r){function i(s,o){var a=s[0],l=s[1],c=s[2],u=o[0],d=o[1],f=o[2],h=u-a,$=d-l,b=h*h+$*$,v,m;if(b<Vh)m=Math.log(f/c)/t,v=function(D){return[a+D*h,l+D*$,c*Math.exp(t*D*m)]};else{var E=Math.sqrt(b),x=(f*f-c*c+r*b)/(2*c*n*E),y=(f*f-c*c-r*b)/(2*f*n*E),C=Math.log(Math.sqrt(x*x+1)-x),N=Math.log(Math.sqrt(y*y+1)-y);m=(N-C)/t,v=function(D){var k=D*m,O=Ps(C),A=c/(n*E)*(O*Yh(t*k+C)-Fh(C));return[a+A*h,l+A*$,c*O/Ps(t*k+C)]}}return v.duration=m*1e3*t/Math.SQRT2,v}return i.rho=function(s){var o=Math.max(.001,+s),a=o*o,l=a*a;return e(o,a,l)},i}(Math.SQRT2,2,4);var dn=0,Cn=0,En=0,uu=1e3,xr,Pn,Er=0,Bt=0,jr=0,Vn=typeof performance=="object"&&performance.now?performance:Date,cu=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Bo(){return Bt||(cu(Wh),Bt=Vn.now()+jr)}function Wh(){Bt=0}function kr(){this._call=this._time=this._next=null}kr.prototype=du.prototype={constructor:kr,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Bo():+n)+(t==null?0:+t),!this._next&&Pn!==this&&(Pn?Pn._next=this:xr=this,Pn=this),this._call=e,this._time=n,bo()},stop:function(){this._call&&(this._call=null,this._time=1/0,bo())}};function du(e,t,n){var r=new kr;return r.restart(e,t,n),r}function Bh(){Bo(),++dn;for(var e=xr,t;e;)(t=Bt-e._time)>=0&&e._call.call(void 0,t),e=e._next;--dn}function Is(){Bt=(Er=Vn.now())+jr,dn=Cn=0;try{Bh()}finally{dn=0,Kh(),Bt=0}}function Xh(){var e=Vn.now(),t=e-Er;t>uu&&(jr-=t,Er=e)}function Kh(){for(var e,t=xr,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:xr=n);Pn=e,bo(r)}function bo(e){if(!dn){Cn&&(Cn=clearTimeout(Cn));var t=e-Bt;t>24?(e<1/0&&(Cn=setTimeout(Is,e-Vn.now()-jr)),En&&(En=clearInterval(En))):(En||(Er=Vn.now(),En=setInterval(Xh,uu)),dn=1,cu(Is))}}function Os(e,t,n){var r=new kr;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var jh=Xr("start","end","cancel","interrupt"),Zh=[],fu=0,Ms=1,wo=2,lr=3,As=4,_o=5,ur=6;function Zr(e,t,n,r,i,s){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;Gh(e,n,{name:t,index:r,group:i,on:jh,tween:Zh,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:fu})}function Xo(e,t){var n=ut(e,t);if(n.state>fu)throw new Error("too late; already scheduled");return n}function vt(e,t){var n=ut(e,t);if(n.state>lr)throw new Error("too late; already running");return n}function ut(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Gh(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=du(s,0,n.time);function s(c){n.state=Ms,n.timer.restart(o,n.delay,n.time),n.delay<=c&&o(c-n.delay)}function o(c){var u,d,f,h;if(n.state!==Ms)return l();for(u in r)if(h=r[u],h.name===n.name){if(h.state===lr)return Os(o);h.state===As?(h.state=ur,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete r[u]):+u<t&&(h.state=ur,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete r[u])}if(Os(function(){n.state===lr&&(n.state=As,n.timer.restart(a,n.delay,n.time),a(c))}),n.state=wo,n.on.call("start",e,e.__data__,n.index,n.group),n.state===wo){for(n.state=lr,i=new Array(f=n.tween.length),u=0,d=-1;u<f;++u)(h=n.tween[u].value.call(e,e.__data__,n.index,n.group))&&(i[++d]=h);i.length=d+1}}function a(c){for(var u=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(l),n.state=_o,1),d=-1,f=i.length;++d<f;)i[d].call(e,u);n.state===_o&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=ur,n.timer.stop(),delete r[t];for(var c in r)return;delete e.__transition}}function cr(e,t){var n=e.__transition,r,i,s=!0,o;if(n){t=t==null?null:t+"";for(o in n){if((r=n[o]).name!==t){s=!1;continue}i=r.state>wo&&r.state<_o,r.state=ur,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[o]}s&&delete e.__transition}}function Uh(e){return this.each(function(){cr(this,e)})}function Qh(e,t){var n,r;return function(){var i=vt(this,e),s=i.tween;if(s!==n){r=n=s;for(var o=0,a=r.length;o<a;++o)if(r[o].name===t){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function Jh(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=vt(this,e),o=s.tween;if(o!==r){i=(r=o).slice();for(var a={name:t,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===t){i[l]=a;break}l===c&&i.push(a)}s.tween=i}}function e0(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=ut(this.node(),n).tween,i=0,s=r.length,o;i<s;++i)if((o=r[i]).name===e)return o.value;return null}return this.each((t==null?Qh:Jh)(n,e,t))}function Ko(e,t,n){var r=e._id;return e.each(function(){var i=vt(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return ut(i,r).value[t]}}function hu(e,t){var n;return(typeof t=="number"?Ot:t instanceof Ln?Ns:(n=Ln(t))?(t=n,Ns):Dh)(e,t)}function t0(e){return function(){this.removeAttribute(e)}}function n0(e){return function(){this.removeAttributeNS(e.space,e.local)}}function r0(e,t,n){var r,i=n+"",s;return function(){var o=this.getAttribute(e);return o===i?null:o===r?s:s=t(r=o,n)}}function i0(e,t,n){var r,i=n+"",s;return function(){var o=this.getAttributeNS(e.space,e.local);return o===i?null:o===r?s:s=t(r=o,n)}}function o0(e,t,n){var r,i,s;return function(){var o,a=n(this),l;return a==null?void this.removeAttribute(e):(o=this.getAttribute(e),l=a+"",o===l?null:o===r&&l===i?s:(i=l,s=t(r=o,a)))}}function s0(e,t,n){var r,i,s;return function(){var o,a=n(this),l;return a==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),l=a+"",o===l?null:o===r&&l===i?s:(i=l,s=t(r=o,a)))}}function a0(e,t){var n=Kr(e),r=n==="transform"?Lh:hu;return this.attrTween(e,typeof t=="function"?(n.local?s0:o0)(n,r,Ko(this,"attr."+e,t)):t==null?(n.local?n0:t0)(n):(n.local?i0:r0)(n,r,t))}function l0(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function u0(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function c0(e,t){var n,r;function i(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&u0(e,s)),n}return i._value=t,i}function d0(e,t){var n,r;function i(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&l0(e,s)),n}return i._value=t,i}function f0(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Kr(e);return this.tween(n,(r.local?c0:d0)(r,t))}function h0(e,t){return function(){Xo(this,e).delay=+t.apply(this,arguments)}}function g0(e,t){return t=+t,function(){Xo(this,e).delay=t}}function $0(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?h0:g0)(t,e)):ut(this.node(),t).delay}function p0(e,t){return function(){vt(this,e).duration=+t.apply(this,arguments)}}function v0(e,t){return t=+t,function(){vt(this,e).duration=t}}function m0(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?p0:v0)(t,e)):ut(this.node(),t).duration}function y0(e,t){if(typeof t!="function")throw new Error;return function(){vt(this,e).ease=t}}function b0(e){var t=this._id;return arguments.length?this.each(y0(t,e)):ut(this.node(),t).ease}function w0(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;vt(this,e).ease=n}}function _0(e){if(typeof e!="function")throw new Error;return this.each(w0(this._id,e))}function x0(e){typeof e!="function"&&(e=Bl(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],o=s.length,a=r[i]=[],l,c=0;c<o;++c)(l=s[c])&&e.call(l,l.__data__,c,s)&&a.push(l);return new St(r,this._parents,this._name,this._id)}function E0(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,s=Math.min(r,i),o=new Array(r),a=0;a<s;++a)for(var l=t[a],c=n[a],u=l.length,d=o[a]=new Array(u),f,h=0;h<u;++h)(f=l[h]||c[h])&&(d[h]=f);for(;a<r;++a)o[a]=t[a];return new St(o,this._parents,this._name,this._id)}function k0(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function S0(e,t,n){var r,i,s=k0(t)?Xo:vt;return function(){var o=s(this,e),a=o.on;a!==r&&(i=(r=a).copy()).on(t,n),o.on=i}}function N0(e,t){var n=this._id;return arguments.length<2?ut(this.node(),n).on.on(e):this.each(S0(n,e,t))}function C0(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function P0(){return this.on("end.remove",C0(this._id))}function I0(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Yo(e));for(var r=this._groups,i=r.length,s=new Array(i),o=0;o<i;++o)for(var a=r[o],l=a.length,c=s[o]=new Array(l),u,d,f=0;f<l;++f)(u=a[f])&&(d=e.call(u,u.__data__,f,a))&&("__data__"in u&&(d.__data__=u.__data__),c[f]=d,Zr(c[f],t,n,f,c,ut(u,n)));return new St(s,this._parents,t,n)}function O0(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Wl(e));for(var r=this._groups,i=r.length,s=[],o=[],a=0;a<i;++a)for(var l=r[a],c=l.length,u,d=0;d<c;++d)if(u=l[d]){for(var f=e.call(u,u.__data__,d,l),h,$=ut(u,n),b=0,v=f.length;b<v;++b)(h=f[b])&&Zr(h,t,n,b,f,$);s.push(f),o.push(u)}return new St(s,o,t,n)}var M0=Zn.prototype.constructor;function A0(){return new M0(this._groups,this._parents)}function T0(e,t){var n,r,i;return function(){var s=cn(this,e),o=(this.style.removeProperty(e),cn(this,e));return s===o?null:s===n&&o===r?i:i=t(n=s,r=o)}}function gu(e){return function(){this.style.removeProperty(e)}}function D0(e,t,n){var r,i=n+"",s;return function(){var o=cn(this,e);return o===i?null:o===r?s:s=t(r=o,n)}}function z0(e,t,n){var r,i,s;return function(){var o=cn(this,e),a=n(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(e),cn(this,e))),o===l?null:o===r&&l===i?s:(i=l,s=t(r=o,a))}}function H0(e,t){var n,r,i,s="style."+t,o="end."+s,a;return function(){var l=vt(this,e),c=l.on,u=l.value[s]==null?a||(a=gu(t)):void 0;(c!==n||i!==u)&&(r=(n=c).copy()).on(o,i=u),l.on=r}}function R0(e,t,n){var r=(e+="")=="transform"?Rh:hu;return t==null?this.styleTween(e,T0(e,r)).on("end.style."+e,gu(e)):typeof t=="function"?this.styleTween(e,z0(e,r,Ko(this,"style."+e,t))).each(H0(this._id,e)):this.styleTween(e,D0(e,r,t),n).on("end.style."+e,null)}function L0(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function V0(e,t,n){var r,i;function s(){var o=t.apply(this,arguments);return o!==i&&(r=(i=o)&&L0(e,o,n)),r}return s._value=t,s}function F0(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,V0(e,t,n??""))}function Y0(e){return function(){this.textContent=e}}function q0(e){return function(){var t=e(this);this.textContent=t??""}}function W0(e){return this.tween("text",typeof e=="function"?q0(Ko(this,"text",e)):Y0(e==null?"":e+""))}function B0(e){return function(t){this.textContent=e.call(this,t)}}function X0(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&B0(i)),t}return r._value=e,r}function K0(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,X0(e))}function j0(){for(var e=this._name,t=this._id,n=$u(),r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,l,c=0;c<a;++c)if(l=o[c]){var u=ut(l,t);Zr(l,e,n,c,o,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new St(r,this._parents,e,n)}function Z0(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(s,o){var a={value:o},l={value:function(){--i===0&&s()}};n.each(function(){var c=vt(this,r),u=c.on;u!==e&&(t=(e=u).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),c.on=t}),i===0&&s()})}var G0=0;function St(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function $u(){return++G0}var mt=Zn.prototype;St.prototype={constructor:St,select:I0,selectAll:O0,selectChild:mt.selectChild,selectChildren:mt.selectChildren,filter:x0,merge:E0,selection:A0,transition:j0,call:mt.call,nodes:mt.nodes,node:mt.node,size:mt.size,empty:mt.empty,each:mt.each,on:N0,attr:a0,attrTween:f0,style:R0,styleTween:F0,text:W0,textTween:K0,remove:P0,tween:e0,delay:$0,duration:m0,ease:b0,easeVarying:_0,end:Z0,[Symbol.iterator]:mt[Symbol.iterator]};function U0(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Q0={time:null,delay:0,duration:250,ease:U0};function J0(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function e2(e){var t,n;e instanceof St?(t=e._id,e=e._name):(t=$u(),(n=Q0).time=Bo(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,l,c=0;c<a;++c)(l=o[c])&&Zr(l,e,t,c,o,n||J0(l,t));return new St(r,this._parents,e,t)}Zn.prototype.interrupt=Uh;Zn.prototype.transition=e2;const rr=e=>()=>e;function t2(e,{sourceEvent:t,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function wt(e,t,n){this.k=e,this.x=t,this.y=n}wt.prototype={constructor:wt,scale:function(e){return e===1?this:new wt(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new wt(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Gr=new wt(1,0,0);pu.prototype=wt.prototype;function pu(e){for(;!e.__zoom;)if(!(e=e.parentNode))return Gr;return e.__zoom}function ui(e){e.stopImmediatePropagation()}function kn(e){e.preventDefault(),e.stopImmediatePropagation()}function n2(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function r2(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Ts(){return this.__zoom||Gr}function i2(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function o2(){return navigator.maxTouchPoints||"ontouchstart"in this}function s2(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],s=e.invertY(t[0][1])-n[0][1],o=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>s?(s+o)/2:Math.min(0,s)||Math.max(0,o))}function a2(){var e=n2,t=r2,n=s2,r=i2,i=o2,s=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],a=250,l=qh,c=Xr("start","zoom","end"),u,d,f,h=500,$=150,b=0,v=10;function m(p){p.property("__zoom",Ts).on("wheel.zoom",k,{passive:!1}).on("mousedown.zoom",O).on("dblclick.zoom",A).filter(i).on("touchstart.zoom",w).on("touchmove.zoom",_).on("touchend.zoom touchcancel.zoom",T).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}m.transform=function(p,P,S,L){var Y=p.selection?p.selection():p;Y.property("__zoom",Ts),p!==Y?C(p,P,S,L):Y.interrupt().each(function(){N(this,arguments).event(L).start().zoom(null,typeof P=="function"?P.apply(this,arguments):P).end()})},m.scaleBy=function(p,P,S,L){m.scaleTo(p,function(){var Y=this.__zoom.k,X=typeof P=="function"?P.apply(this,arguments):P;return Y*X},S,L)},m.scaleTo=function(p,P,S,L){m.transform(p,function(){var Y=t.apply(this,arguments),X=this.__zoom,K=S==null?y(Y):typeof S=="function"?S.apply(this,arguments):S,Z=X.invert(K),Q=typeof P=="function"?P.apply(this,arguments):P;return n(x(E(X,Q),K,Z),Y,o)},S,L)},m.translateBy=function(p,P,S,L){m.transform(p,function(){return n(this.__zoom.translate(typeof P=="function"?P.apply(this,arguments):P,typeof S=="function"?S.apply(this,arguments):S),t.apply(this,arguments),o)},null,L)},m.translateTo=function(p,P,S,L,Y){m.transform(p,function(){var X=t.apply(this,arguments),K=this.__zoom,Z=L==null?y(X):typeof L=="function"?L.apply(this,arguments):L;return n(Gr.translate(Z[0],Z[1]).scale(K.k).translate(typeof P=="function"?-P.apply(this,arguments):-P,typeof S=="function"?-S.apply(this,arguments):-S),X,o)},L,Y)};function E(p,P){return P=Math.max(s[0],Math.min(s[1],P)),P===p.k?p:new wt(P,p.x,p.y)}function x(p,P,S){var L=P[0]-S[0]*p.k,Y=P[1]-S[1]*p.k;return L===p.x&&Y===p.y?p:new wt(p.k,L,Y)}function y(p){return[(+p[0][0]+ +p[1][0])/2,(+p[0][1]+ +p[1][1])/2]}function C(p,P,S,L){p.on("start.zoom",function(){N(this,arguments).event(L).start()}).on("interrupt.zoom end.zoom",function(){N(this,arguments).event(L).end()}).tween("zoom",function(){var Y=this,X=arguments,K=N(Y,X).event(L),Z=t.apply(Y,X),Q=S==null?y(Z):typeof S=="function"?S.apply(Y,X):S,z=Math.max(Z[1][0]-Z[0][0],Z[1][1]-Z[0][1]),H=Y.__zoom,I=typeof P=="function"?P.apply(Y,X):P,R=l(H.invert(Q).concat(z/H.k),I.invert(Q).concat(z/I.k));return function(V){if(V===1)V=I;else{var F=R(V),G=z/F[2];V=new wt(G,Q[0]-F[0]*G,Q[1]-F[1]*G)}K.zoom(null,V)}})}function N(p,P,S){return!S&&p.__zooming||new D(p,P)}function D(p,P){this.that=p,this.args=P,this.active=0,this.sourceEvent=null,this.extent=t.apply(p,P),this.taps=0}D.prototype={event:function(p){return p&&(this.sourceEvent=p),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(p,P){return this.mouse&&p!=="mouse"&&(this.mouse[1]=P.invert(this.mouse[0])),this.touch0&&p!=="touch"&&(this.touch0[1]=P.invert(this.touch0[0])),this.touch1&&p!=="touch"&&(this.touch1[1]=P.invert(this.touch1[0])),this.that.__zoom=P,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(p){var P=rt(this.that).datum();c.call(p,this.that,new t2(p,{sourceEvent:this.sourceEvent,target:m,transform:this.that.__zoom,dispatch:c}),P)}};function k(p,...P){if(!e.apply(this,arguments))return;var S=N(this,P).event(p),L=this.__zoom,Y=Math.max(s[0],Math.min(s[1],L.k*Math.pow(2,r.apply(this,arguments)))),X=dt(p);if(S.wheel)(S.mouse[0][0]!==X[0]||S.mouse[0][1]!==X[1])&&(S.mouse[1]=L.invert(S.mouse[0]=X)),clearTimeout(S.wheel);else{if(L.k===Y)return;S.mouse=[X,L.invert(X)],cr(this),S.start()}kn(p),S.wheel=setTimeout(K,$),S.zoom("mouse",n(x(E(L,Y),S.mouse[0],S.mouse[1]),S.extent,o));function K(){S.wheel=null,S.end()}}function O(p,...P){if(f||!e.apply(this,arguments))return;var S=p.currentTarget,L=N(this,P,!0).event(p),Y=rt(p.view).on("mousemove.zoom",Q,!0).on("mouseup.zoom",z,!0),X=dt(p,S),K=p.clientX,Z=p.clientY;tu(p.view),ui(p),L.mouse=[X,this.__zoom.invert(X)],cr(this),L.start();function Q(H){if(kn(H),!L.moved){var I=H.clientX-K,R=H.clientY-Z;L.moved=I*I+R*R>b}L.event(H).zoom("mouse",n(x(L.that.__zoom,L.mouse[0]=dt(H,S),L.mouse[1]),L.extent,o))}function z(H){Y.on("mousemove.zoom mouseup.zoom",null),nu(H.view,L.moved),kn(H),L.event(H).end()}}function A(p,...P){if(e.apply(this,arguments)){var S=this.__zoom,L=dt(p.changedTouches?p.changedTouches[0]:p,this),Y=S.invert(L),X=S.k*(p.shiftKey?.5:2),K=n(x(E(S,X),L,Y),t.apply(this,P),o);kn(p),a>0?rt(this).transition().duration(a).call(C,K,L,p):rt(this).call(m.transform,K,L,p)}}function w(p,...P){if(e.apply(this,arguments)){var S=p.touches,L=S.length,Y=N(this,P,p.changedTouches.length===L).event(p),X,K,Z,Q;for(ui(p),K=0;K<L;++K)Z=S[K],Q=dt(Z,this),Q=[Q,this.__zoom.invert(Q),Z.identifier],Y.touch0?!Y.touch1&&Y.touch0[2]!==Q[2]&&(Y.touch1=Q,Y.taps=0):(Y.touch0=Q,X=!0,Y.taps=1+!!u);u&&(u=clearTimeout(u)),X&&(Y.taps<2&&(d=Q[0],u=setTimeout(function(){u=null},h)),cr(this),Y.start())}}function _(p,...P){if(this.__zooming){var S=N(this,P).event(p),L=p.changedTouches,Y=L.length,X,K,Z,Q;for(kn(p),X=0;X<Y;++X)K=L[X],Z=dt(K,this),S.touch0&&S.touch0[2]===K.identifier?S.touch0[0]=Z:S.touch1&&S.touch1[2]===K.identifier&&(S.touch1[0]=Z);if(K=S.that.__zoom,S.touch1){var z=S.touch0[0],H=S.touch0[1],I=S.touch1[0],R=S.touch1[1],V=(V=I[0]-z[0])*V+(V=I[1]-z[1])*V,F=(F=R[0]-H[0])*F+(F=R[1]-H[1])*F;K=E(K,Math.sqrt(V/F)),Z=[(z[0]+I[0])/2,(z[1]+I[1])/2],Q=[(H[0]+R[0])/2,(H[1]+R[1])/2]}else if(S.touch0)Z=S.touch0[0],Q=S.touch0[1];else return;S.zoom("touch",n(x(K,Z,Q),S.extent,o))}}function T(p,...P){if(this.__zooming){var S=N(this,P).event(p),L=p.changedTouches,Y=L.length,X,K;for(ui(p),f&&clearTimeout(f),f=setTimeout(function(){f=null},h),X=0;X<Y;++X)K=L[X],S.touch0&&S.touch0[2]===K.identifier?delete S.touch0:S.touch1&&S.touch1[2]===K.identifier&&delete S.touch1;if(S.touch1&&!S.touch0&&(S.touch0=S.touch1,delete S.touch1),S.touch0)S.touch0[1]=this.__zoom.invert(S.touch0[0]);else if(S.end(),S.taps===2&&(K=dt(K,this),Math.hypot(d[0]-K[0],d[1]-K[1])<v)){var Z=rt(this).on("dblclick.zoom");Z&&Z.apply(this,arguments)}}}return m.wheelDelta=function(p){return arguments.length?(r=typeof p=="function"?p:rr(+p),m):r},m.filter=function(p){return arguments.length?(e=typeof p=="function"?p:rr(!!p),m):e},m.touchable=function(p){return arguments.length?(i=typeof p=="function"?p:rr(!!p),m):i},m.extent=function(p){return arguments.length?(t=typeof p=="function"?p:rr([[+p[0][0],+p[0][1]],[+p[1][0],+p[1][1]]]),m):t},m.scaleExtent=function(p){return arguments.length?(s[0]=+p[0],s[1]=+p[1],m):[s[0],s[1]]},m.translateExtent=function(p){return arguments.length?(o[0][0]=+p[0][0],o[1][0]=+p[1][0],o[0][1]=+p[0][1],o[1][1]=+p[1][1],m):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},m.constrain=function(p){return arguments.length?(n=p,m):n},m.duration=function(p){return arguments.length?(a=+p,m):a},m.interpolate=function(p){return arguments.length?(l=p,m):l},m.on=function(){var p=c.on.apply(c,arguments);return p===c?m:p},m.clickDistance=function(p){return arguments.length?(b=(p=+p)*p,m):Math.sqrt(b)},m.tapDistance=function(p){return arguments.length?(v=+p,m):v},m}const Fn={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${e} handle id: "${e==="source"?n:r}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},xo=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],vu=["Enter"," ","Escape"];var fn;(function(e){e.Strict="strict",e.Loose="loose"})(fn||(fn={}));var zt;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(zt||(zt={}));var Sr;(function(e){e.Partial="partial",e.Full="full"})(Sr||(Sr={}));const Eo={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};var bt;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(bt||(bt={}));var Nr;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Nr||(Nr={}));var be;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(be||(be={}));const Ds={[be.Left]:be.Right,[be.Right]:be.Left,[be.Top]:be.Bottom,[be.Bottom]:be.Top};function l2(e,t){if(!e&&!t)return!0;if(!e||!t||e.size!==t.size)return!1;if(!e.size&&!t.size)return!0;for(const n of e.keys())if(!t.has(n))return!1;return!0}function zs(e,t,n){if(!n)return;const r=[];e.forEach((i,s)=>{t?.has(s)||r.push(i)}),r.length&&n(r)}function u2(e){return e===null?null:e?"valid":"invalid"}const mu=e=>"id"in e&&"source"in e&&"target"in e,c2=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),jo=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),Un=(e,t=[0,0])=>{const{width:n,height:r}=Gt(e),i=e.origin??t,s=n*i[0],o=r*i[1];return{x:e.position.x-s,y:e.position.y-o}},d2=(e,t={nodeOrigin:[0,0]})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,i)=>{const s=typeof i=="string";let o=!t.nodeLookup&&!s?i:void 0;t.nodeLookup&&(o=s?t.nodeLookup.get(i):jo(i)?i:t.nodeLookup.get(i.id));const a=o?Cr(o,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return Qr(r,a)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Jr(n)},Ur=(e,t={})=>{if(e.size===0)return{x:0,y:0,width:0,height:0};let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0};return e.forEach(r=>{if(t.filter===void 0||t.filter(r)){const i=Cr(r);n=Qr(n,i)}}),Jr(n)},yu=(e,t,[n,r,i]=[0,0,1],s=!1,o=!1)=>{const a={...Qn(t,[n,r,i]),width:t.width/i,height:t.height/i},l=[];for(const c of e.values()){const{measured:u,selectable:d=!0,hidden:f=!1}=c;if(o&&!d||f)continue;const h=u.width??c.width??c.initialWidth??null,$=u.height??c.height??c.initialHeight??null,b=Yn(a,gn(c)),v=(h??0)*($??0),m=s&&b>0;(!c.internals.handleBounds||m||b>=v||c.dragging)&&l.push(c)}return l},f2=(e,t)=>{const n=new Set;return e.forEach(r=>{n.add(r.id)}),t.filter(r=>n.has(r.source)||n.has(r.target))};function h2(e,t){const n=new Map,r=t?.nodes?new Set(t.nodes.map(i=>i.id)):null;return e.forEach(i=>{i.measured.width&&i.measured.height&&(t?.includeHiddenNodes||!i.hidden)&&(!r||r.has(i.id))&&n.set(i.id,i)}),n}async function g2({nodes:e,width:t,height:n,panZoom:r,minZoom:i,maxZoom:s},o){if(e.size===0)return Promise.resolve(!0);const a=h2(e,o),l=Ur(a),c=Zo(l,t,n,o?.minZoom??i,o?.maxZoom??s,o?.padding??.1);return await r.setViewport(c,{duration:o?.duration}),Promise.resolve(!0)}function bu({nodeId:e,nextPosition:t,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:i,onError:s}){const o=n.get(e),a=o.parentId?n.get(o.parentId):void 0,{x:l,y:c}=a?a.internals.positionAbsolute:{x:0,y:0},u=o.origin??r;let d=i;if(o.extent==="parent"&&!o.expandParent)if(!a)s?.("005",Fn.error005());else{const h=a.measured.width,$=a.measured.height;h&&$&&(d=[[l,c],[l+h,c+$]])}else a&&$n(o.extent)&&(d=[[o.extent[0][0]+l,o.extent[0][1]+c],[o.extent[1][0]+l,o.extent[1][1]+c]]);const f=$n(d)?Xt(t,d,o.measured):t;return(o.measured.width===void 0||o.measured.height===void 0)&&s?.("015",Fn.error015()),{position:{x:f.x-l+(o.measured.width??0)*u[0],y:f.y-c+(o.measured.height??0)*u[1]},positionAbsolute:f}}async function $2({nodesToRemove:e=[],edgesToRemove:t=[],nodes:n,edges:r,onBeforeDelete:i}){const s=new Set(e.map(f=>f.id)),o=[];for(const f of n){if(f.deletable===!1)continue;const h=s.has(f.id),$=!h&&f.parentId&&o.find(b=>b.id===f.parentId);(h||$)&&o.push(f)}const a=new Set(t.map(f=>f.id)),l=r.filter(f=>f.deletable!==!1),u=f2(o,l);for(const f of l)a.has(f.id)&&!u.find($=>$.id===f.id)&&u.push(f);if(!i)return{edges:u,nodes:o};const d=await i({nodes:o,edges:u});return typeof d=="boolean"?d?{edges:u,nodes:o}:{edges:[],nodes:[]}:d}const hn=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),Xt=(e={x:0,y:0},t,n)=>({x:hn(e.x,t[0][0],t[1][0]-(n?.width??0)),y:hn(e.y,t[0][1],t[1][1]-(n?.height??0))});function wu(e,t,n){const{width:r,height:i}=Gt(n),{x:s,y:o}=n.internals.positionAbsolute;return Xt(e,[[s,o],[s+r,o+i]],t)}const Hs=(e,t,n)=>e<t?hn(Math.abs(e-t),1,t)/t:e>n?-hn(Math.abs(e-n),1,t)/t:0,_u=(e,t,n=15,r=40)=>{const i=Hs(e.x,r,t.width-r)*n,s=Hs(e.y,r,t.height-r)*n;return[i,s]},Qr=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),ko=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),Jr=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),gn=(e,t=[0,0])=>{const{x:n,y:r}=jo(e)?e.internals.positionAbsolute:Un(e,t);return{x:n,y:r,width:e.measured?.width??e.width??e.initialWidth??0,height:e.measured?.height??e.height??e.initialHeight??0}},Cr=(e,t=[0,0])=>{const{x:n,y:r}=jo(e)?e.internals.positionAbsolute:Un(e,t);return{x:n,y:r,x2:n+(e.measured?.width??e.width??e.initialWidth??0),y2:r+(e.measured?.height??e.height??e.initialHeight??0)}},p2=(e,t)=>Jr(Qr(ko(e),ko(t))),Yn=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},Rs=e=>_t(e.width)&&_t(e.height)&&_t(e.x)&&_t(e.y),_t=e=>!isNaN(e)&&isFinite(e),v2=(e,t)=>{},ei=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),Qn=({x:e,y:t},[n,r,i],s=!1,o=[1,1])=>{const a={x:(e-n)/i,y:(t-r)/i};return s?ei(a,o):a},Pr=({x:e,y:t},[n,r,i])=>({x:e*i+n,y:t*i+r});function en(e,t){if(typeof e=="number")return Math.floor((t-t/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(n)}if(typeof e=="string"&&e.endsWith("%")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(t*n*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function m2(e,t,n){if(typeof e=="string"||typeof e=="number"){const r=en(e,n),i=en(e,t);return{top:r,right:i,bottom:r,left:i,x:i*2,y:r*2}}if(typeof e=="object"){const r=en(e.top??e.y??0,n),i=en(e.bottom??e.y??0,n),s=en(e.left??e.x??0,t),o=en(e.right??e.x??0,t);return{top:r,right:o,bottom:i,left:s,x:s+o,y:r+i}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function y2(e,t,n,r,i,s){const{x:o,y:a}=Pr(e,[t,n,r]),{x:l,y:c}=Pr({x:e.x+e.width,y:e.y+e.height},[t,n,r]),u=i-l,d=s-c;return{left:Math.floor(o),top:Math.floor(a),right:Math.floor(u),bottom:Math.floor(d)}}const Zo=(e,t,n,r,i,s)=>{const o=m2(s,t,n),a=(t-o.x)/e.width,l=(n-o.y)/e.height,c=Math.min(a,l),u=hn(c,r,i),d=e.x+e.width/2,f=e.y+e.height/2,h=t/2-d*u,$=n/2-f*u,b=y2(e,h,$,u,t,n),v={left:Math.min(b.left-o.left,0),top:Math.min(b.top-o.top,0),right:Math.min(b.right-o.right,0),bottom:Math.min(b.bottom-o.bottom,0)};return{x:h-v.left+v.right,y:$-v.top+v.bottom,zoom:u}},Ir=()=>typeof navigator<"u"&&navigator?.userAgent?.indexOf("Mac")>=0;function $n(e){return e!==void 0&&e!=="parent"}function Gt(e){return{width:e.measured?.width??e.width??e.initialWidth??0,height:e.measured?.height??e.height??e.initialHeight??0}}function b2(e){return(e.measured?.width??e.width??e.initialWidth)!==void 0&&(e.measured?.height??e.height??e.initialHeight)!==void 0}function w2(e,t={width:0,height:0},n,r,i){const s={...e},o=r.get(n);if(o){const a=o.origin||i;s.x+=o.internals.positionAbsolute.x-(t.width??0)*a[0],s.y+=o.internals.positionAbsolute.y-(t.height??0)*a[1]}return s}function ci(e,{snapGrid:t=[0,0],snapToGrid:n=!1,transform:r,containerBounds:i}){const{x:s,y:o}=kt(e),a=Qn({x:s-(i?.left??0),y:o-(i?.top??0)},r),{x:l,y:c}=n?ei(a,t):a;return{xSnapped:l,ySnapped:c,...a}}const xu=e=>({width:e.offsetWidth,height:e.offsetHeight}),Eu=e=>e?.getRootNode?.()||window?.document,_2=["INPUT","SELECT","TEXTAREA"];function ku(e){const t=e.composedPath?.()?.[0]||e.target;return t?.nodeType!==1?!1:_2.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey")}const Su=e=>"clientX"in e,kt=(e,t)=>{const n=Su(e),r=n?e.clientX:e.touches?.[0].clientX,i=n?e.clientY:e.touches?.[0].clientY;return{x:r-(t?.left??0),y:i-(t?.top??0)}},Ls=(e,t,n,r,i)=>{const s=t.querySelectorAll(`.${e}`);return!s||!s.length?null:Array.from(s).map(o=>{const a=o.getBoundingClientRect();return{id:o.getAttribute("data-handleid"),type:e,nodeId:i,position:o.getAttribute("data-handlepos"),x:(a.left-n.left)/r,y:(a.top-n.top)/r,...xu(o)}})};function x2({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:i,sourceControlY:s,targetControlX:o,targetControlY:a}){const l=e*.125+i*.375+o*.375+n*.125,c=t*.125+s*.375+a*.375+r*.125,u=Math.abs(l-e),d=Math.abs(c-t);return[l,c,u,d]}function ir(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function Vs({pos:e,x1:t,y1:n,x2:r,y2:i,c:s}){switch(e){case be.Left:return[t-ir(t-r,s),n];case be.Right:return[t+ir(r-t,s),n];case be.Top:return[t,n-ir(n-i,s)];case be.Bottom:return[t,n+ir(i-n,s)]}}function Nu({sourceX:e,sourceY:t,sourcePosition:n=be.Bottom,targetX:r,targetY:i,targetPosition:s=be.Top,curvature:o=.25}){const[a,l]=Vs({pos:n,x1:e,y1:t,x2:r,y2:i,c:o}),[c,u]=Vs({pos:s,x1:r,y1:i,x2:e,y2:t,c:o}),[d,f,h,$]=x2({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:a,sourceControlY:l,targetControlX:c,targetControlY:u});return[`M${e},${t} C${a},${l} ${c},${u} ${r},${i}`,d,f,h,$]}function Cu({sourceX:e,sourceY:t,targetX:n,targetY:r}){const i=Math.abs(n-e)/2,s=n<e?n+i:n-i,o=Math.abs(r-t)/2,a=r<t?r+o:r-o;return[s,a,i,o]}function E2({sourceNode:e,targetNode:t,selected:n=!1,zIndex:r=0,elevateOnSelect:i=!1}){if(!i)return r;const s=n||t.selected||e.selected,o=Math.max(e.internals.z||0,t.internals.z||0,1e3);return r+(s?o:0)}function k2({sourceNode:e,targetNode:t,width:n,height:r,transform:i}){const s=Qr(Cr(e),Cr(t));s.x===s.x2&&(s.x2+=1),s.y===s.y2&&(s.y2+=1);const o={x:-i[0]/i[2],y:-i[1]/i[2],width:n/i[2],height:r/i[2]};return Yn(o,Jr(s))>0}const S2=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`xy-edge__${e}${t||""}-${n}${r||""}`,N2=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),C2=(e,t)=>{if(!e.source||!e.target)return t;let n;return mu(e)?n={...e}:n={...e,id:S2(e)},N2(n,t)?t:(n.sourceHandle===null&&delete n.sourceHandle,n.targetHandle===null&&delete n.targetHandle,t.concat(n))};function Pu({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[i,s,o,a]=Cu({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,i,s,o,a]}const Fs={[be.Left]:{x:-1,y:0},[be.Right]:{x:1,y:0},[be.Top]:{x:0,y:-1},[be.Bottom]:{x:0,y:1}},P2=({source:e,sourcePosition:t=be.Bottom,target:n})=>t===be.Left||t===be.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},Ys=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function I2({source:e,sourcePosition:t=be.Bottom,target:n,targetPosition:r=be.Top,center:i,offset:s}){const o=Fs[t],a=Fs[r],l={x:e.x+o.x*s,y:e.y+o.y*s},c={x:n.x+a.x*s,y:n.y+a.y*s},u=P2({source:l,sourcePosition:t,target:c}),d=u.x!==0?"x":"y",f=u[d];let h=[],$,b;const v={x:0,y:0},m={x:0,y:0},[E,x,y,C]=Cu({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(o[d]*a[d]===-1){$=i.x??E,b=i.y??x;const D=[{x:$,y:l.y},{x:$,y:c.y}],k=[{x:l.x,y:b},{x:c.x,y:b}];o[d]===f?h=d==="x"?D:k:h=d==="x"?k:D}else{const D=[{x:l.x,y:c.y}],k=[{x:c.x,y:l.y}];if(d==="x"?h=o.x===f?k:D:h=o.y===f?D:k,t===r){const T=Math.abs(e[d]-n[d]);if(T<=s){const p=Math.min(s-1,s-T);o[d]===f?v[d]=(l[d]>e[d]?-1:1)*p:m[d]=(c[d]>n[d]?-1:1)*p}}if(t!==r){const T=d==="x"?"y":"x",p=o[d]===a[T],P=l[T]>c[T],S=l[T]<c[T];(o[d]===1&&(!p&&P||p&&S)||o[d]!==1&&(!p&&S||p&&P))&&(h=d==="x"?D:k)}const O={x:l.x+v.x,y:l.y+v.y},A={x:c.x+m.x,y:c.y+m.y},w=Math.max(Math.abs(O.x-h[0].x),Math.abs(A.x-h[0].x)),_=Math.max(Math.abs(O.y-h[0].y),Math.abs(A.y-h[0].y));w>=_?($=(O.x+A.x)/2,b=h[0].y):($=h[0].x,b=(O.y+A.y)/2)}return[[e,{x:l.x+v.x,y:l.y+v.y},...h,{x:c.x+m.x,y:c.y+m.y},n],$,b,y,C]}function O2(e,t,n,r){const i=Math.min(Ys(e,t)/2,Ys(t,n)/2,r),{x:s,y:o}=t;if(e.x===s&&s===n.x||e.y===o&&o===n.y)return`L${s} ${o}`;if(e.y===o){const c=e.x<n.x?-1:1,u=e.y<n.y?1:-1;return`L ${s+i*c},${o}Q ${s},${o} ${s},${o+i*u}`}const a=e.x<n.x?1:-1,l=e.y<n.y?-1:1;return`L ${s},${o+i*l}Q ${s},${o} ${s+i*a},${o}`}function Go({sourceX:e,sourceY:t,sourcePosition:n=be.Bottom,targetX:r,targetY:i,targetPosition:s=be.Top,borderRadius:o=5,centerX:a,centerY:l,offset:c=20}){const[u,d,f,h,$]=I2({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:i},targetPosition:s,center:{x:a,y:l},offset:c});return[u.reduce((v,m,E)=>{let x="";return E>0&&E<u.length-1?x=O2(u[E-1],m,u[E+1],o):x=`${E===0?"M":"L"}${m.x} ${m.y}`,v+=x,v},""),d,f,h,$]}function qs(e){return e&&!!(e.internals.handleBounds||e.handles?.length)&&!!(e.measured.width||e.width||e.initialWidth)}function M2(e){const{sourceNode:t,targetNode:n}=e;if(!qs(t)||!qs(n))return null;const r=t.internals.handleBounds||Ws(t.handles),i=n.internals.handleBounds||Ws(n.handles),s=Bs(r?.source??[],e.sourceHandle),o=Bs(e.connectionMode===fn.Strict?i?.target??[]:(i?.target??[]).concat(i?.source??[]),e.targetHandle);if(!s||!o)return e.onError?.("008",Fn.error008(s?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const a=s?.position||be.Bottom,l=o?.position||be.Top,c=qn(t,s,a),u=qn(n,o,l);return{sourceX:c.x,sourceY:c.y,targetX:u.x,targetY:u.y,sourcePosition:a,targetPosition:l}}function Ws(e){if(!e)return null;const t=[],n=[];for(const r of e)r.width=r.width??1,r.height=r.height??1,r.type==="source"?t.push(r):r.type==="target"&&n.push(r);return{source:t,target:n}}function qn(e,t,n=be.Left,r=!1){const i=(t?.x??0)+e.internals.positionAbsolute.x,s=(t?.y??0)+e.internals.positionAbsolute.y,{width:o,height:a}=t??Gt(e);if(r)return{x:i+o/2,y:s+a/2};switch(t?.position??n){case be.Top:return{x:i+o/2,y:s};case be.Right:return{x:i+o,y:s+a/2};case be.Bottom:return{x:i+o/2,y:s+a};case be.Left:return{x:i,y:s+a/2}}}function Bs(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function So(e,t){return e?typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`:""}function A2(e,{id:t,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:i}){const s=new Set;return e.reduce((o,a)=>([a.markerStart||r,a.markerEnd||i].forEach(l=>{if(l&&typeof l=="object"){const c=So(l,t);s.has(c)||(o.push({id:c,color:l.color||n,...l}),s.add(c))}}),o),[]).sort((o,a)=>o.id.localeCompare(a.id))}const Uo={nodeOrigin:[0,0],nodeExtent:xo,elevateNodesOnSelect:!0,defaults:{}},T2={...Uo,checkEquality:!0};function Qo(e,t){const n={...e};for(const r in t)t[r]!==void 0&&(n[r]=t[r]);return n}function D2(e,t,n){const r=Qo(Uo,n);for(const i of e.values())if(i.parentId)Jo(i,e,t,r);else{const s=Un(i,r.nodeOrigin),o=$n(i.extent)?i.extent:r.nodeExtent,a=Xt(s,o,Gt(i));i.internals.positionAbsolute=a}}function z2(e,t,n,r){const i=Qo(T2,r);let s=e.length>0;const o=new Map(t),a=i?.elevateNodesOnSelect?1e3:0;t.clear(),n.clear();for(const l of e){let c=o.get(l.id);if(i.checkEquality&&l===c?.internals.userNode)t.set(l.id,c);else{const u=Un(l,i.nodeOrigin),d=$n(l.extent)?l.extent:i.nodeExtent,f=Xt(u,d,Gt(l));c={...i.defaults,...l,measured:{width:l.measured?.width,height:l.measured?.height},internals:{positionAbsolute:f,handleBounds:l.measured?c?.internals.handleBounds:void 0,z:Iu(l,a),userNode:l}},t.set(l.id,c)}(c.measured===void 0||c.measured.width===void 0||c.measured.height===void 0)&&!c.hidden&&(s=!1),l.parentId&&Jo(c,t,n,r)}return s}function H2(e,t){if(!e.parentId)return;const n=t.get(e.parentId);n?n.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}function Jo(e,t,n,r){const{elevateNodesOnSelect:i,nodeOrigin:s,nodeExtent:o}=Qo(Uo,r),a=e.parentId,l=t.get(a);if(!l){console.warn(`Parent node ${a} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}H2(e,n);const c=i?1e3:0,{x:u,y:d,z:f}=R2(e,l,s,o,c),{positionAbsolute:h}=e.internals,$=u!==h.x||d!==h.y;($||f!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:$?{x:u,y:d}:h,z:f}})}function Iu(e,t){return(_t(e.zIndex)?e.zIndex:0)+(e.selected?t:0)}function R2(e,t,n,r,i){const{x:s,y:o}=t.internals.positionAbsolute,a=Gt(e),l=Un(e,n),c=$n(e.extent)?Xt(l,e.extent,a):l;let u=Xt({x:s+c.x,y:o+c.y},r,a);e.extent==="parent"&&(u=wu(u,a,t));const d=Iu(e,i),f=t.internals.z??0;return{x:u.x,y:u.y,z:f>d?f:d}}function L2(e,t,n,r=[0,0]){const i=[],s=new Map;for(const o of e){const a=t.get(o.parentId);if(!a)continue;const l=s.get(o.parentId)?.expandedRect??gn(a),c=p2(l,o.rect);s.set(o.parentId,{expandedRect:c,parent:a})}return s.size>0&&s.forEach(({expandedRect:o,parent:a},l)=>{const c=a.internals.positionAbsolute,u=Gt(a),d=a.origin??r,f=o.x<c.x?Math.round(Math.abs(c.x-o.x)):0,h=o.y<c.y?Math.round(Math.abs(c.y-o.y)):0,$=Math.max(u.width,Math.round(o.width)),b=Math.max(u.height,Math.round(o.height)),v=($-u.width)*d[0],m=(b-u.height)*d[1];(f>0||h>0||v||m)&&(i.push({id:l,type:"position",position:{x:a.position.x-f+v,y:a.position.y-h+m}}),n.get(l)?.forEach(E=>{e.some(x=>x.id===E.id)||i.push({id:E.id,type:"position",position:{x:E.position.x+f,y:E.position.y+h}})})),(u.width<o.width||u.height<o.height||f||h)&&i.push({id:l,type:"dimensions",setAttributes:!0,dimensions:{width:$+(f?d[0]*f-v:0),height:b+(h?d[1]*h-m:0)}})}),i}function V2(e,t,n,r,i,s){const o=r?.querySelector(".xyflow__viewport");let a=!1;if(!o)return{changes:[],updatedInternals:a};const l=[],c=window.getComputedStyle(o),{m22:u}=new window.DOMMatrixReadOnly(c.transform),d=[];for(const f of e.values()){const h=t.get(f.id);if(!h)continue;if(h.hidden){t.set(h.id,{...h,internals:{...h.internals,handleBounds:void 0}}),a=!0;continue}const $=xu(f.nodeElement),b=h.measured.width!==$.width||h.measured.height!==$.height;if(!!($.width&&$.height&&(b||!h.internals.handleBounds||f.force))){const m=f.nodeElement.getBoundingClientRect(),E=$n(h.extent)?h.extent:s;let{positionAbsolute:x}=h.internals;h.parentId&&h.extent==="parent"?x=wu(x,$,t.get(h.parentId)):E&&(x=Xt(x,E,$));const y={...h,measured:$,internals:{...h.internals,positionAbsolute:x,handleBounds:{source:Ls("source",f.nodeElement,m,u,h.id),target:Ls("target",f.nodeElement,m,u,h.id)}}};t.set(h.id,y),h.parentId&&Jo(y,t,n,{nodeOrigin:i}),a=!0,b&&(l.push({id:h.id,type:"dimensions",dimensions:$}),h.expandParent&&h.parentId&&d.push({id:h.id,parentId:h.parentId,rect:gn(y,i)}))}}if(d.length>0){const f=L2(d,t,n,i);l.push(...f)}return{changes:l,updatedInternals:a}}async function F2({delta:e,panZoom:t,transform:n,translateExtent:r,width:i,height:s}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const o=await t.setViewportConstrained({x:n[0]+e.x,y:n[1]+e.y,zoom:n[2]},[[0,0],[i,s]],r),a=!!o&&(o.x!==n[0]||o.y!==n[1]||o.k!==n[2]);return Promise.resolve(a)}function Xs(e,t,n,r,i,s){let o=i;const a=r.get(o)||new Map;r.set(o,a.set(n,t)),o=`${i}-${e}`;const l=r.get(o)||new Map;if(r.set(o,l.set(n,t)),s){o=`${i}-${e}-${s}`;const c=r.get(o)||new Map;r.set(o,c.set(n,t))}}function Y2(e,t,n){e.clear(),t.clear();for(const r of n){const{source:i,target:s,sourceHandle:o=null,targetHandle:a=null}=r,l={edgeId:r.id,source:i,target:s,sourceHandle:o,targetHandle:a},c=`${i}-${o}--${s}-${a}`,u=`${s}-${a}--${i}-${o}`;Xs("source",l,u,e,i,o),Xs("target",l,c,e,s,a),t.set(r.id,r)}}function Ou(e,t){if(!e.parentId)return!1;const n=t.get(e.parentId);return n?n.selected?!0:Ou(n,t):!1}function Ks(e,t,n){let r=e;do{if(r?.matches?.(t))return!0;if(r===n)return!1;r=r?.parentElement}while(r);return!1}function q2(e,t,n,r){const i=new Map;for(const[s,o]of e)if((o.selected||o.id===r)&&(!o.parentId||!Ou(o,e))&&(o.draggable||t&&typeof o.draggable>"u")){const a=e.get(s);a&&i.set(s,{id:s,position:a.position||{x:0,y:0},distance:{x:n.x-a.internals.positionAbsolute.x,y:n.y-a.internals.positionAbsolute.y},extent:a.extent,parentId:a.parentId,origin:a.origin,expandParent:a.expandParent,internals:{positionAbsolute:a.internals.positionAbsolute||{x:0,y:0}},measured:{width:a.measured.width??0,height:a.measured.height??0}})}return i}function di({nodeId:e,dragItems:t,nodeLookup:n,dragging:r=!0}){const i=[];for(const[o,a]of t){const l=n.get(o)?.internals.userNode;l&&i.push({...l,position:a.position,dragging:r})}if(!e)return[i[0],i];const s=n.get(e)?.internals.userNode;return[s?{...s,position:t.get(e)?.position||s.position,dragging:r}:i[0],i]}function W2({onNodeMouseDown:e,getStoreItems:t,onDragStart:n,onDrag:r,onDragStop:i}){let s={x:null,y:null},o=0,a=new Map,l=!1,c={x:0,y:0},u=null,d=!1,f=null,h=!1;function $({noDragClassName:v,handleSelector:m,domNode:E,isSelectable:x,nodeId:y,nodeClickDistance:C=0}){f=rt(E);function N({x:A,y:w},_){const{nodeLookup:T,nodeExtent:p,snapGrid:P,snapToGrid:S,nodeOrigin:L,onNodeDrag:Y,onSelectionDrag:X,onError:K,updateNodePositions:Z}=t();s={x:A,y:w};let Q=!1,z={x:0,y:0,x2:0,y2:0};if(a.size>1&&p){const H=Ur(a);z=ko(H)}for(const[H,I]of a){if(!T.has(H))continue;let R={x:A-I.distance.x,y:w-I.distance.y};S&&(R=ei(R,P));let V=[[p[0][0],p[0][1]],[p[1][0],p[1][1]]];if(a.size>1&&p&&!I.extent){const{positionAbsolute:J}=I.internals,ne=J.x-z.x+p[0][0],ee=J.x+I.measured.width-z.x2+p[1][0],q=J.y-z.y+p[0][1],B=J.y+I.measured.height-z.y2+p[1][1];V=[[ne,q],[ee,B]]}const{position:F,positionAbsolute:G}=bu({nodeId:H,nextPosition:R,nodeLookup:T,nodeExtent:V,nodeOrigin:L,onError:K});Q=Q||I.position.x!==F.x||I.position.y!==F.y,I.position=F,I.internals.positionAbsolute=G}if(Q&&(Z(a,!0),_&&(r||Y||!y&&X))){const[H,I]=di({nodeId:y,dragItems:a,nodeLookup:T});r?.(_,a,H,I),Y?.(_,H,I),y||X?.(_,I)}}async function D(){if(!u)return;const{transform:A,panBy:w,autoPanSpeed:_,autoPanOnNodeDrag:T}=t();if(!T){l=!1,cancelAnimationFrame(o);return}const[p,P]=_u(c,u,_);(p!==0||P!==0)&&(s.x=(s.x??0)-p/A[2],s.y=(s.y??0)-P/A[2],await w({x:p,y:P})&&N(s,null)),o=requestAnimationFrame(D)}function k(A){const{nodeLookup:w,multiSelectionActive:_,nodesDraggable:T,transform:p,snapGrid:P,snapToGrid:S,selectNodesOnDrag:L,onNodeDragStart:Y,onSelectionDragStart:X,unselectNodesAndEdges:K}=t();d=!0,(!L||!x)&&!_&&y&&(w.get(y)?.selected||K()),x&&L&&y&&e?.(y);const Z=ci(A.sourceEvent,{transform:p,snapGrid:P,snapToGrid:S,containerBounds:u});if(s=Z,a=q2(w,T,Z,y),a.size>0&&(n||Y||!y&&X)){const[Q,z]=di({nodeId:y,dragItems:a,nodeLookup:w});n?.(A.sourceEvent,a,Q,z),Y?.(A.sourceEvent,Q,z),y||X?.(A.sourceEvent,z)}}const O=vh().clickDistance(C).on("start",A=>{const{domNode:w,nodeDragThreshold:_,transform:T,snapGrid:p,snapToGrid:P}=t();u=w?.getBoundingClientRect()||null,h=!1,_===0&&k(A),s=ci(A.sourceEvent,{transform:T,snapGrid:p,snapToGrid:P,containerBounds:u}),c=kt(A.sourceEvent,u)}).on("drag",A=>{const{autoPanOnNodeDrag:w,transform:_,snapGrid:T,snapToGrid:p,nodeDragThreshold:P,nodeLookup:S}=t(),L=ci(A.sourceEvent,{transform:_,snapGrid:T,snapToGrid:p,containerBounds:u});if((A.sourceEvent.type==="touchmove"&&A.sourceEvent.touches.length>1||y&&!S.has(y))&&(h=!0),!h){if(!l&&w&&d&&(l=!0,D()),!d){const Y=L.xSnapped-(s.x??0),X=L.ySnapped-(s.y??0);Math.sqrt(Y*Y+X*X)>P&&k(A)}(s.x!==L.xSnapped||s.y!==L.ySnapped)&&a&&d&&(c=kt(A.sourceEvent,u),N(L,A.sourceEvent))}}).on("end",A=>{if(!(!d||h)&&(l=!1,d=!1,cancelAnimationFrame(o),a.size>0)){const{nodeLookup:w,updateNodePositions:_,onNodeDragStop:T,onSelectionDragStop:p}=t();if(_(a,!1),i||T||!y&&p){const[P,S]=di({nodeId:y,dragItems:a,nodeLookup:w,dragging:!1});i?.(A.sourceEvent,a,P,S),T?.(A.sourceEvent,P,S),y||p?.(A.sourceEvent,S)}}}).filter(A=>{const w=A.target;return!A.button&&(!v||!Ks(w,`.${v}`,E))&&(!m||Ks(w,m,E))});f.call(O)}function b(){f?.on(".drag",null)}return{update:$,destroy:b}}function B2(e,t,n){const r=[],i={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const s of t.values())Yn(i,gn(s))>0&&r.push(s);return r}const X2=250;function K2(e,t,n,r){let i=[],s=1/0;const o=B2(e,n,t+X2);for(const a of o){const l=[...a.internals.handleBounds?.source??[],...a.internals.handleBounds?.target??[]];for(const c of l){if(r.nodeId===c.nodeId&&r.type===c.type&&r.id===c.id)continue;const{x:u,y:d}=qn(a,c,c.position,!0),f=Math.sqrt(Math.pow(u-e.x,2)+Math.pow(d-e.y,2));f>t||(f<s?(i=[{...c,x:u,y:d}],s=f):f===s&&i.push({...c,x:u,y:d}))}}if(!i.length)return null;if(i.length>1){const a=r.type==="source"?"target":"source";return i.find(l=>l.type===a)??i[0]}return i[0]}function Mu(e,t,n,r,i,s=!1){const o=r.get(e);if(!o)return null;const a=i==="strict"?o.internals.handleBounds?.[t]:[...o.internals.handleBounds?.source??[],...o.internals.handleBounds?.target??[]],l=(n?a?.find(c=>c.id===n):a?.[0])??null;return l&&s?{...l,...qn(o,l,l.position,!0)}:l}function Au(e,t){return e||(t?.classList.contains("target")?"target":t?.classList.contains("source")?"source":null)}function j2(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}const Tu=()=>!0;function Z2(e,{connectionMode:t,connectionRadius:n,handleId:r,nodeId:i,edgeUpdaterType:s,isTarget:o,domNode:a,nodeLookup:l,lib:c,autoPanOnConnect:u,flowId:d,panBy:f,cancelConnection:h,onConnectStart:$,onConnect:b,onConnectEnd:v,isValidConnection:m=Tu,onReconnectEnd:E,updateConnection:x,getTransform:y,getFromHandle:C,autoPanSpeed:N}){const D=Eu(e.target);let k=0,O;const{x:A,y:w}=kt(e),_=D?.elementFromPoint(A,w),T=Au(s,_),p=a?.getBoundingClientRect();if(!p||!T)return;const P=Mu(i,T,r,l,t);if(!P)return;let S=kt(e,p),L=!1,Y=null,X=!1,K=null;function Z(){if(!u||!p)return;const[G,J]=_u(S,p,N);f({x:G,y:J}),k=requestAnimationFrame(Z)}const Q={...P,nodeId:i,type:T,position:P.position},z=l.get(i),I={inProgress:!0,isValid:null,from:qn(z,Q,be.Left,!0),fromHandle:Q,fromPosition:Q.position,fromNode:z,to:S,toHandle:null,toPosition:Ds[Q.position],toNode:null};x(I);let R=I;$?.(e,{nodeId:i,handleId:r,handleType:T});function V(G){if(!C()||!Q){F(G);return}const J=y();S=kt(G,p),O=K2(Qn(S,J,!1,[1,1]),n,l,Q),L||(Z(),L=!0);const ne=Du(G,{handle:O,connectionMode:t,fromNodeId:i,fromHandleId:r,fromType:o?"target":"source",isValidConnection:m,doc:D,lib:c,flowId:d,nodeLookup:l});K=ne.handleDomNode,Y=ne.connection,X=j2(!!O,ne.isValid);const ee={...R,isValid:X,to:ne.toHandle&&X?Pr({x:ne.toHandle.x,y:ne.toHandle.y},J):S,toHandle:ne.toHandle,toPosition:X&&ne.toHandle?ne.toHandle.position:Ds[Q.position],toNode:ne.toHandle?l.get(ne.toHandle.nodeId):null};X&&O&&R.toHandle&&ee.toHandle&&R.toHandle.type===ee.toHandle.type&&R.toHandle.nodeId===ee.toHandle.nodeId&&R.toHandle.id===ee.toHandle.id&&R.to.x===ee.to.x&&R.to.y===ee.to.y||(x(ee),R=ee)}function F(G){(O||K)&&Y&&X&&b?.(Y);const{inProgress:J,...ne}=R,ee={...ne,toPosition:R.toHandle?R.toPosition:null};v?.(G,ee),s&&E?.(G,ee),h(),cancelAnimationFrame(k),L=!1,X=!1,Y=null,K=null,D.removeEventListener("mousemove",V),D.removeEventListener("mouseup",F),D.removeEventListener("touchmove",V),D.removeEventListener("touchend",F)}D.addEventListener("mousemove",V),D.addEventListener("mouseup",F),D.addEventListener("touchmove",V),D.addEventListener("touchend",F)}function Du(e,{handle:t,connectionMode:n,fromNodeId:r,fromHandleId:i,fromType:s,doc:o,lib:a,flowId:l,isValidConnection:c=Tu,nodeLookup:u}){const d=s==="target",f=t?o.querySelector(`.${a}-flow__handle[data-id="${l}-${t?.nodeId}-${t?.id}-${t?.type}"]`):null,{x:h,y:$}=kt(e),b=o.elementFromPoint(h,$),v=b?.classList.contains(`${a}-flow__handle`)?b:f,m={handleDomNode:v,isValid:!1,connection:null,toHandle:null};if(v){const E=Au(void 0,v),x=v.getAttribute("data-nodeid"),y=v.getAttribute("data-handleid"),C=v.classList.contains("connectable"),N=v.classList.contains("connectableend");if(!x||!E)return m;const D={source:d?x:r,sourceHandle:d?y:i,target:d?r:x,targetHandle:d?i:y};m.connection=D;const O=C&&N&&(n===fn.Strict?d&&E==="source"||!d&&E==="target":x!==r||y!==i);m.isValid=O&&c(D),m.toHandle=Mu(x,E,y,u,n,!0)}return m}const js={onPointerDown:Z2,isValid:Du},G2=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,ti=e=>({x:e.x,y:e.y,zoom:e.k}),fi=({x:e,y:t,zoom:n})=>Gr.translate(e,t).scale(n),nn=(e,t)=>e.target.closest(`.${t}`),zu=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),hi=(e,t=0,n=()=>{})=>{const r=typeof t=="number"&&t>0;return r||n(),r?e.transition().duration(t).on("end",n):e},Hu=e=>{const t=e.ctrlKey&&Ir()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function U2({zoomPanValues:e,noWheelClassName:t,d3Selection:n,d3Zoom:r,panOnScrollMode:i,panOnScrollSpeed:s,zoomOnPinch:o,onPanZoomStart:a,onPanZoom:l,onPanZoomEnd:c}){return u=>{if(nn(u,t))return!1;u.preventDefault(),u.stopImmediatePropagation();const d=n.property("__zoom").k||1;if(u.ctrlKey&&o){const v=dt(u),m=Hu(u),E=d*Math.pow(2,m);r.scaleTo(n,E,v,u);return}const f=u.deltaMode===1?20:1;let h=i===zt.Vertical?0:u.deltaX*f,$=i===zt.Horizontal?0:u.deltaY*f;!Ir()&&u.shiftKey&&i!==zt.Vertical&&(h=u.deltaY*f,$=0),r.translateBy(n,-(h/d)*s,-($/d)*s,{internal:!0});const b=ti(n.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling||(e.isPanScrolling=!0,a?.(u,b)),e.isPanScrolling&&(l?.(u,b),e.panScrollTimeout=setTimeout(()=>{c?.(u,b),e.isPanScrolling=!1},150))}}function Q2({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:n}){return function(r,i){const s=r.type==="wheel",o=!t&&s&&!r.ctrlKey,a=nn(r,e);if(r.ctrlKey&&s&&a&&r.preventDefault(),o||a)return null;r.preventDefault(),n.call(this,r,i)}}function J2({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:n}){return r=>{if(r.sourceEvent?.internal)return;const i=ti(r.transform);e.mouseButton=r.sourceEvent?.button||0,e.isZoomingOrPanning=!0,e.prevViewport=i,r.sourceEvent?.type==="mousedown"&&t(!0),n&&n?.(r.sourceEvent,i)}}function eg({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:n,onTransformChange:r,onPanZoom:i}){return s=>{e.usedRightMouseButton=!!(n&&zu(t,e.mouseButton??0)),s.sourceEvent?.sync||r([s.transform.x,s.transform.y,s.transform.k]),i&&!s.sourceEvent?.internal&&i?.(s.sourceEvent,ti(s.transform))}}function tg({zoomPanValues:e,panOnDrag:t,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:i,onPaneContextMenu:s}){return o=>{if(!o.sourceEvent?.internal&&(e.isZoomingOrPanning=!1,s&&zu(t,e.mouseButton??0)&&!e.usedRightMouseButton&&o.sourceEvent&&s(o.sourceEvent),e.usedRightMouseButton=!1,r(!1),i&&G2(e.prevViewport,o.transform))){const a=ti(o.transform);e.prevViewport=a,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{i?.(o.sourceEvent,a)},n?150:0)}}}function ng({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:n,panOnDrag:r,panOnScroll:i,zoomOnDoubleClick:s,userSelectionActive:o,noWheelClassName:a,noPanClassName:l,lib:c}){return u=>{const d=e||t,f=n&&u.ctrlKey;if(u.button===1&&u.type==="mousedown"&&(nn(u,`${c}-flow__node`)||nn(u,`${c}-flow__edge`)))return!0;if(!r&&!d&&!i&&!s&&!n||o||nn(u,a)&&u.type==="wheel"||nn(u,l)&&(u.type!=="wheel"||i&&u.type==="wheel"&&!e)||!n&&u.ctrlKey&&u.type==="wheel")return!1;if(!n&&u.type==="touchstart"&&u.touches?.length>1)return u.preventDefault(),!1;if(!d&&!i&&!f&&u.type==="wheel"||!r&&(u.type==="mousedown"||u.type==="touchstart")||Array.isArray(r)&&!r.includes(u.button)&&u.type==="mousedown")return!1;const h=Array.isArray(r)&&r.includes(u.button)||!u.button||u.button<=1;return(!u.ctrlKey||u.type==="wheel")&&h}}function rg({domNode:e,minZoom:t,maxZoom:n,paneClickDistance:r,translateExtent:i,viewport:s,onPanZoom:o,onPanZoomStart:a,onPanZoomEnd:l,onDraggingChange:c}){const u={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},d=e.getBoundingClientRect(),f=a2().clickDistance(!_t(r)||r<0?0:r).scaleExtent([t,n]).translateExtent(i),h=rt(e).call(f);x({x:s.x,y:s.y,zoom:hn(s.zoom,t,n)},[[0,0],[d.width,d.height]],i);const $=h.on("wheel.zoom"),b=h.on("dblclick.zoom");f.wheelDelta(Hu);function v(_,T){return h?new Promise(p=>{f?.transform(hi(h,T?.duration,()=>p(!0)),_)}):Promise.resolve(!1)}function m({noWheelClassName:_,noPanClassName:T,onPaneContextMenu:p,userSelectionActive:P,panOnScroll:S,panOnDrag:L,panOnScrollMode:Y,panOnScrollSpeed:X,preventScrolling:K,zoomOnPinch:Z,zoomOnScroll:Q,zoomOnDoubleClick:z,zoomActivationKeyPressed:H,lib:I,onTransformChange:R}){P&&!u.isZoomingOrPanning&&E();const F=S&&!H&&!P?U2({zoomPanValues:u,noWheelClassName:_,d3Selection:h,d3Zoom:f,panOnScrollMode:Y,panOnScrollSpeed:X,zoomOnPinch:Z,onPanZoomStart:a,onPanZoom:o,onPanZoomEnd:l}):Q2({noWheelClassName:_,preventScrolling:K,d3ZoomHandler:$});if(h.on("wheel.zoom",F,{passive:!1}),!P){const J=J2({zoomPanValues:u,onDraggingChange:c,onPanZoomStart:a});f.on("start",J);const ne=eg({zoomPanValues:u,panOnDrag:L,onPaneContextMenu:!!p,onPanZoom:o,onTransformChange:R});f.on("zoom",ne);const ee=tg({zoomPanValues:u,panOnDrag:L,panOnScroll:S,onPaneContextMenu:p,onPanZoomEnd:l,onDraggingChange:c});f.on("end",ee)}const G=ng({zoomActivationKeyPressed:H,panOnDrag:L,zoomOnScroll:Q,panOnScroll:S,zoomOnDoubleClick:z,zoomOnPinch:Z,userSelectionActive:P,noPanClassName:T,noWheelClassName:_,lib:I});f.filter(G),z?h.on("dblclick.zoom",b):h.on("dblclick.zoom",null)}function E(){f.on("zoom",null)}async function x(_,T,p){const P=fi(_),S=f?.constrain()(P,T,p);return S&&await v(S),new Promise(L=>L(S))}async function y(_,T){const p=fi(_);return await v(p,T),new Promise(P=>P(p))}function C(_){if(h){const T=fi(_),p=h.property("__zoom");(p.k!==_.zoom||p.x!==_.x||p.y!==_.y)&&f?.transform(h,T,null,{sync:!0})}}function N(){const _=h?pu(h.node()):{x:0,y:0,k:1};return{x:_.x,y:_.y,zoom:_.k}}function D(_,T){return h?new Promise(p=>{f?.scaleTo(hi(h,T?.duration,()=>p(!0)),_)}):Promise.resolve(!1)}function k(_,T){return h?new Promise(p=>{f?.scaleBy(hi(h,T?.duration,()=>p(!0)),_)}):Promise.resolve(!1)}function O(_){f?.scaleExtent(_)}function A(_){f?.translateExtent(_)}function w(_){const T=!_t(_)||_<0?0:_;f?.clickDistance(T)}return{update:m,destroy:E,setViewport:y,setViewportConstrained:x,getViewport:N,scaleTo:D,scaleBy:k,setScaleExtent:O,setTranslateExtent:A,syncViewport:C,setClickDistance:w}}var Zs;(function(e){e.Line="line",e.Handle="handle"})(Zs||(Zs={}));var ig=He("<div><!></div>");function pn(e,t){we(t,!0);let n=te(t,"id",3,null),r=te(t,"type",3,"source"),i=te(t,"position",19,()=>be.Top),s=te(t,"isConnectableStart",3,!0),o=te(t,"isConnectableEnd",3,!0),a=jn(t,["$$slots","$$events","$$legacy","id","type","position","style","class","isConnectable","isConnectableStart","isConnectableEnd","isValidConnection","onconnect","ondisconnect","children"]);const l=On("svelteflow__node_id"),c=On("svelteflow__node_connectable");let u=M(()=>r()==="target"),d=M(()=>t.isConnectable!==void 0?t.isConnectable:c.value),f=Ut(),h=null;yl(()=>{if(t.onconnect||t.ondisconnect){f.edges;let w=f.connectionLookup.get(`${l}-${r()}${n()?`-${n()}`:""}`);if(h&&!l2(w,h)){const _=w??new Map;zs(h,_,t.ondisconnect),zs(_,h,t.onconnect)}h=new Map(w)}});let $=M(()=>{if(!f.connection.inProgress)return[!1,!1,!1,!1,null];const{fromHandle:w,toHandle:_,isValid:T}=f.connection,p=w&&w.nodeId===l&&w.type===r()&&w.id===n(),P=_&&_.nodeId===l&&_.type===r()&&_.id===n(),S=f.connectionMode===fn.Strict?w?.type!==r():l!==w?.nodeId||n()!==w?.id;return[!0,p,P,S,P&&T]}),b=M(()=>{let[w,_,T,p,P]=g($);return w}),v=M(()=>{let[w,_,T,p,P]=g($);return _}),m=M(()=>{let[w,_,T,p,P]=g($);return T}),E=M(()=>{let[w,_,T,p,P]=g($);return p}),x=M(()=>{let[w,_,T,p,P]=g($);return P});function y(w){const _=f.onbeforeconnect?.(w)??w;_&&(f.addEdge(_),f.onconnect?.(w))}function C(w){const _=Su(w);(_&&w.button===0||!_)&&js.onPointerDown(w,{handleId:n(),nodeId:l,isTarget:g(u),connectionRadius:f.connectionRadius,domNode:f.domNode,nodeLookup:f.nodeLookup,connectionMode:f.connectionMode,lib:"svelte",autoPanOnConnect:f.autoPanOnConnect,flowId:f.flowId,isValidConnection:t.isValidConnection??f.isValidConnection,updateConnection:f.updateConnection,cancelConnection:f.cancelConnection,panBy:f.panBy,onConnect:y,onConnectStart:(T,p)=>{f.onconnectstart?.(T,{nodeId:p.nodeId,handleId:p.handleId,handleType:p.handleType})},onConnectEnd:(T,p)=>{f.onconnectend?.(T,p)},getTransform:()=>[f.viewport.x,f.viewport.y,f.viewport.zoom],getFromHandle:()=>f.connection.fromHandle})}function N(w){if(!l||!f.clickConnectStartHandle&&!s())return;if(!f.clickConnectStartHandle){f.onclickconnectstart?.(w,{nodeId:l,handleId:n(),handleType:r()}),f.clickConnectStartHandle={nodeId:l,type:r(),id:n()};return}const _=Eu(w.target),T=t.isValidConnection??f.isValidConnection,{connectionMode:p,clickConnectStartHandle:P,flowId:S,nodeLookup:L}=f,{connection:Y,isValid:X}=js.isValid(w,{handle:{nodeId:l,id:n(),type:r()},connectionMode:p,fromNodeId:P.nodeId,fromHandleId:P.id??null,fromType:P.type,isValidConnection:T,flowId:S,doc:_,lib:"svelte",nodeLookup:L});X&&Y&&y(Y);const K=structuredClone(ll(f.connection));delete K.inProgress,K.toPosition=K.toHandle?K.toHandle.position:null,f.onclickconnectend?.(w,K),f.clickConnectStartHandle=null}var D=ig(),k=()=>{};let O;var A=Se(D);Ct(A,()=>t.children??Ge),Me(w=>O=Kn(D,O,{"data-handleid":n(),"data-nodeid":l,"data-handlepos":i(),"data-id":`${f.flowId??""}-${l??""}-${n()??"null"??""}-${r()??""}`,class:["svelte-flow__handle",`svelte-flow__handle-${i()}`,f.noDragClass,f.noPanClass,i(),t.class],onmousedown:C,ontouchstart:C,onclick:f.clickConnect?N:void 0,onkeypress:k,style:t.style,role:"button",tabindex:"-1",...a,[tn]:w}),[()=>({valid:g(x),connectingto:g(m),connectingfrom:g(v),source:!g(u),target:g(u),connectablestart:s(),connectableend:o(),connectable:g(d),connectionindicator:g(d)&&(!g(b)||g(E))&&(g(b)||f.clickConnectStartHandle?o():s())})]),me(e,D),_e()}var og=He("<!> <!>",1);function Ru(e,t){we(t,!0);let n=te(t,"targetPosition",19,()=>be.Top),r=te(t,"sourcePosition",19,()=>be.Bottom);var i=og(),s=Le(i);pn(s,{type:"target",get position(){return n()}});var o=ke(s),a=ke(o);pn(a,{type:"source",get position(){return r()}}),Me(()=>Zt(o,` ${t.data?.label??""} `)),me(e,i),_e()}var sg=He(" <!>",1);function ag(e,t){we(t,!0);let n=te(t,"data",19,()=>({label:"Node"})),r=te(t,"sourcePosition",19,()=>be.Bottom);var i=sg(),s=Le(i),o=ke(s);pn(o,{type:"source",get position(){return r()}}),Me(()=>Zt(s,`${n()?.label??""} `)),me(e,i),_e()}var lg=He(" <!>",1);function ug(e,t){we(t,!0);let n=te(t,"data",19,()=>({label:"Node"})),r=te(t,"targetPosition",19,()=>be.Top);var i=lg(),s=Le(i),o=ke(s);pn(o,{type:"target",get position(){return r()}}),Me(()=>Zt(s,`${n()?.label??""} `)),me(e,i),_e()}function cg(e,t){}function Gs(e,t,n){if(!n||!t)return;const r=n==="root"?t:t.querySelector(`.svelte-flow__${n}`);r&&r.appendChild(e)}function dg(e,t){const n=Ut();let r=t;return Gs(e,n.domNode,t),{async update(i){i!==r&&(e.parentNode?.removeChild(e),r=i),Gs(e,n.domNode,i)},destroy(){e.parentNode&&e.parentNode.removeChild(e)}}}const Us=e=>c2(e),fg=e=>mu(e);function pt(e){return e===void 0?void 0:`${e}px`}const Or={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var hg=He("<div><!></div>");function gg(e,t){we(t,!0);let n=te(t,"x",3,0),r=te(t,"y",3,0),i=te(t,"selectEdgeOnClick",3,!1),s=te(t,"transparent",3,!1),o=jn(t,["$$slots","$$events","$$legacy","x","y","width","height","selectEdgeOnClick","transparent","class","children"]);const a=Ut(),l=On("svelteflow__edge_id");let c=M(()=>a.visible.edges.get(l)?.zIndex);var u=hg(),d=()=>{i()&&l&&a.handleEdgeSelection(l)};let f;var h=Se(u);Ct(h,()=>t.children??Ge),Be(u,($,b)=>dg?.($,b),()=>"edge-labels"),Me(($,b)=>f=Kn(u,f,{class:["svelte-flow__edge-label",{transparent:s()},t.class],role:"button",tabindex:"-1",onclick:d,...o,[Mt]:{cursor:i()?"pointer":void 0,transform:`translate(-50%, -50%) translate(${n()??""}px,${r()??""}px)`,"pointer-events":"all",width:$,height:b,"z-index":g(c)}},"svelte-w2n27y"),[()=>pt(t.width),()=>pt(t.height)]),me(e,u),_e()}var $g=tt("<path></path>"),pg=tt('<path fill="none"></path><!><!>',1);function ni(e,t){let n=te(t,"interactionWidth",3,20),r=jn(t,["$$slots","$$events","$$legacy","id","path","label","labelX","labelY","labelStyle","markerStart","markerEnd","style","interactionWidth","class"]);var i=pg(),s=Le(i),o=ke(s);{var a=u=>{var d=$g();let f;Me(()=>f=Kn(d,f,{d:t.path,"stroke-opacity":0,"stroke-width":n(),fill:"none",class:"svelte-flow__edge-interaction",...r})),me(u,d)};Ye(o,u=>{n()>0&&u(a)})}var l=ke(o);{var c=u=>{gg(u,{get x(){return t.labelX},get y(){return t.labelY},get style(){return t.labelStyle},selectEdgeOnClick:!0,children:(d,f)=>{var h=Dl();Me(()=>Zt(h,t.label)),me(d,h)},$$slots:{default:!0}})};Ye(l,u=>{t.label&&u(c)})}Me(()=>{ye(s,"id",t.id),ye(s,"d",t.path),lt(s,0,Pt(["svelte-flow__edge-path",t.class])),ye(s,"marker-start",t.markerStart),ye(s,"marker-end",t.markerEnd),et(s,t.style)}),me(e,i)}function Lu(e,t){we(t,!0);let n=M(()=>Nu({sourceX:t.sourceX,sourceY:t.sourceY,targetX:t.targetX,targetY:t.targetY,sourcePosition:t.sourcePosition,targetPosition:t.targetPosition,curvature:t.pathOptions?.curvature})),r=M(()=>{let[o,a,l]=g(n);return o}),i=M(()=>{let[o,a,l]=g(n);return a}),s=M(()=>{let[o,a,l]=g(n);return l});ni(e,{get id(){return t.id},get path(){return g(r)},get labelX(){return g(i)},get labelY(){return g(s)},get label(){return t.label},get labelStyle(){return t.labelStyle},get markerStart(){return t.markerStart},get markerEnd(){return t.markerEnd},get interactionWidth(){return t.interactionWidth},get style(){return t.style}}),_e()}function vg(e,t){we(t,!0);let n=M(()=>Go({sourceX:t.sourceX,sourceY:t.sourceY,targetX:t.targetX,targetY:t.targetY,sourcePosition:t.sourcePosition,targetPosition:t.targetPosition})),r=M(()=>{let[o,a,l]=g(n);return o}),i=M(()=>{let[o,a,l]=g(n);return a}),s=M(()=>{let[o,a,l]=g(n);return l});ni(e,{get path(){return g(r)},get labelX(){return g(i)},get labelY(){return g(s)},get label(){return t.label},get labelStyle(){return t.labelStyle},get markerStart(){return t.markerStart},get markerEnd(){return t.markerEnd},get interactionWidth(){return t.interactionWidth},get style(){return t.style}}),_e()}function mg(e,t){we(t,!0);let n=M(()=>Pu({sourceX:t.sourceX,sourceY:t.sourceY,targetX:t.targetX,targetY:t.targetY})),r=M(()=>{let[o,a,l]=g(n);return o}),i=M(()=>{let[o,a,l]=g(n);return a}),s=M(()=>{let[o,a,l]=g(n);return l});ni(e,{get path(){return g(r)},get labelX(){return g(i)},get labelY(){return g(s)},get label(){return t.label},get labelStyle(){return t.labelStyle},get markerStart(){return t.markerStart},get markerEnd(){return t.markerEnd},get interactionWidth(){return t.interactionWidth},get style(){return t.style}}),_e()}function yg(e,t){we(t,!0);let n=M(()=>Go({sourceX:t.sourceX,sourceY:t.sourceY,targetX:t.targetX,targetY:t.targetY,sourcePosition:t.sourcePosition,targetPosition:t.targetPosition,borderRadius:0})),r=M(()=>{let[o,a,l]=g(n);return o}),i=M(()=>{let[o,a,l]=g(n);return a}),s=M(()=>{let[o,a,l]=g(n);return l});ni(e,{get path(){return g(r)},get labelX(){return g(i)},get labelY(){return g(s)},get label(){return t.label},get labelStyle(){return t.labelStyle},get markerStart(){return t.markerStart},get markerEnd(){return t.markerEnd},get interactionWidth(){return t.interactionWidth},get style(){return t.style}}),_e()}function bg(e){W(e,e.v+1)}function wg(e){let t=0,n=an(0),r;return()=>{zc()&&(g(n),Fr(()=>(t===0&&(r=Fe(()=>e(()=>bg(n)))),t+=1,()=>{Zc().then(()=>{t-=1,t===0&&(r?.(),r=void 0)})})))}}class _g{#e;#t;constructor(t,n){this.#e=t,this.#t=wg(n)}get current(){return this.#t(),this.#e()}}const xg=/\(.+\)/,Eg=new Set(["all","print","screen","and","or","not","only"]);class kg extends _g{constructor(t,n){let r=xg.test(t)||t.split(/[\s,]+/).some(s=>Eg.has(s.trim()))?t:`(${t})`;const i=window.matchMedia(r);super(()=>i.matches,s=>ho(i,"change",s))}}function Sg(e,t,n,r){const i=new Map;return yu(e,{x:0,y:0,width:n,height:r},t,!0).forEach(s=>{i.set(s.id,s)}),i}function Qs(e){const{edges:t,defaultEdgeOptions:n,nodeLookup:r,previousEdges:i,connectionMode:s,onerror:o,onlyRenderVisible:a,elevateEdgesOnSelect:l}=e,c=new Map;for(const u of t){const d=r.get(u.source),f=r.get(u.target);if(!d||!f)continue;if(a){const{visibleNodes:b,transform:v,width:m,height:E}=e;if(k2({sourceNode:d,targetNode:f,width:m,height:E,transform:v}))b.set(d.id,d),b.set(f.id,f);else continue}const h=i.get(u.id);if(h&&u===h.edge&&d==h.sourceNode&&f==h.targetNode){c.set(u.id,h);continue}const $=M2({id:u.id,sourceNode:d,targetNode:f,sourceHandle:u.sourceHandle||null,targetHandle:u.targetHandle||null,connectionMode:s,onError:o});$&&c.set(u.id,{...n,...u,...$,zIndex:E2({selected:u.selected,zIndex:u.zIndex??n.zIndex,sourceNode:d,targetNode:f,elevateOnSelect:l}),sourceNode:d,targetNode:f,edge:u})}return c}const Vu={input:ag,output:ug,default:Ru,group:cg},Fu={straight:mg,smoothstep:vg,default:Lu,step:yg};function Ng(e){class t{#e=M(()=>e.props.id??"1");get flowId(){return g(this.#e)}set flowId(r){W(this.#e,r)}#t=xe(null);get domNode(){return g(this.#t)}set domNode(r){W(this.#t,r,!0)}#n=xe(null);get panZoom(){return g(this.#n)}set panZoom(r){W(this.#n,r,!0)}#r=xe(Ze(e.width??0));get width(){return g(this.#r)}set width(r){W(this.#r,r,!0)}#i=xe(Ze(e.height??0));get height(){return g(this.#i)}set height(r){W(this.#i,r,!0)}#o=M(()=>{const r=z2(e.nodes,this.nodeLookup,this.parentLookup,{nodeExtent:this.nodeExtent,nodeOrigin:this.nodeOrigin,elevateNodesOnSelect:e.props.elevateNodesOnSelect??!0,checkEquality:!0});return this.fitViewQueued&&r&&(this.fitViewOptions?.duration?this.resolveFitView():queueMicrotask(()=>{this.resolveFitView()})),r});get nodesInitialized(){return g(this.#o)}set nodesInitialized(r){W(this.#o,r)}#s=M(()=>this.panZoom!==null);get viewportInitialized(){return g(this.#s)}set viewportInitialized(r){W(this.#s,r)}#a=M(()=>(Y2(this.connectionLookup,this.edgeLookup,e.edges),e.edges));get _edges(){return g(this.#a)}set _edges(r){W(this.#a,r)}get nodes(){return this.nodesInitialized,e.nodes}set nodes(r){e.nodes=r}get edges(){return this._edges}set edges(r){e.edges=r}_prevSelectedNodes=[];_prevSelectedNodeIds=new Set;#l=M(()=>{const r=this._prevSelectedNodeIds.size,i=new Set,s=this.nodes.filter(o=>(o.selected&&(i.add(o.id),this._prevSelectedNodeIds.delete(o.id)),o.selected));return(r!==i.size||this._prevSelectedNodeIds.size>0)&&(this._prevSelectedNodes=s),this._prevSelectedNodeIds=i,this._prevSelectedNodes});get selectedNodes(){return g(this.#l)}set selectedNodes(r){W(this.#l,r)}_prevSelectedEdges=[];_prevSelectedEdgeIds=new Set;#u=M(()=>{const r=this._prevSelectedEdgeIds.size,i=new Set,s=this.edges.filter(o=>(o.selected&&(i.add(o.id),this._prevSelectedEdgeIds.delete(o.id)),o.selected));return(r!==i.size||this._prevSelectedEdgeIds.size>0)&&(this._prevSelectedEdges=s),this._prevSelectedEdgeIds=i,this._prevSelectedEdges});get selectedEdges(){return g(this.#u)}set selectedEdges(r){W(this.#u,r)}selectionChangeHandlers=new Map;nodeLookup=new Map;parentLookup=new Map;connectionLookup=new Map;edgeLookup=new Map;_prevVisibleEdges=new Map;#c=M(()=>{const{nodes:r,_edges:i,_prevVisibleEdges:s,nodeLookup:o,connectionMode:a,onerror:l,onlyRenderVisibleElements:c,defaultEdgeOptions:u}=this;let d,f;const h={edges:i,defaultEdgeOptions:u,previousEdges:s,nodeLookup:o,connectionMode:a,elevateEdgesOnSelect:e.props.elevateEdgesOnSelect??!0,onerror:l};if(c){const{viewport:$,width:b,height:v}=this,m=[$.x,$.y,$.zoom];d=Sg(o,m,b,v),f=Qs({...h,onlyRenderVisible:!0,visibleNodes:d,transform:m,width:b,height:v})}else d=this.nodeLookup,f=Qs(h);return{nodes:d,edges:f}});get visible(){return g(this.#c)}set visible(r){W(this.#c,r)}#d=M(()=>e.props.nodesDraggable??!0);get nodesDraggable(){return g(this.#d)}set nodesDraggable(r){W(this.#d,r)}#f=M(()=>e.props.nodesConnectable??!0);get nodesConnectable(){return g(this.#f)}set nodesConnectable(r){W(this.#f,r)}#h=M(()=>e.props.elementsSelectable??!0);get elementsSelectable(){return g(this.#h)}set elementsSelectable(r){W(this.#h,r)}#g=M(()=>e.props.nodesFocusable??!0);get nodesFocusable(){return g(this.#g)}set nodesFocusable(r){W(this.#g,r)}#$=M(()=>e.props.edgesFocusable??!0);get edgesFocusable(){return g(this.#$)}set edgesFocusable(r){W(this.#$,r)}#p=M(()=>e.props.disableKeyboardA11y??!1);get disableKeyboardA11y(){return g(this.#p)}set disableKeyboardA11y(r){W(this.#p,r)}#v=M(()=>e.props.minZoom??.5);get minZoom(){return g(this.#v)}set minZoom(r){W(this.#v,r)}#m=M(()=>e.props.maxZoom??2);get maxZoom(){return g(this.#m)}set maxZoom(r){W(this.#m,r)}#y=M(()=>e.props.nodeOrigin??[0,0]);get nodeOrigin(){return g(this.#y)}set nodeOrigin(r){W(this.#y,r)}#b=M(()=>e.props.nodeExtent??xo);get nodeExtent(){return g(this.#b)}set nodeExtent(r){W(this.#b,r)}#w=M(()=>e.props.translateExtent??xo);get translateExtent(){return g(this.#w)}set translateExtent(r){W(this.#w,r)}#_=M(()=>e.props.defaultEdgeOptions??{});get defaultEdgeOptions(){return g(this.#_)}set defaultEdgeOptions(r){W(this.#_,r)}#x=M(()=>e.props.nodeDragThreshold??1);get nodeDragThreshold(){return g(this.#x)}set nodeDragThreshold(r){W(this.#x,r)}#E=M(()=>e.props.autoPanOnNodeDrag??!0);get autoPanOnNodeDrag(){return g(this.#E)}set autoPanOnNodeDrag(r){W(this.#E,r)}#k=M(()=>e.props.autoPanOnConnect??!0);get autoPanOnConnect(){return g(this.#k)}set autoPanOnConnect(r){W(this.#k,r)}fitViewQueued=e.props.fitView??!1;fitViewOptions=e.props.fitViewOptions;fitViewResolver=null;#S=M(()=>e.props.snapGrid??null);get snapGrid(){return g(this.#S)}set snapGrid(r){W(this.#S,r)}#N=xe(!1);get dragging(){return g(this.#N)}set dragging(r){W(this.#N,r,!0)}#C=xe(null);get selectionRect(){return g(this.#C)}set selectionRect(r){W(this.#C,r,!0)}#P=xe(!1);get selectionKeyPressed(){return g(this.#P)}set selectionKeyPressed(r){W(this.#P,r,!0)}#I=xe(!1);get multiselectionKeyPressed(){return g(this.#I)}set multiselectionKeyPressed(r){W(this.#I,r,!0)}#O=xe(!1);get deleteKeyPressed(){return g(this.#O)}set deleteKeyPressed(r){W(this.#O,r,!0)}#M=xe(!1);get panActivationKeyPressed(){return g(this.#M)}set panActivationKeyPressed(r){W(this.#M,r,!0)}#A=xe(!1);get zoomActivationKeyPressed(){return g(this.#A)}set zoomActivationKeyPressed(r){W(this.#A,r,!0)}#T=xe(null);get selectionRectMode(){return g(this.#T)}set selectionRectMode(r){W(this.#T,r,!0)}#D=xe("");get ariaLiveMessage(){return g(this.#D)}set ariaLiveMessage(r){W(this.#D,r,!0)}#z=M(()=>e.props.selectionMode??Sr.Partial);get selectionMode(){return g(this.#z)}set selectionMode(r){W(this.#z,r)}#H=M(()=>({...Vu,...e.props.nodeTypes}));get nodeTypes(){return g(this.#H)}set nodeTypes(r){W(this.#H,r)}#R=M(()=>({...Fu,...e.props.edgeTypes}));get edgeTypes(){return g(this.#R)}set edgeTypes(r){W(this.#R,r)}#L=M(()=>e.props.noPanClass??"nopan");get noPanClass(){return g(this.#L)}set noPanClass(r){W(this.#L,r)}#V=M(()=>e.props.noDragClass??"nodrag");get noDragClass(){return g(this.#V)}set noDragClass(r){W(this.#V,r)}#F=M(()=>e.props.noWheelClass??"nowheel");get noWheelClass(){return g(this.#F)}set noWheelClass(r){W(this.#F,r)}#Y=xe(Ze(e.props.initialViewport??{x:0,y:0,zoom:1}));get _viewport(){return g(this.#Y)}set _viewport(r){W(this.#Y,r,!0)}get viewport(){return e.viewport??this._viewport}set viewport(r){e.viewport&&(e.viewport=r),this._viewport=r}#q=xe(Ze(Eo));get _connection(){return g(this.#q)}set _connection(r){W(this.#q,r,!0)}#W=M(()=>this._connection.inProgress?{...this._connection,to:Qn(this._connection.to,[this.viewport.x,this.viewport.y,this.viewport.zoom])}:this._connection);get connection(){return g(this.#W)}set connection(r){W(this.#W,r)}#B=M(()=>e.props.connectionMode??fn.Strict);get connectionMode(){return g(this.#B)}set connectionMode(r){W(this.#B,r)}#X=M(()=>e.props.connectionRadius??20);get connectionRadius(){return g(this.#X)}set connectionRadius(r){W(this.#X,r)}#K=M(()=>e.props.isValidConnection??(()=>!0));get isValidConnection(){return g(this.#K)}set isValidConnection(r){W(this.#K,r)}#j=M(()=>e.props.selectNodesOnDrag??!0);get selectNodesOnDrag(){return g(this.#j)}set selectNodesOnDrag(r){W(this.#j,r)}#Z=M(()=>e.props.defaultMarkerColor??"#b1b1b7");get defaultMarkerColor(){return g(this.#Z)}set defaultMarkerColor(r){W(this.#Z,r)}#G=M(()=>A2(e.edges,{defaultColor:this.defaultMarkerColor,id:this.flowId,defaultMarkerStart:this.defaultEdgeOptions.markerStart,defaultMarkerEnd:this.defaultEdgeOptions.markerEnd}));get markers(){return g(this.#G)}set markers(r){W(this.#G,r)}#U=M(()=>e.props.onlyRenderVisibleElements??!1);get onlyRenderVisibleElements(){return g(this.#U)}set onlyRenderVisibleElements(r){W(this.#U,r)}#Q=M(()=>e.props.onflowerror??v2);get onerror(){return g(this.#Q)}set onerror(r){W(this.#Q,r)}#J=M(()=>e.props.ondelete);get ondelete(){return g(this.#J)}set ondelete(r){W(this.#J,r)}#ee=M(()=>e.props.onbeforedelete);get onbeforedelete(){return g(this.#ee)}set onbeforedelete(r){W(this.#ee,r)}#te=M(()=>e.props.onbeforeconnect);get onbeforeconnect(){return g(this.#te)}set onbeforeconnect(r){W(this.#te,r)}#ne=M(()=>e.props.onconnect);get onconnect(){return g(this.#ne)}set onconnect(r){W(this.#ne,r)}#re=M(()=>e.props.onconnectstart);get onconnectstart(){return g(this.#re)}set onconnectstart(r){W(this.#re,r)}#ie=M(()=>e.props.onconnectend);get onconnectend(){return g(this.#ie)}set onconnectend(r){W(this.#ie,r)}#oe=M(()=>e.props.onbeforereconnect);get onbeforereconnect(){return g(this.#oe)}set onbeforereconnect(r){W(this.#oe,r)}#se=M(()=>e.props.onreconnect);get onreconnect(){return g(this.#se)}set onreconnect(r){W(this.#se,r)}#ae=M(()=>e.props.onreconnectstart);get onreconnectstart(){return g(this.#ae)}set onreconnectstart(r){W(this.#ae,r)}#le=M(()=>e.props.onreconnectend);get onreconnectend(){return g(this.#le)}set onreconnectend(r){W(this.#le,r)}#ue=M(()=>e.props.clickConnect??!0);get clickConnect(){return g(this.#ue)}set clickConnect(r){W(this.#ue,r)}#ce=M(()=>e.props.onclickconnectstart);get onclickconnectstart(){return g(this.#ce)}set onclickconnectstart(r){W(this.#ce,r)}#de=M(()=>e.props.onclickconnectend);get onclickconnectend(){return g(this.#de)}set onclickconnectend(r){W(this.#de,r)}#fe=xe(null);get clickConnectStartHandle(){return g(this.#fe)}set clickConnectStartHandle(r){W(this.#fe,r,!0)}#he=M(()=>e.props.onselectiondrag);get onselectiondrag(){return g(this.#he)}set onselectiondrag(r){W(this.#he,r)}#ge=M(()=>e.props.onselectiondragstart);get onselectiondragstart(){return g(this.#ge)}set onselectiondragstart(r){W(this.#ge,r)}#$e=M(()=>e.props.onselectiondragstop);get onselectiondragstop(){return g(this.#$e)}set onselectiondragstop(r){W(this.#$e,r)}resolveFitView=async()=>{this.panZoom&&(await g2({nodes:this.nodeLookup,width:this.width,height:this.height,panZoom:this.panZoom,minZoom:this.minZoom,maxZoom:this.maxZoom},this.fitViewOptions),this.fitViewResolver?.resolve(!0),this.fitViewQueued=!1,this.fitViewOptions=void 0,this.fitViewResolver=null)};_prefersDark=new kg("(prefers-color-scheme: dark)",e.props.colorModeSSR==="dark");#pe=M(()=>e.props.colorMode==="system"?this._prefersDark.current?"dark":"light":e.props.colorMode??"light");get colorMode(){return g(this.#pe)}set colorMode(r){W(this.#pe,r)}constructor(){if(e.props.fitView&&!e.props.initialViewport&&this.width&&this.height){const r=Ur(this.nodeLookup,{filter:i=>!!((i.width||i.initialWidth)&&(i.height||i.initialHeight))});this.viewport=Zo(r,this.width,this.height,.5,2,.1)}}resetStoreValues(){this.dragging=!1,this.selectionRect=null,this.selectionRectMode=null,this.selectionKeyPressed=!1,this.multiselectionKeyPressed=!1,this.deleteKeyPressed=!1,this.panActivationKeyPressed=!1,this.zoomActivationKeyPressed=!1,this._connection=Eo,this.clickConnectStartHandle=null,this.viewport=e.props.initialViewport??{x:0,y:0,zoom:1},this.ariaLiveMessage=""}}return new t}function Ut(){const e=On(Mr);if(!e)throw new Error("To call useStore outside of <SvelteFlow /> you need to wrap your component in a <SvelteFlowProvider />");return e.getStore()}const Mr=Symbol();function Yu(e){const t=Ng(e);function n(w){t.nodeTypes={...Vu,...w}}function r(w){t.edgeTypes={...Fu,...w}}function i(w){t.edges=C2(w,t.edges)}const s=(w,_=!1)=>{t.nodes=t.nodes.map(T=>{const p=w.get(T.id);return p?{...T,position:p.position,dragging:_}:T})};function o(w){const{changes:_,updatedInternals:T}=V2(w,t.nodeLookup,t.parentLookup,t.domNode,t.nodeOrigin);if(!T)return;D2(t.nodeLookup,t.parentLookup,{nodeOrigin:t.nodeOrigin,nodeExtent:t.nodeExtent}),t.fitViewQueued&&t.resolveFitView();const p=new Map;for(const P of _){const S=t.nodeLookup.get(P.id)?.internals.userNode;if(!S)continue;const L={...S};switch(P.type){case"dimensions":{const Y={...L.measured,...P.dimensions};P.setAttributes&&(L.width=P.dimensions?.width??L.width,L.height=P.dimensions?.height??L.height),L.measured=Y;break}case"position":L.position=P.position??L.position;break}p.set(P.id,L)}t.nodes=t.nodes.map(P=>p.get(P.id)??P),t.nodesInitialized||(t.nodesInitialized=!0)}function a(w){const _=t.fitViewResolver??Promise.withResolvers();return t.fitViewQueued=!0,t.fitViewOptions=w,t.fitViewResolver=_,t.nodes=[...t.nodes],_.promise}function l(w,_){const T=t.panZoom;return T?T.scaleBy(w,_):Promise.resolve(!1)}function c(w){return l(1.2,w)}function u(w){return l(1/1.2,w)}function d(w){const _=t.panZoom;_&&(_.setScaleExtent([w,t.maxZoom]),t.minZoom=w)}function f(w){const _=t.panZoom;_&&(_.setScaleExtent([t.minZoom,w]),t.maxZoom=w)}function h(w){const _=t.panZoom;_&&(_.setTranslateExtent(w),t.translateExtent=w)}function $(w){t.panZoom?.setClickDistance(w)}function b(w,_=null){let T=!1;const p=w.map(P=>(_?_.has(P.id):!0)&&P.selected?(T=!0,{...P,selected:!1}):P);return[T,p]}function v(w){const _=w?.nodes?new Set(w.nodes.map(Y=>Y.id)):null,[T,p]=b(t.nodes,_);T&&(t.nodes=p);const P=w?.edges?new Set(w.edges.map(Y=>Y.id)):null,[S,L]=b(t.edges,P);S&&(t.edges=L)}function m(w){const _=t.multiselectionKeyPressed;t.nodes=t.nodes.map(T=>{const p=w.includes(T.id),P=_&&T.selected||p;if(T.selected!==P){const S=t.nodeLookup.get(T.id);return S&&(S.selected=P),T.selected=P,{...T}}return T}),_||v({nodes:[]})}function E(w){const _=t.multiselectionKeyPressed;t.edges=t.edges.map(T=>{const p=w.includes(T.id),P=_&&T.selected||p;return T.selected!==P?{...T,selected:P}:T}),_||v({edges:[]})}function x(w,_,T){const p=t.nodeLookup.get(w);if(!p){console.warn("012",Fn.error012(w));return}t.selectionRect=null,t.selectionRectMode=null,p.selected?(_||p.selected&&t.multiselectionKeyPressed)&&(v({nodes:[p],edges:[]}),requestAnimationFrame(()=>T?.blur())):m([w])}function y(w){const _=t.edgeLookup.get(w);if(!_){console.warn("012",Fn.error012(w));return}(_.selectable||t.elementsSelectable&&typeof _.selectable>"u")&&(t.selectionRect=null,t.selectionRectMode=null,_.selected?_.selected&&t.multiselectionKeyPressed&&v({nodes:[],edges:[_]}):E([w]))}function C(w,_){const{nodeExtent:T,snapGrid:p,nodeOrigin:P,nodeLookup:S,nodesDraggable:L,onerror:Y}=t,X=new Map,K=p?.[0]??5,Z=p?.[1]??5,Q=w.x*K*_,z=w.y*Z*_;for(const H of S.values()){if(!(H.selected&&(H.draggable||L&&typeof H.draggable>"u")))continue;let R={x:H.internals.positionAbsolute.x+Q,y:H.internals.positionAbsolute.y+z};p&&(R=ei(R,p));const{position:V,positionAbsolute:F}=bu({nodeId:H.id,nextPosition:R,nodeLookup:S,nodeExtent:T,nodeOrigin:P,onError:Y});H.position=V,H.internals.positionAbsolute=F,X.set(H.id,H)}s(X)}function N(w){return F2({delta:w,panZoom:t.panZoom,transform:[t.viewport.x,t.viewport.y,t.viewport.zoom],translateExtent:t.translateExtent,width:t.width,height:t.height})}const D=w=>{t._connection={...w}};function k(){t._connection=Eo}function O(){t.resetStoreValues(),v()}return Object.assign(t,{setNodeTypes:n,setEdgeTypes:r,addEdge:i,updateNodePositions:s,updateNodeInternals:o,zoomIn:c,zoomOut:u,fitView:a,setMinZoom:d,setMaxZoom:f,setTranslateExtent:h,setPaneClickDistance:$,unselectNodesAndEdges:v,addSelectedNodes:m,addSelectedEdges:E,handleNodeSelection:x,handleEdgeSelection:y,moveSelectedNodes:C,panBy:N,updateConnection:D,cancelConnection:k,reset:O})}function Cg(e,t){const{minZoom:n,maxZoom:r,initialViewport:i,translateExtent:s,paneClickDistance:o,setPanZoomInstance:a,onDraggingChange:l,onTransformChange:c}=t,u=rg({domNode:e,minZoom:n,maxZoom:r,translateExtent:s,viewport:i,paneClickDistance:o,onDraggingChange:l}),d=u.getViewport();return(i.x!==d.x||i.y!==d.y||i.zoom!==d.zoom)&&c([d.x,d.y,d.zoom]),a(u),u.update(t),{update(f){u.update(f)}}}var Pg=He('<div class="svelte-flow__zoom svelte-flow__container"><!></div>');function Ig(e,t){we(t,!0);let n=te(t,"store",15),r=te(t,"panOnScrollMode",19,()=>zt.Free),i=te(t,"preventScrolling",3,!0),s=te(t,"zoomOnScroll",3,!0),o=te(t,"zoomOnDoubleClick",3,!0),a=te(t,"zoomOnPinch",3,!0),l=te(t,"panOnDrag",3,!0),c=te(t,"panOnScroll",3,!1),u=te(t,"paneClickDistance",3,1),d=M(()=>n().panActivationKeyPressed||l()),f=M(()=>n().panActivationKeyPressed||c());const{viewport:h}=n();let $=!1;Rt(()=>{!$&&n().viewportInitialized&&(t.oninit?.(),$=!0)});var b=Pg(),v=Se(b);Ct(v,()=>t.children),Be(b,(m,E)=>Cg?.(m,E),()=>({viewport:n().viewport,minZoom:n().minZoom,maxZoom:n().maxZoom,initialViewport:h,onDraggingChange:m=>{n(n().dragging=m,!0)},setPanZoomInstance:m=>{n(n().panZoom=m,!0)},onPanZoomStart:t.onmovestart,onPanZoom:t.onmove,onPanZoomEnd:t.onmoveend,zoomOnScroll:s(),zoomOnDoubleClick:o(),zoomOnPinch:a(),panOnScroll:g(f),panOnDrag:g(d),panOnScrollSpeed:.5,panOnScrollMode:r()||zt.Free,zoomActivationKeyPressed:n().zoomActivationKeyPressed,preventScrolling:typeof i()=="boolean"?i():!0,noPanClassName:n().noPanClass,noWheelClassName:n().noWheelClass,userSelectionActive:!!n().selectionRect,translateExtent:n().translateExtent,lib:"svelte",paneClickDistance:u(),onTransformChange:m=>{n(n().viewport={x:m[0],y:m[1],zoom:m[2]},!0)}})),me(e,b),_e()}function Js(e,t){return n=>{n.target===t&&e?.(n)}}function ea(e){return t=>{const n=e.has(t.id);return!!t.selected!==n?{...t,selected:n}:t}}function ta(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}var Og=He("<div><!></div>");function Mg(e,t){we(t,!0);let n=te(t,"store",15),r=te(t,"panOnDrag",3,!0),i,s=null,o=new Set,a=new Set,l=M(()=>n().panActivationKeyPressed||r()),c=M(()=>n().selectionKeyPressed||n().selectionRect||t.selectionOnDrag&&g(l)!==!0),u=M(()=>n().elementsSelectable&&(g(c)||n().selectionRectMode==="user")),d=!1;function f(N){if(d||n().connection.inProgress){d=!1;return}t.onpaneclick?.({event:N}),n().unselectNodesAndEdges(),n(n().selectionRectMode=null,!0)}function h(N){if(s=i?.getBoundingClientRect(),!n().elementsSelectable||!g(c)||N.button!==0||N.target!==i||!s)return;N.target?.setPointerCapture?.(N.pointerId);const{x:D,y:k}=kt(N,s);n().unselectNodesAndEdges(),n(n().selectionRect={width:0,height:0,startX:D,startY:k,x:D,y:k},!0),t.onselectionstart?.(N)}function $(N){if(!g(c)||!s||!n().selectionRect)return;d=!0;const D=kt(N,s),{startX:k=0,startY:O=0}=n().selectionRect,A={...n().selectionRect,x:D.x<k?D.x:k,y:D.y<O?D.y:O,width:Math.abs(D.x-k),height:Math.abs(D.y-O)},w=o,_=a;o=new Set(yu(n().nodeLookup,A,[n().viewport.x,n().viewport.y,n().viewport.zoom],n().selectionMode===Sr.Partial,!0).map(p=>p.id));const T=n().defaultEdgeOptions.selectable??!0;a=new Set;for(const p of o){const P=n().connectionLookup.get(p);if(P)for(const{edgeId:S}of P.values()){const L=n().edgeLookup.get(S);L&&(L.selectable??T)&&a.add(S)}}ta(w,o)||n(n().nodes=n().nodes.map(ea(o)),!0),ta(_,a)||n(n().edges=n().edges.map(ea(a)),!0),n(n().selectionRectMode="user",!0),n(n().selectionRect=A,!0)}function b(N){N.button===0&&(N.target?.releasePointerCapture?.(N.pointerId),!g(c)&&n().selectionRectMode==="user"&&N.target===i&&f?.(N),n(n().selectionRect=null,!0),o.size>0&&n(n().selectionRectMode="nodes",!0),n().selectionKeyPressed&&(d=!1),t.onselectionend?.(N))}const v=N=>{if(Array.isArray(g(l))&&g(l).includes(2)){N.preventDefault();return}t.onpanecontextmenu?.({event:N})};var m=Og();let E;var x=M(()=>g(u)?void 0:Js(f,i));m.__click=function(...N){g(x)?.apply(this,N)},m.__pointerdown=function(...N){(g(u)?h:void 0)?.apply(this,N)},m.__pointermove=function(...N){(g(u)?$:void 0)?.apply(this,N)},m.__pointerup=function(...N){(g(u)?b:void 0)?.apply(this,N)};var y=M(()=>Js(v,i));m.__contextmenu=function(...N){g(y)?.apply(this,N)};var C=Se(m);Ct(C,()=>t.children),_n(m,N=>i=N,()=>i),Me(N=>E=lt(m,1,"svelte-flow__pane svelte-flow__container",null,E,N),[()=>({draggable:r()===!0||Array.isArray(r())&&r().includes(0),dragging:n().dragging,selection:g(c)})]),me(e,m),_e()}jt(["click","pointerdown","pointermove","pointerup","contextmenu"]);var Ag=He('<div class="svelte-flow__viewport xyflow__viewport svelte-flow__container"><!></div>');function Tg(e,t){we(t,!0);var n=Ag();let r;var i=Se(n);Ct(i,()=>t.children),Me(()=>r=et(n,"",r,{transform:`translate(${t.store.viewport.x??""}px, ${t.store.viewport.y??""}px) scale(${t.store.viewport.zoom??""})`})),me(e,n),_e()}function qu(e,t){const{store:n,onDrag:r,onDragStart:i,onDragStop:s,onNodeMouseDown:o}=t,a=W2({onDrag:r,onDragStart:i,onDragStop:s,onNodeMouseDown:o,getStoreItems:()=>{const{snapGrid:c,viewport:u}=n;return{nodes:n.nodes,nodeLookup:n.nodeLookup,edges:n.edges,nodeExtent:n.nodeExtent,snapGrid:c||[0,0],snapToGrid:!!c,nodeOrigin:n.nodeOrigin,multiSelectionActive:n.multiselectionKeyPressed,domNode:n.domNode,transform:[u.x,u.y,u.zoom],autoPanOnNodeDrag:n.autoPanOnNodeDrag,nodesDraggable:n.nodesDraggable,selectNodesOnDrag:n.selectNodesOnDrag,nodeDragThreshold:n.nodeDragThreshold,unselectNodesAndEdges:n.unselectNodesAndEdges,updateNodePositions:n.updateNodePositions,onSelectionDrag:n.onselectiondrag,onSelectionDragStart:n.onselectiondragstart,onSelectionDragStop:n.onselectiondragstop,panBy:n.panBy}}});function l(c,u){if(u.disabled){a.destroy();return}a.update({domNode:c,noDragClassName:u.noDragClass,handleSelector:u.handleSelector,nodeId:u.nodeId,isSelectable:u.isSelectable,nodeClickDistance:u.nodeClickDistance})}return l(e,t),{update(c){l(e,c)},destroy(){a.destroy()}}}var Dg=He('<div aria-live="assertive" aria-atomic="true" style="position: absolute; width: 1px; height: 1px; margin: -1px; border: 0; padding: 0; overflow: hidden; clip: rect(0px, 0px, 0px, 0px); clip-path: inset(100%);"> </div>'),zg=He(`<div style="display: none;">Press enter or space to select a node. <!> Press delete to remove it and escape to cancel.</div> <div style="display: none;">Press enter or space to select an edge. You can then press delete to remove it or escape to
  cancel.</div> <!>`,1);function Hg(e,t){we(t,!0);var n=zg(),r=Le(n),i=ke(Se(r));{var s=c=>{var u=Dl("You can then use the arrow keys to move the node around.");me(c,u)};Ye(i,c=>{t.store.disableKeyboardA11y||c(s)})}var o=ke(r,2),a=ke(o,2);{var l=c=>{var u=Dg(),d=Se(u);Me(()=>{ye(u,"id",`${Rg}-${t.store.flowId}`),Zt(d,t.store.ariaLiveMessage)}),me(c,u)};Ye(a,c=>{t.store.disableKeyboardA11y||c(l)})}Me(()=>{ye(r,"id",`${Wu}-${t.store.flowId}`),ye(o,"id",`${Bu}-${t.store.flowId}`)}),me(e,n),_e()}const Wu="svelte-flow__node-desc",Bu="svelte-flow__edge-desc",Rg="svelte-flow__aria-live";function Lg(e,t,n,r,i,s,o){g(t)&&(!n().selectNodesOnDrag||!g(r)||n().nodeDragThreshold>0)&&n().handleNodeSelection(i),s.onnodeclick?.({node:g(o),event:e})}var Vg=He("<div><!></div>");function Fg(e,t){we(t,!0);let n=te(t,"store",15),r=M(()=>{let{data:q={},selected:B=!1,draggable:re,selectable:ie,deletable:ae=!0,connectable:j,focusable:U,hidden:oe=!1,dragging:se=!1,style:le="",class:ue,type:ce="default",parentId:de,sourcePosition:fe,targetPosition:he,measured:{width:ge,height:$e}={width:0,height:0},initialWidth:pe,initialHeight:ve,width:Ne,height:Ce,dragHandle:Pe,internals:{z:Ie=0,positionAbsolute:{x:Ee,y:De},userNode:ze}}=t.node;return q}),i=M(()=>{let{data:q={},selected:B=!1,draggable:re,selectable:ie,deletable:ae=!0,connectable:j,focusable:U,hidden:oe=!1,dragging:se=!1,style:le="",class:ue,type:ce="default",parentId:de,sourcePosition:fe,targetPosition:he,measured:{width:ge,height:$e}={width:0,height:0},initialWidth:pe,initialHeight:ve,width:Ne,height:Ce,dragHandle:Pe,internals:{z:Ie=0,positionAbsolute:{x:Ee,y:De},userNode:ze}}=t.node;return B}),s=M(()=>{let{data:q={},selected:B=!1,draggable:re,selectable:ie,deletable:ae=!0,connectable:j,focusable:U,hidden:oe=!1,dragging:se=!1,style:le="",class:ue,type:ce="default",parentId:de,sourcePosition:fe,targetPosition:he,measured:{width:ge,height:$e}={width:0,height:0},initialWidth:pe,initialHeight:ve,width:Ne,height:Ce,dragHandle:Pe,internals:{z:Ie=0,positionAbsolute:{x:Ee,y:De},userNode:ze}}=t.node;return re}),o=M(()=>{let{data:q={},selected:B=!1,draggable:re,selectable:ie,deletable:ae=!0,connectable:j,focusable:U,hidden:oe=!1,dragging:se=!1,style:le="",class:ue,type:ce="default",parentId:de,sourcePosition:fe,targetPosition:he,measured:{width:ge,height:$e}={width:0,height:0},initialWidth:pe,initialHeight:ve,width:Ne,height:Ce,dragHandle:Pe,internals:{z:Ie=0,positionAbsolute:{x:Ee,y:De},userNode:ze}}=t.node;return ie}),a=M(()=>{let{data:q={},selected:B=!1,draggable:re,selectable:ie,deletable:ae=!0,connectable:j,focusable:U,hidden:oe=!1,dragging:se=!1,style:le="",class:ue,type:ce="default",parentId:de,sourcePosition:fe,targetPosition:he,measured:{width:ge,height:$e}={width:0,height:0},initialWidth:pe,initialHeight:ve,width:Ne,height:Ce,dragHandle:Pe,internals:{z:Ie=0,positionAbsolute:{x:Ee,y:De},userNode:ze}}=t.node;return ae}),l=M(()=>{let{data:q={},selected:B=!1,draggable:re,selectable:ie,deletable:ae=!0,connectable:j,focusable:U,hidden:oe=!1,dragging:se=!1,style:le="",class:ue,type:ce="default",parentId:de,sourcePosition:fe,targetPosition:he,measured:{width:ge,height:$e}={width:0,height:0},initialWidth:pe,initialHeight:ve,width:Ne,height:Ce,dragHandle:Pe,internals:{z:Ie=0,positionAbsolute:{x:Ee,y:De},userNode:ze}}=t.node;return j}),c=M(()=>{let{data:q={},selected:B=!1,draggable:re,selectable:ie,deletable:ae=!0,connectable:j,focusable:U,hidden:oe=!1,dragging:se=!1,style:le="",class:ue,type:ce="default",parentId:de,sourcePosition:fe,targetPosition:he,measured:{width:ge,height:$e}={width:0,height:0},initialWidth:pe,initialHeight:ve,width:Ne,height:Ce,dragHandle:Pe,internals:{z:Ie=0,positionAbsolute:{x:Ee,y:De},userNode:ze}}=t.node;return U}),u=M(()=>{let{data:q={},selected:B=!1,draggable:re,selectable:ie,deletable:ae=!0,connectable:j,focusable:U,hidden:oe=!1,dragging:se=!1,style:le="",class:ue,type:ce="default",parentId:de,sourcePosition:fe,targetPosition:he,measured:{width:ge,height:$e}={width:0,height:0},initialWidth:pe,initialHeight:ve,width:Ne,height:Ce,dragHandle:Pe,internals:{z:Ie=0,positionAbsolute:{x:Ee,y:De},userNode:ze}}=t.node;return oe}),d=M(()=>{let{data:q={},selected:B=!1,draggable:re,selectable:ie,deletable:ae=!0,connectable:j,focusable:U,hidden:oe=!1,dragging:se=!1,style:le="",class:ue,type:ce="default",parentId:de,sourcePosition:fe,targetPosition:he,measured:{width:ge,height:$e}={width:0,height:0},initialWidth:pe,initialHeight:ve,width:Ne,height:Ce,dragHandle:Pe,internals:{z:Ie=0,positionAbsolute:{x:Ee,y:De},userNode:ze}}=t.node;return se}),f=M(()=>{let{data:q={},selected:B=!1,draggable:re,selectable:ie,deletable:ae=!0,connectable:j,focusable:U,hidden:oe=!1,dragging:se=!1,style:le="",class:ue,type:ce="default",parentId:de,sourcePosition:fe,targetPosition:he,measured:{width:ge,height:$e}={width:0,height:0},initialWidth:pe,initialHeight:ve,width:Ne,height:Ce,dragHandle:Pe,internals:{z:Ie=0,positionAbsolute:{x:Ee,y:De},userNode:ze}}=t.node;return le}),h=M(()=>{let{data:q={},selected:B=!1,draggable:re,selectable:ie,deletable:ae=!0,connectable:j,focusable:U,hidden:oe=!1,dragging:se=!1,style:le="",class:ue,type:ce="default",parentId:de,sourcePosition:fe,targetPosition:he,measured:{width:ge,height:$e}={width:0,height:0},initialWidth:pe,initialHeight:ve,width:Ne,height:Ce,dragHandle:Pe,internals:{z:Ie=0,positionAbsolute:{x:Ee,y:De},userNode:ze}}=t.node;return ue}),$=M(()=>{let{data:q={},selected:B=!1,draggable:re,selectable:ie,deletable:ae=!0,connectable:j,focusable:U,hidden:oe=!1,dragging:se=!1,style:le="",class:ue,type:ce="default",parentId:de,sourcePosition:fe,targetPosition:he,measured:{width:ge,height:$e}={width:0,height:0},initialWidth:pe,initialHeight:ve,width:Ne,height:Ce,dragHandle:Pe,internals:{z:Ie=0,positionAbsolute:{x:Ee,y:De},userNode:ze}}=t.node;return ce}),b=M(()=>{let{data:q={},selected:B=!1,draggable:re,selectable:ie,deletable:ae=!0,connectable:j,focusable:U,hidden:oe=!1,dragging:se=!1,style:le="",class:ue,type:ce="default",parentId:de,sourcePosition:fe,targetPosition:he,measured:{width:ge,height:$e}={width:0,height:0},initialWidth:pe,initialHeight:ve,width:Ne,height:Ce,dragHandle:Pe,internals:{z:Ie=0,positionAbsolute:{x:Ee,y:De},userNode:ze}}=t.node;return de}),v=M(()=>{let{data:q={},selected:B=!1,draggable:re,selectable:ie,deletable:ae=!0,connectable:j,focusable:U,hidden:oe=!1,dragging:se=!1,style:le="",class:ue,type:ce="default",parentId:de,sourcePosition:fe,targetPosition:he,measured:{width:ge,height:$e}={width:0,height:0},initialWidth:pe,initialHeight:ve,width:Ne,height:Ce,dragHandle:Pe,internals:{z:Ie=0,positionAbsolute:{x:Ee,y:De},userNode:ze}}=t.node;return fe}),m=M(()=>{let{data:q={},selected:B=!1,draggable:re,selectable:ie,deletable:ae=!0,connectable:j,focusable:U,hidden:oe=!1,dragging:se=!1,style:le="",class:ue,type:ce="default",parentId:de,sourcePosition:fe,targetPosition:he,measured:{width:ge,height:$e}={width:0,height:0},initialWidth:pe,initialHeight:ve,width:Ne,height:Ce,dragHandle:Pe,internals:{z:Ie=0,positionAbsolute:{x:Ee,y:De},userNode:ze}}=t.node;return he}),E=M(()=>{let{data:q={},selected:B=!1,draggable:re,selectable:ie,deletable:ae=!0,connectable:j,focusable:U,hidden:oe=!1,dragging:se=!1,style:le="",class:ue,type:ce="default",parentId:de,sourcePosition:fe,targetPosition:he,measured:{width:ge,height:$e}={width:0,height:0},initialWidth:pe,initialHeight:ve,width:Ne,height:Ce,dragHandle:Pe,internals:{z:Ie=0,positionAbsolute:{x:Ee,y:De},userNode:ze}}=t.node;return ge}),x=M(()=>{let{data:q={},selected:B=!1,draggable:re,selectable:ie,deletable:ae=!0,connectable:j,focusable:U,hidden:oe=!1,dragging:se=!1,style:le="",class:ue,type:ce="default",parentId:de,sourcePosition:fe,targetPosition:he,measured:{width:ge,height:$e}={width:0,height:0},initialWidth:pe,initialHeight:ve,width:Ne,height:Ce,dragHandle:Pe,internals:{z:Ie=0,positionAbsolute:{x:Ee,y:De},userNode:ze}}=t.node;return $e}),y=M(()=>{let{data:q={},selected:B=!1,draggable:re,selectable:ie,deletable:ae=!0,connectable:j,focusable:U,hidden:oe=!1,dragging:se=!1,style:le="",class:ue,type:ce="default",parentId:de,sourcePosition:fe,targetPosition:he,measured:{width:ge,height:$e}={width:0,height:0},initialWidth:pe,initialHeight:ve,width:Ne,height:Ce,dragHandle:Pe,internals:{z:Ie=0,positionAbsolute:{x:Ee,y:De},userNode:ze}}=t.node;return pe}),C=M(()=>{let{data:q={},selected:B=!1,draggable:re,selectable:ie,deletable:ae=!0,connectable:j,focusable:U,hidden:oe=!1,dragging:se=!1,style:le="",class:ue,type:ce="default",parentId:de,sourcePosition:fe,targetPosition:he,measured:{width:ge,height:$e}={width:0,height:0},initialWidth:pe,initialHeight:ve,width:Ne,height:Ce,dragHandle:Pe,internals:{z:Ie=0,positionAbsolute:{x:Ee,y:De},userNode:ze}}=t.node;return ve}),N=M(()=>{let{data:q={},selected:B=!1,draggable:re,selectable:ie,deletable:ae=!0,connectable:j,focusable:U,hidden:oe=!1,dragging:se=!1,style:le="",class:ue,type:ce="default",parentId:de,sourcePosition:fe,targetPosition:he,measured:{width:ge,height:$e}={width:0,height:0},initialWidth:pe,initialHeight:ve,width:Ne,height:Ce,dragHandle:Pe,internals:{z:Ie=0,positionAbsolute:{x:Ee,y:De},userNode:ze}}=t.node;return Ne}),D=M(()=>{let{data:q={},selected:B=!1,draggable:re,selectable:ie,deletable:ae=!0,connectable:j,focusable:U,hidden:oe=!1,dragging:se=!1,style:le="",class:ue,type:ce="default",parentId:de,sourcePosition:fe,targetPosition:he,measured:{width:ge,height:$e}={width:0,height:0},initialWidth:pe,initialHeight:ve,width:Ne,height:Ce,dragHandle:Pe,internals:{z:Ie=0,positionAbsolute:{x:Ee,y:De},userNode:ze}}=t.node;return Ce}),k=M(()=>{let{data:q={},selected:B=!1,draggable:re,selectable:ie,deletable:ae=!0,connectable:j,focusable:U,hidden:oe=!1,dragging:se=!1,style:le="",class:ue,type:ce="default",parentId:de,sourcePosition:fe,targetPosition:he,measured:{width:ge,height:$e}={width:0,height:0},initialWidth:pe,initialHeight:ve,width:Ne,height:Ce,dragHandle:Pe,internals:{z:Ie=0,positionAbsolute:{x:Ee,y:De},userNode:ze}}=t.node;return Pe}),O=M(()=>{let{data:q={},selected:B=!1,draggable:re,selectable:ie,deletable:ae=!0,connectable:j,focusable:U,hidden:oe=!1,dragging:se=!1,style:le="",class:ue,type:ce="default",parentId:de,sourcePosition:fe,targetPosition:he,measured:{width:ge,height:$e}={width:0,height:0},initialWidth:pe,initialHeight:ve,width:Ne,height:Ce,dragHandle:Pe,internals:{z:Ie=0,positionAbsolute:{x:Ee,y:De},userNode:ze}}=t.node;return Ie}),A=M(()=>{let{data:q={},selected:B=!1,draggable:re,selectable:ie,deletable:ae=!0,connectable:j,focusable:U,hidden:oe=!1,dragging:se=!1,style:le="",class:ue,type:ce="default",parentId:de,sourcePosition:fe,targetPosition:he,measured:{width:ge,height:$e}={width:0,height:0},initialWidth:pe,initialHeight:ve,width:Ne,height:Ce,dragHandle:Pe,internals:{z:Ie=0,positionAbsolute:{x:Ee,y:De},userNode:ze}}=t.node;return Ee}),w=M(()=>{let{data:q={},selected:B=!1,draggable:re,selectable:ie,deletable:ae=!0,connectable:j,focusable:U,hidden:oe=!1,dragging:se=!1,style:le="",class:ue,type:ce="default",parentId:de,sourcePosition:fe,targetPosition:he,measured:{width:ge,height:$e}={width:0,height:0},initialWidth:pe,initialHeight:ve,width:Ne,height:Ce,dragHandle:Pe,internals:{z:Ie=0,positionAbsolute:{x:Ee,y:De},userNode:ze}}=t.node;return De}),_=M(()=>{let{data:q={},selected:B=!1,draggable:re,selectable:ie,deletable:ae=!0,connectable:j,focusable:U,hidden:oe=!1,dragging:se=!1,style:le="",class:ue,type:ce="default",parentId:de,sourcePosition:fe,targetPosition:he,measured:{width:ge,height:$e}={width:0,height:0},initialWidth:pe,initialHeight:ve,width:Ne,height:Ce,dragHandle:Pe,internals:{z:Ie=0,positionAbsolute:{x:Ee,y:De},userNode:ze}}=t.node;return ze}),{id:T}=t.node,p=M(()=>g(s)??n().nodesDraggable),P=M(()=>g(o)??n().elementsSelectable),S=M(()=>g(l)??n().nodesConnectable),L=M(()=>b2(t.node)&&!!t.node.internals.handleBounds),Y=M(()=>g(c)??n().nodesFocusable);function X(q){return n().parentLookup.has(q)}let K=M(()=>X(T)),Z=xe(null),Q=null,z=g($),H=g(v),I=g(m),R=M(()=>n().nodeTypes[g($)]??Ru);Mn("svelteflow__node_connectable",{get value(){return g(S)}}),Mn("svelteflow__node_id",T);let F=M(()=>{const q=g(E)===void 0?g(N)??g(y):g(N),B=g(x)===void 0?g(D)??g(C):g(D);if(!(q===void 0&&B===void 0&&g(f)===void 0))return`${g(f)};${q?`width:${pt(q)};`:""}${B?`height:${pt(B)};`:""}`});Rt(()=>{(g($)!==z||g(v)!==H||g(m)!==I)&&g(Z)!==null&&requestAnimationFrame(()=>{g(Z)!==null&&n().updateNodeInternals(new Map([[T,{id:T,nodeElement:g(Z),force:!0}]]))}),z=g($),H=g(v),I=g(m)}),Rt(()=>{t.resizeObserver&&(!g(L)||g(Z)!==Q)&&(Q&&t.resizeObserver.unobserve(Q),g(Z)&&t.resizeObserver.observe(g(Z)),Q=g(Z))}),Br(()=>{Q&&t.resizeObserver?.unobserve(Q)});function G(q){if(!(ku(q)||n().disableKeyboardA11y))if(vu.includes(q.key)&&g(P)){const B=q.key==="Escape";n().handleNodeSelection(T,B,g(Z))}else g(p)&&t.node.selected&&Object.prototype.hasOwnProperty.call(Or,q.key)&&(q.preventDefault(),n(n().ariaLiveMessage=`Moved selected node ${q.key.replace("Arrow","").toLowerCase()}. New position, x: ${t.node.internals.positionAbsolute.x}, y: ${t.node.internals.positionAbsolute.y}`,!0),n().moveSelectedNodes(Or[q.key],q.shiftKey?4:1))}var J=Ft(),ne=Le(J);{var ee=q=>{var B=Vg();ye(B,"data-id",T);let re,ie;B.__click=[Lg,P,n,p,T,t,_],B.__pointermove=function(...j){(t.onnodepointermove?U=>t.onnodepointermove({node:g(_),event:U}):void 0)?.apply(this,j)},B.__contextmenu=function(...j){(t.onnodecontextmenu?U=>t.onnodecontextmenu({node:g(_),event:U}):void 0)?.apply(this,j)},B.__keydown=function(...j){(g(Y)?G:void 0)?.apply(this,j)};var ae=Se(B);Vo(ae,()=>g(R),(j,U)=>{U(j,{get data(){return g(r)},id:T,get selected(){return g(i)},get selectable(){return g(P)},get deletable(){return g(a)},get sourcePosition(){return g(v)},get targetPosition(){return g(m)},get zIndex(){return g(O)},get dragging(){return g(d)},get draggable(){return g(p)},get dragHandle(){return g(k)},get parentId(){return g(b)},get type(){return g($)},get isConnectable(){return g(S)},get positionAbsoluteX(){return g(A)},get positionAbsoluteY(){return g(w)},get width(){return g(N)},get height(){return g(D)}})}),Be(B,(j,U)=>qu?.(j,U),()=>({nodeId:T,isSelectable:g(P),disabled:!g(p),handleSelector:g(k),noDragClass:n().noDragClass,nodeClickDistance:t.nodeClickDistance,onNodeMouseDown:n().handleNodeSelection,onDrag:(j,U,oe,se)=>{t.onnodedrag?.({event:j,targetNode:oe,nodes:se})},onDragStart:(j,U,oe,se)=>{t.onnodedragstart?.({event:j,targetNode:oe,nodes:se})},onDragStop:(j,U,oe,se)=>{t.onnodedragstop?.({event:j,targetNode:oe,nodes:se})},store:n()})),_n(B,j=>W(Z,j),()=>g(Z)),Me(j=>{re=lt(B,1,Pt(["svelte-flow__node",`svelte-flow__node-${g($)}`,g(h)]),null,re,j),ie=et(B,g(F),ie,{"z-index":g(O),transform:`translate(${g(A)??""}px, ${g(w)??""}px)`,visibility:g(L)?"visible":"hidden"}),ye(B,"tabindex",g(Y)?0:void 0),ye(B,"role",g(Y)?"button":void 0),ye(B,"aria-describedby",n().disableKeyboardA11y?void 0:`${Wu}-${n().flowId}`)},[()=>({dragging:g(d),selected:g(i),draggable:g(p),connectable:g(S),selectable:g(P),nopan:g(p),parent:g(K)})]),ln("pointerenter",B,function(...j){(t.onnodepointerenter?U=>t.onnodepointerenter({node:g(_),event:U}):void 0)?.apply(this,j)}),ln("pointerleave",B,function(...j){(t.onnodepointerleave?U=>t.onnodepointerleave({node:g(_),event:U}):void 0)?.apply(this,j)}),me(q,B)};Ye(ne,q=>{g(u)||q(ee)})}me(e,J),_e()}jt(["click","pointermove","contextmenu","keydown"]);var Yg=He('<div class="svelte-flow__nodes"></div>');function qg(e,t){we(t,!0);let n=te(t,"store",15);const r=typeof ResizeObserver>"u"?null:new ResizeObserver(s=>{const o=new Map;s.forEach(a=>{const l=a.target.getAttribute("data-id");o.set(l,{id:l,nodeElement:a.target,force:!0})}),n().updateNodeInternals(o)});Br(()=>{r?.disconnect()});var i=Yg();Lo(i,21,()=>n().visible.nodes.values(),s=>s.id,(s,o)=>{Fg(s,{get node(){return g(o)},resizeObserver:r,get nodeClickDistance(){return t.nodeClickDistance},get onnodeclick(){return t.onnodeclick},get onnodepointerenter(){return t.onnodepointerenter},get onnodepointermove(){return t.onnodepointermove},get onnodepointerleave(){return t.onnodepointerleave},get onnodedrag(){return t.onnodedrag},get onnodedragstart(){return t.onnodedragstart},get onnodedragstop(){return t.onnodedragstop},get onnodecontextmenu(){return t.onnodecontextmenu},get store(){return n()},set store(a){n(a)}})}),me(e,i),_e()}var Wg=tt('<svg class="svelte-flow__edge-wrapper"><g><!></g></svg>');function Bg(e,t){we(t,!0);let n=M(()=>{let{source:I,target:R,sourceX:V,sourceY:F,targetX:G,targetY:J,sourcePosition:ne,targetPosition:ee,animated:q=!1,selected:B=!1,label:re,labelStyle:ie,data:ae={},style:j,interactionWidth:U,type:oe="default",sourceHandle:se,targetHandle:le,markerStart:ue,markerEnd:ce,selectable:de,focusable:fe,deletable:he=!0,hidden:ge,zIndex:$e,class:pe,ariaLabel:ve}=t.edge;return I}),r=M(()=>{let{source:I,target:R,sourceX:V,sourceY:F,targetX:G,targetY:J,sourcePosition:ne,targetPosition:ee,animated:q=!1,selected:B=!1,label:re,labelStyle:ie,data:ae={},style:j,interactionWidth:U,type:oe="default",sourceHandle:se,targetHandle:le,markerStart:ue,markerEnd:ce,selectable:de,focusable:fe,deletable:he=!0,hidden:ge,zIndex:$e,class:pe,ariaLabel:ve}=t.edge;return R}),i=M(()=>{let{source:I,target:R,sourceX:V,sourceY:F,targetX:G,targetY:J,sourcePosition:ne,targetPosition:ee,animated:q=!1,selected:B=!1,label:re,labelStyle:ie,data:ae={},style:j,interactionWidth:U,type:oe="default",sourceHandle:se,targetHandle:le,markerStart:ue,markerEnd:ce,selectable:de,focusable:fe,deletable:he=!0,hidden:ge,zIndex:$e,class:pe,ariaLabel:ve}=t.edge;return V}),s=M(()=>{let{source:I,target:R,sourceX:V,sourceY:F,targetX:G,targetY:J,sourcePosition:ne,targetPosition:ee,animated:q=!1,selected:B=!1,label:re,labelStyle:ie,data:ae={},style:j,interactionWidth:U,type:oe="default",sourceHandle:se,targetHandle:le,markerStart:ue,markerEnd:ce,selectable:de,focusable:fe,deletable:he=!0,hidden:ge,zIndex:$e,class:pe,ariaLabel:ve}=t.edge;return F}),o=M(()=>{let{source:I,target:R,sourceX:V,sourceY:F,targetX:G,targetY:J,sourcePosition:ne,targetPosition:ee,animated:q=!1,selected:B=!1,label:re,labelStyle:ie,data:ae={},style:j,interactionWidth:U,type:oe="default",sourceHandle:se,targetHandle:le,markerStart:ue,markerEnd:ce,selectable:de,focusable:fe,deletable:he=!0,hidden:ge,zIndex:$e,class:pe,ariaLabel:ve}=t.edge;return G}),a=M(()=>{let{source:I,target:R,sourceX:V,sourceY:F,targetX:G,targetY:J,sourcePosition:ne,targetPosition:ee,animated:q=!1,selected:B=!1,label:re,labelStyle:ie,data:ae={},style:j,interactionWidth:U,type:oe="default",sourceHandle:se,targetHandle:le,markerStart:ue,markerEnd:ce,selectable:de,focusable:fe,deletable:he=!0,hidden:ge,zIndex:$e,class:pe,ariaLabel:ve}=t.edge;return J}),l=M(()=>{let{source:I,target:R,sourceX:V,sourceY:F,targetX:G,targetY:J,sourcePosition:ne,targetPosition:ee,animated:q=!1,selected:B=!1,label:re,labelStyle:ie,data:ae={},style:j,interactionWidth:U,type:oe="default",sourceHandle:se,targetHandle:le,markerStart:ue,markerEnd:ce,selectable:de,focusable:fe,deletable:he=!0,hidden:ge,zIndex:$e,class:pe,ariaLabel:ve}=t.edge;return ne}),c=M(()=>{let{source:I,target:R,sourceX:V,sourceY:F,targetX:G,targetY:J,sourcePosition:ne,targetPosition:ee,animated:q=!1,selected:B=!1,label:re,labelStyle:ie,data:ae={},style:j,interactionWidth:U,type:oe="default",sourceHandle:se,targetHandle:le,markerStart:ue,markerEnd:ce,selectable:de,focusable:fe,deletable:he=!0,hidden:ge,zIndex:$e,class:pe,ariaLabel:ve}=t.edge;return ee}),u=M(()=>{let{source:I,target:R,sourceX:V,sourceY:F,targetX:G,targetY:J,sourcePosition:ne,targetPosition:ee,animated:q=!1,selected:B=!1,label:re,labelStyle:ie,data:ae={},style:j,interactionWidth:U,type:oe="default",sourceHandle:se,targetHandle:le,markerStart:ue,markerEnd:ce,selectable:de,focusable:fe,deletable:he=!0,hidden:ge,zIndex:$e,class:pe,ariaLabel:ve}=t.edge;return q}),d=M(()=>{let{source:I,target:R,sourceX:V,sourceY:F,targetX:G,targetY:J,sourcePosition:ne,targetPosition:ee,animated:q=!1,selected:B=!1,label:re,labelStyle:ie,data:ae={},style:j,interactionWidth:U,type:oe="default",sourceHandle:se,targetHandle:le,markerStart:ue,markerEnd:ce,selectable:de,focusable:fe,deletable:he=!0,hidden:ge,zIndex:$e,class:pe,ariaLabel:ve}=t.edge;return B}),f=M(()=>{let{source:I,target:R,sourceX:V,sourceY:F,targetX:G,targetY:J,sourcePosition:ne,targetPosition:ee,animated:q=!1,selected:B=!1,label:re,labelStyle:ie,data:ae={},style:j,interactionWidth:U,type:oe="default",sourceHandle:se,targetHandle:le,markerStart:ue,markerEnd:ce,selectable:de,focusable:fe,deletable:he=!0,hidden:ge,zIndex:$e,class:pe,ariaLabel:ve}=t.edge;return re}),h=M(()=>{let{source:I,target:R,sourceX:V,sourceY:F,targetX:G,targetY:J,sourcePosition:ne,targetPosition:ee,animated:q=!1,selected:B=!1,label:re,labelStyle:ie,data:ae={},style:j,interactionWidth:U,type:oe="default",sourceHandle:se,targetHandle:le,markerStart:ue,markerEnd:ce,selectable:de,focusable:fe,deletable:he=!0,hidden:ge,zIndex:$e,class:pe,ariaLabel:ve}=t.edge;return ie}),$=M(()=>{let{source:I,target:R,sourceX:V,sourceY:F,targetX:G,targetY:J,sourcePosition:ne,targetPosition:ee,animated:q=!1,selected:B=!1,label:re,labelStyle:ie,data:ae={},style:j,interactionWidth:U,type:oe="default",sourceHandle:se,targetHandle:le,markerStart:ue,markerEnd:ce,selectable:de,focusable:fe,deletable:he=!0,hidden:ge,zIndex:$e,class:pe,ariaLabel:ve}=t.edge;return ae}),b=M(()=>{let{source:I,target:R,sourceX:V,sourceY:F,targetX:G,targetY:J,sourcePosition:ne,targetPosition:ee,animated:q=!1,selected:B=!1,label:re,labelStyle:ie,data:ae={},style:j,interactionWidth:U,type:oe="default",sourceHandle:se,targetHandle:le,markerStart:ue,markerEnd:ce,selectable:de,focusable:fe,deletable:he=!0,hidden:ge,zIndex:$e,class:pe,ariaLabel:ve}=t.edge;return j}),v=M(()=>{let{source:I,target:R,sourceX:V,sourceY:F,targetX:G,targetY:J,sourcePosition:ne,targetPosition:ee,animated:q=!1,selected:B=!1,label:re,labelStyle:ie,data:ae={},style:j,interactionWidth:U,type:oe="default",sourceHandle:se,targetHandle:le,markerStart:ue,markerEnd:ce,selectable:de,focusable:fe,deletable:he=!0,hidden:ge,zIndex:$e,class:pe,ariaLabel:ve}=t.edge;return U}),m=M(()=>{let{source:I,target:R,sourceX:V,sourceY:F,targetX:G,targetY:J,sourcePosition:ne,targetPosition:ee,animated:q=!1,selected:B=!1,label:re,labelStyle:ie,data:ae={},style:j,interactionWidth:U,type:oe="default",sourceHandle:se,targetHandle:le,markerStart:ue,markerEnd:ce,selectable:de,focusable:fe,deletable:he=!0,hidden:ge,zIndex:$e,class:pe,ariaLabel:ve}=t.edge;return oe}),E=M(()=>{let{source:I,target:R,sourceX:V,sourceY:F,targetX:G,targetY:J,sourcePosition:ne,targetPosition:ee,animated:q=!1,selected:B=!1,label:re,labelStyle:ie,data:ae={},style:j,interactionWidth:U,type:oe="default",sourceHandle:se,targetHandle:le,markerStart:ue,markerEnd:ce,selectable:de,focusable:fe,deletable:he=!0,hidden:ge,zIndex:$e,class:pe,ariaLabel:ve}=t.edge;return se}),x=M(()=>{let{source:I,target:R,sourceX:V,sourceY:F,targetX:G,targetY:J,sourcePosition:ne,targetPosition:ee,animated:q=!1,selected:B=!1,label:re,labelStyle:ie,data:ae={},style:j,interactionWidth:U,type:oe="default",sourceHandle:se,targetHandle:le,markerStart:ue,markerEnd:ce,selectable:de,focusable:fe,deletable:he=!0,hidden:ge,zIndex:$e,class:pe,ariaLabel:ve}=t.edge;return le}),y=M(()=>{let{source:I,target:R,sourceX:V,sourceY:F,targetX:G,targetY:J,sourcePosition:ne,targetPosition:ee,animated:q=!1,selected:B=!1,label:re,labelStyle:ie,data:ae={},style:j,interactionWidth:U,type:oe="default",sourceHandle:se,targetHandle:le,markerStart:ue,markerEnd:ce,selectable:de,focusable:fe,deletable:he=!0,hidden:ge,zIndex:$e,class:pe,ariaLabel:ve}=t.edge;return ue}),C=M(()=>{let{source:I,target:R,sourceX:V,sourceY:F,targetX:G,targetY:J,sourcePosition:ne,targetPosition:ee,animated:q=!1,selected:B=!1,label:re,labelStyle:ie,data:ae={},style:j,interactionWidth:U,type:oe="default",sourceHandle:se,targetHandle:le,markerStart:ue,markerEnd:ce,selectable:de,focusable:fe,deletable:he=!0,hidden:ge,zIndex:$e,class:pe,ariaLabel:ve}=t.edge;return ce}),N=M(()=>{let{source:I,target:R,sourceX:V,sourceY:F,targetX:G,targetY:J,sourcePosition:ne,targetPosition:ee,animated:q=!1,selected:B=!1,label:re,labelStyle:ie,data:ae={},style:j,interactionWidth:U,type:oe="default",sourceHandle:se,targetHandle:le,markerStart:ue,markerEnd:ce,selectable:de,focusable:fe,deletable:he=!0,hidden:ge,zIndex:$e,class:pe,ariaLabel:ve}=t.edge;return de}),D=M(()=>{let{source:I,target:R,sourceX:V,sourceY:F,targetX:G,targetY:J,sourcePosition:ne,targetPosition:ee,animated:q=!1,selected:B=!1,label:re,labelStyle:ie,data:ae={},style:j,interactionWidth:U,type:oe="default",sourceHandle:se,targetHandle:le,markerStart:ue,markerEnd:ce,selectable:de,focusable:fe,deletable:he=!0,hidden:ge,zIndex:$e,class:pe,ariaLabel:ve}=t.edge;return fe}),k=M(()=>{let{source:I,target:R,sourceX:V,sourceY:F,targetX:G,targetY:J,sourcePosition:ne,targetPosition:ee,animated:q=!1,selected:B=!1,label:re,labelStyle:ie,data:ae={},style:j,interactionWidth:U,type:oe="default",sourceHandle:se,targetHandle:le,markerStart:ue,markerEnd:ce,selectable:de,focusable:fe,deletable:he=!0,hidden:ge,zIndex:$e,class:pe,ariaLabel:ve}=t.edge;return he}),O=M(()=>{let{source:I,target:R,sourceX:V,sourceY:F,targetX:G,targetY:J,sourcePosition:ne,targetPosition:ee,animated:q=!1,selected:B=!1,label:re,labelStyle:ie,data:ae={},style:j,interactionWidth:U,type:oe="default",sourceHandle:se,targetHandle:le,markerStart:ue,markerEnd:ce,selectable:de,focusable:fe,deletable:he=!0,hidden:ge,zIndex:$e,class:pe,ariaLabel:ve}=t.edge;return ge}),A=M(()=>{let{source:I,target:R,sourceX:V,sourceY:F,targetX:G,targetY:J,sourcePosition:ne,targetPosition:ee,animated:q=!1,selected:B=!1,label:re,labelStyle:ie,data:ae={},style:j,interactionWidth:U,type:oe="default",sourceHandle:se,targetHandle:le,markerStart:ue,markerEnd:ce,selectable:de,focusable:fe,deletable:he=!0,hidden:ge,zIndex:$e,class:pe,ariaLabel:ve}=t.edge;return $e}),w=M(()=>{let{source:I,target:R,sourceX:V,sourceY:F,targetX:G,targetY:J,sourcePosition:ne,targetPosition:ee,animated:q=!1,selected:B=!1,label:re,labelStyle:ie,data:ae={},style:j,interactionWidth:U,type:oe="default",sourceHandle:se,targetHandle:le,markerStart:ue,markerEnd:ce,selectable:de,focusable:fe,deletable:he=!0,hidden:ge,zIndex:$e,class:pe,ariaLabel:ve}=t.edge;return pe}),_=M(()=>{let{source:I,target:R,sourceX:V,sourceY:F,targetX:G,targetY:J,sourcePosition:ne,targetPosition:ee,animated:q=!1,selected:B=!1,label:re,labelStyle:ie,data:ae={},style:j,interactionWidth:U,type:oe="default",sourceHandle:se,targetHandle:le,markerStart:ue,markerEnd:ce,selectable:de,focusable:fe,deletable:he=!0,hidden:ge,zIndex:$e,class:pe,ariaLabel:ve}=t.edge;return ve}),T=null;const{id:p}=t.edge;Mn("svelteflow__edge_id",p);let P=M(()=>g(N)??t.store.elementsSelectable),S=M(()=>g(D)??t.store.edgesFocusable),L=M(()=>t.store.edgeTypes[g(m)]??Lu),Y=M(()=>g(y)?`url('#${So(g(y),t.store.flowId)}')`:void 0),X=M(()=>g(C)?`url('#${So(g(C),t.store.flowId)}')`:void 0);function K(I){const R=t.store.edgeLookup.get(p);R&&(g(P)&&t.store.handleEdgeSelection(p),t.onedgeclick?.({event:I,edge:R}))}function Z(I,R){const V=t.store.edgeLookup.get(p);V&&R({event:I,edge:V})}onkeydown=I=>{if(!t.store.disableKeyboardA11y&&vu.includes(I.key)&&g(P)){const{unselectNodesAndEdges:R,addSelectedEdges:V}=t.store;I.key==="Escape"?(T?.blur(),R({edges:[t.edge]})):V([p])}};var Q=Ft(),z=Le(Q);{var H=I=>{var R=Wg();let V;var F=Se(R);let G;ye(F,"data-id",p),F.__click=K,F.__contextmenu=function(...ne){(t.onedgecontextmenu?ee=>{Z(ee,t.onedgecontextmenu)}:void 0)?.apply(this,ne)},F.__keydown=function(...ne){(g(S)?onkeydown:void 0)?.apply(this,ne)};var J=Se(F);Vo(J,()=>g(L),(ne,ee)=>{ee(ne,{id:p,get source(){return g(n)},get target(){return g(r)},get sourceX(){return g(i)},get sourceY(){return g(s)},get targetX(){return g(o)},get targetY(){return g(a)},get sourcePosition(){return g(l)},get targetPosition(){return g(c)},get animated(){return g(u)},get selected(){return g(d)},get label(){return g(f)},get labelStyle(){return g(h)},get data(){return g($)},get style(){return g(b)},get interactionWidth(){return g(v)},get selectable(){return g(P)},get deletable(){return g(k)},get type(){return g(m)},get sourceHandleId(){return g(E)},get targetHandleId(){return g(x)},get markerStart(){return g(Y)},get markerEnd(){return g(X)}})}),_n(F,ne=>T=ne,()=>T),Me(ne=>{V=et(R,"",V,{"z-index":g(A)}),G=lt(F,0,Pt(["svelte-flow__edge",g(w)]),null,G,ne),ye(F,"aria-label",g(_)===null?void 0:g(_)?g(_):`Edge from ${g(n)} to ${g(r)}`),ye(F,"aria-describedby",g(S)?`${Bu}-${t.store.flowId}`:void 0),ye(F,"role",g(S)?"button":"img"),ye(F,"tabindex",g(S)?0:void 0)},[()=>({animated:g(u),selected:g(d),selectable:g(P)})]),ln("pointerenter",F,function(...ne){(t.onedgepointerenter?ee=>{Z(ee,t.onedgepointerenter)}:void 0)?.apply(this,ne)}),ln("pointerleave",F,function(...ne){(t.onedgepointerleave?ee=>{Z(ee,t.onedgepointerleave)}:void 0)?.apply(this,ne)}),me(I,R)};Ye(z,I=>{g(O)||I(H)})}me(e,Q),_e()}jt(["click","contextmenu","keydown"]);var Xg=tt("<defs></defs>");function Kg(e,t){we(t,!1);const n=Ut();bd();var r=Xg();Lo(r,5,()=>n.markers,i=>i.id,(i,s)=>{Ug(i,Sd(()=>g(s)))}),me(e,r),_e()}var jg=tt('<polyline stroke-linecap="round" stroke-linejoin="round" fill="none" points="-5,-4 0,0 -5,4"></polyline>'),Zg=tt('<polyline stroke-linecap="round" stroke-linejoin="round" points="-5,-4 0,0 -5,4 -5,-4"></polyline>'),Gg=tt('<marker class="svelte-flow__arrowhead" viewBox="-10 -10 20 20" refX="0" refY="0"><!></marker>');function Ug(e,t){we(t,!0);let n=te(t,"width",3,12.5),r=te(t,"height",3,12.5),i=te(t,"markerUnits",3,"strokeWidth"),s=te(t,"orient",3,"auto-start-reverse");var o=Gg(),a=Se(o);{var l=u=>{var d=jg();Me(()=>{ye(d,"stroke",t.color),ye(d,"stroke-width",t.strokeWidth)}),me(u,d)},c=(u,d)=>{{var f=h=>{var $=Zg();Me(()=>{ye($,"stroke",t.color),ye($,"stroke-width",t.strokeWidth),ye($,"fill",t.color)}),me(h,$)};Ye(u,h=>{t.type===Nr.ArrowClosed&&h(f)},d)}};Ye(a,u=>{t.type===Nr.Arrow?u(l):u(c,!1)})}Me(()=>{ye(o,"id",t.id),ye(o,"markerWidth",`${n()}`),ye(o,"markerHeight",`${r()}`),ye(o,"markerUnits",i()),ye(o,"orient",s())}),me(e,o),_e()}var Qg=He('<div class="svelte-flow__edges"><svg class="svelte-flow__marker"><!></svg> <!></div>');function Jg(e,t){we(t,!0);let n=te(t,"store",15);var r=Qg(),i=Se(r),s=Se(i);Kg(s,{});var o=ke(i,2);Lo(o,17,()=>n().visible.edges.values(),a=>a.id,(a,l)=>{Bg(a,{get edge(){return g(l)},get onedgeclick(){return t.onedgeclick},get onedgecontextmenu(){return t.onedgecontextmenu},get onedgepointerenter(){return t.onedgepointerenter},get onedgepointerleave(){return t.onedgepointerleave},get store(){return n()},set store(c){n(c)}})}),me(e,r),_e()}var e$=He('<div class="svelte-flow__selection svelte-1iugwpu"></div>');function Xu(e,t){we(t,!0);let n=te(t,"x",3,0),r=te(t,"y",3,0),i=te(t,"width",3,0),s=te(t,"height",3,0),o=te(t,"isVisible",3,!0);var a=Ft(),l=Le(a);{var c=u=>{var d=e$();let f;Me((h,$)=>f=et(d,"",f,{width:h,height:$,transform:`translate(${n()}px, ${r()}px)`}),[()=>typeof i()=="string"?i():pt(i()),()=>typeof s()=="string"?s():pt(s())]),me(u,d)};Ye(l,u=>{o()&&u(c)})}me(e,a),_e()}function t$(e,t){const n=t.store.nodes.filter(r=>r.selected);t.onselectioncontextmenu?.({nodes:n,event:e})}function n$(e,t){const n=t.store.nodes.filter(r=>r.selected);t.onselectionclick?.({nodes:n,event:e})}var r$=He("<div><!></div>");function i$(e,t){we(t,!0);let n=xe(void 0);Rt(()=>{t.store.disableKeyboardA11y||g(n)?.focus({preventScroll:!0})});let r=M(()=>t.store.selectionRectMode==="nodes"?(t.store.nodes,Ur(t.store.nodeLookup,{filter:l=>!!l.selected})):null);function i(l){Object.prototype.hasOwnProperty.call(Or,l.key)&&(l.preventDefault(),t.store.moveSelectedNodes(Or[l.key],l.shiftKey?4:1))}var s=Ft(),o=Le(s);{var a=l=>{var c=r$();c.__contextmenu=[t$,t],c.__click=[n$,t],c.__keydown=function(...f){(t.store.disableKeyboardA11y?void 0:i)?.apply(this,f)};let u;var d=Se(c);Xu(d,{width:"100%",height:"100%",x:0,y:0}),Be(c,(f,h)=>qu?.(f,h),()=>({disabled:!1,store:t.store,onDrag:(f,h,$,b)=>{t.onnodedrag?.({event:f,targetNode:null,nodes:b})},onDragStart:(f,h,$,b)=>{t.onnodedragstart?.({event:f,targetNode:null,nodes:b})},onDragStop:(f,h,$,b)=>{t.onnodedragstop?.({event:f,targetNode:null,nodes:b})}})),_n(c,f=>W(n,f),()=>g(n)),Me((f,h)=>{lt(c,1,Pt(["svelte-flow__selection-wrapper",t.store.noPanClass]),"svelte-16qgzgd"),ye(c,"role",t.store.disableKeyboardA11y?void 0:"button"),ye(c,"tabindex",t.store.disableKeyboardA11y?void 0:-1),u=et(c,"",u,{width:f,height:h,transform:`translate(${g(r).x??""}px, ${g(r).y??""}px)`})},[()=>pt(g(r).width),()=>pt(g(r).height)]),me(l,c)};Ye(o,l=>{t.store.selectionRectMode==="nodes"&&g(r)&&_t(g(r).x)&&_t(g(r).y)&&l(a)})}me(e,s),_e()}jt(["contextmenu","click","keydown"]);function o$(e){switch(e){case"ctrl":return 8;case"shift":return 4;case"alt":return 2;case"meta":return 1}}function ct(e,t){let{enabled:n=!0,trigger:r,type:i="keydown"}=t;function s(a){const l=Array.isArray(r)?r:[r],c=[a.metaKey,a.altKey,a.shiftKey,a.ctrlKey].reduce((u,d,f)=>d?u|1<<f:u,0);for(const u of l){const d={preventDefault:!1,enabled:!0,...u},{modifier:f,key:h,callback:$,preventDefault:b,enabled:v}=d;if(v){if(a.key!==h)continue;if(f===null||f===!1){if(c!==0)continue}else if(f!==void 0&&f?.[0]?.length>0){const E=Array.isArray(f)?f:[f];let x=!1;for(const y of E)if((Array.isArray(y)?y:[y]).reduce((N,D)=>N|o$(D),0)===c){x=!0;break}if(!x)continue}b&&a.preventDefault();const m={node:e,trigger:d,originalEvent:a};e.dispatchEvent(new CustomEvent("shortcut",{detail:m})),$?.(m)}}}let o;return n&&(o=ho(e,i,s)),{update:a=>{const{enabled:l=!0,type:c="keydown"}=a;n&&(!l||i!==c)?o?.():!n&&l&&(o=ho(e,c,s)),n=l,i=c,r=a.trigger},destroy:()=>{o?.()}}}function Ku(){const e=M(Ut),t=s=>{const o=Us(s)?s:g(e).nodeLookup.get(s.id),a=o.parentId?w2(o.position,o.measured,o.parentId,g(e).nodeLookup,g(e).nodeOrigin):o.position,l={...o,position:a,width:o.measured?.width??o.width,height:o.measured?.height??o.height};return gn(l)};function n(s,o,a={replace:!1}){g(e).nodes=Fe(()=>g(e).nodes).map(l=>{if(l.id===s){const c=typeof o=="function"?o(l):o;return a?.replace&&Us(c)?c:{...l,...c}}return l})}function r(s,o,a={replace:!1}){g(e).edges=Fe(()=>g(e).edges).map(l=>{if(l.id===s){const c=typeof o=="function"?o(l):o;return a.replace&&fg(c)?c:{...l,...c}}return l})}const i=s=>g(e).nodeLookup.get(s);return{zoomIn:g(e).zoomIn,zoomOut:g(e).zoomOut,getInternalNode:i,getNode:s=>i(s)?.internals.userNode,getNodes:s=>s===void 0?g(e).nodes:na(g(e).nodeLookup,s),getEdge:s=>g(e).edgeLookup.get(s),getEdges:s=>s===void 0?g(e).edges:na(g(e).edgeLookup,s),setZoom:(s,o)=>{const a=g(e).panZoom;return a?a.scaleTo(s,{duration:o?.duration}):Promise.resolve(!1)},getZoom:()=>g(e).viewport.zoom,setViewport:async(s,o)=>{const a=g(e).viewport;return g(e).panZoom?(await g(e).panZoom.setViewport({x:s.x??a.x,y:s.y??a.y,zoom:s.zoom??a.zoom},{duration:o?.duration}),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>ll(g(e).viewport),setCenter:async(s,o,a)=>{const l=typeof a?.zoom<"u"?a.zoom:g(e).maxZoom,c=g(e).panZoom;return c?(await c.setViewport({x:g(e).width/2-s*l,y:g(e).height/2-o*l,zoom:l},{duration:a?.duration}),Promise.resolve(!0)):Promise.resolve(!1)},fitView:s=>g(e).fitView(s),fitBounds:async(s,o)=>{if(!g(e).panZoom)return Promise.resolve(!1);const a=Zo(s,g(e).width,g(e).height,g(e).minZoom,g(e).maxZoom,o?.padding??.1);return await g(e).panZoom.setViewport(a,{duration:o?.duration}),Promise.resolve(!0)},getIntersectingNodes:(s,o=!0,a)=>{const l=Rs(s),c=l?s:t(s);return c?(a||g(e).nodes).filter(u=>{const d=g(e).nodeLookup.get(u.id);if(!d||!l&&u.id===s.id)return!1;const f=gn(d),h=Yn(f,c);return o&&h>0||h>=c.width*c.height}):[]},isNodeIntersecting:(s,o,a=!0)=>{const c=Rs(s)?s:t(s);if(!c)return!1;const u=Yn(c,o);return a&&u>0||u>=c.width*c.height},deleteElements:async({nodes:s=[],edges:o=[]})=>{const{nodes:a,edges:l}=await $2({nodesToRemove:s,edgesToRemove:o,nodes:g(e).nodes,edges:g(e).edges,onBeforeDelete:g(e).onbeforedelete});return a&&(g(e).nodes=Fe(()=>g(e).nodes).filter(c=>!a.some(({id:u})=>u===c.id))),l&&(g(e).edges=Fe(()=>g(e).edges).filter(c=>!l.some(({id:u})=>u===c.id))),{deletedNodes:a,deletedEdges:l}},screenToFlowPosition:(s,o={snapToGrid:!0})=>{if(!g(e).domNode)return s;const a=o.snapToGrid?g(e).snapGrid:!1,{x:l,y:c,zoom:u}=g(e).viewport,{x:d,y:f}=g(e).domNode.getBoundingClientRect(),h={x:s.x-d,y:s.y-f};return Qn(h,[l,c,u],a!==null,a||[1,1])},flowToScreenPosition:s=>{if(!g(e).domNode)return s;const{x:o,y:a,zoom:l}=g(e).viewport,{x:c,y:u}=g(e).domNode.getBoundingClientRect(),d=Pr(s,[o,a,l]);return{x:d.x+c,y:d.y+u}},toObject:()=>structuredClone({nodes:[...g(e).nodes],edges:[...g(e).edges],viewport:{...g(e).viewport}}),updateNode:n,updateNodeData:(s,o,a)=>{const l=g(e).nodeLookup.get(s)?.internals.userNode;if(!l)return;const c=typeof o=="function"?o(l):o;n(s,u=>({...u,data:a?.replace?c:{...u.data,...c}}))},updateEdge:r,getNodesBounds:s=>d2(s,{nodeLookup:g(e).nodeLookup,nodeOrigin:g(e).nodeOrigin}),getHandleConnections:({type:s,id:o,nodeId:a})=>Array.from(g(e).connectionLookup.get(`${a}-${s}-${o??null}`)?.values()??[])}}function na(e,t){const n=[];for(const r of t){const i=e.get(r);if(i){const s="internals"in i?i.internals?.userNode:i;n.push(s)}}return n}function s$(e,t){we(t,!0);let n=te(t,"store",15),r=te(t,"selectionKey",3,"Shift"),i=te(t,"multiSelectionKey",19,()=>Ir()?"Meta":"Control"),s=te(t,"deleteKey",3,"Backspace"),o=te(t,"panActivationKey",3," "),a=te(t,"zoomActivationKey",19,()=>Ir()?"Meta":"Control"),{deleteElements:l}=Ku();function c(b){return b!==null&&typeof b=="object"}function u(b){return c(b)?b.modifier||[]:[]}function d(b){return b==null?"":c(b)?b.key:b}function f(b,v){return(Array.isArray(b)?b:[b]).map(E=>{const x=d(E);return{key:x,modifier:u(E),enabled:x!==null,callback:v}})}function h(){n(n().selectionRect=null,!0),n(n().selectionKeyPressed=!1,!0),n(n().multiselectionKeyPressed=!1,!0),n(n().deleteKeyPressed=!1,!0),n(n().panActivationKeyPressed=!1,!0),n(n().zoomActivationKeyPressed=!1,!0)}async function $(){const b=n().nodes.filter(x=>x.selected),v=n().edges.filter(x=>x.selected),{deletedNodes:m,deletedEdges:E}=await l({nodes:b,edges:v});(m.length>0||E.length>0)&&n().ondelete?.({nodes:m,edges:E})}ln("blur",We,h),ln("contextmenu",We,h),Be(We,(b,v)=>ct?.(b,v),()=>({trigger:f(r(),()=>n(n().selectionKeyPressed=!0,!0)),type:"keydown"})),Be(We,(b,v)=>ct?.(b,v),()=>({trigger:f(r(),()=>n(n().selectionKeyPressed=!1,!0)),type:"keyup"})),Be(We,(b,v)=>ct?.(b,v),()=>({trigger:f(i(),()=>{n(n().multiselectionKeyPressed=!0,!0)}),type:"keydown"})),Be(We,(b,v)=>ct?.(b,v),()=>({trigger:f(i(),()=>n(n().multiselectionKeyPressed=!1,!0)),type:"keyup"})),Be(We,(b,v)=>ct?.(b,v),()=>({trigger:f(s(),b=>{!(b.originalEvent.ctrlKey||b.originalEvent.metaKey||b.originalEvent.shiftKey)&&!ku(b.originalEvent)&&(n(n().deleteKeyPressed=!0,!0),$())}),type:"keydown"})),Be(We,(b,v)=>ct?.(b,v),()=>({trigger:f(s(),()=>n(n().deleteKeyPressed=!1,!0)),type:"keyup"})),Be(We,(b,v)=>ct?.(b,v),()=>({trigger:f(o(),()=>n(n().panActivationKeyPressed=!0,!0)),type:"keydown"})),Be(We,(b,v)=>ct?.(b,v),()=>({trigger:f(o(),()=>n(n().panActivationKeyPressed=!1,!0)),type:"keyup"})),Be(We,(b,v)=>ct?.(b,v),()=>({trigger:f(a(),()=>n(n().zoomActivationKeyPressed=!0,!0)),type:"keydown"})),Be(We,(b,v)=>ct?.(b,v),()=>({trigger:f(a(),()=>n(n().zoomActivationKeyPressed=!1,!0)),type:"keyup"})),_e()}var a$=tt('<path fill="none" class="svelte-flow__connection-path"></path>'),l$=tt('<svg class="svelte-flow__connectionline"><g><!></g></svg>');function u$(e,t){we(t,!0);let n=M(()=>{if(!t.store.connection.inProgress)return"";const o={sourceX:t.store.connection.from.x,sourceY:t.store.connection.from.y,sourcePosition:t.store.connection.fromPosition,targetX:t.store.connection.to.x,targetY:t.store.connection.to.y,targetPosition:t.store.connection.toPosition};switch(t.type){case bt.Bezier:{const[a]=Nu(o);return a}case bt.Straight:{const[a]=Pu(o);return a}case bt.Step:case bt.SmoothStep:{const[a]=Go({...o,borderRadius:t.type===bt.Step?0:void 0});return a}}});var r=Ft(),i=Le(r);{var s=o=>{var a=l$(),l=Se(a),c=Se(l);{var u=f=>{var h=Ft(),$=Le(h);Vo($,()=>t.LineComponent,(b,v)=>{v(b,{})}),me(f,h)},d=f=>{var h=a$();Me(()=>{ye(h,"d",g(n)),et(h,t.style)}),me(f,h)};Ye(c,f=>{t.LineComponent?f(u):f(d,!1)})}Me(f=>{ye(a,"width",t.store.width),ye(a,"height",t.store.height),et(a,t.containerStyle),lt(l,0,f)},[()=>Pt(["svelte-flow__connection",u2(t.store.connection.isValid)])]),me(o,a)};Ye(i,o=>{t.store.connection.inProgress&&o(s)})}me(e,r),_e()}var c$=He("<div><!></div>");function ju(e,t){we(t,!0);let n=te(t,"position",3,"top-right"),r=jn(t,["$$slots","$$events","$$legacy","position","style","class","children"]),i=M(Ut),s=M(()=>`${n()}`.split("-"));var o=c$();let a;var l=Se(o);Ct(l,()=>t.children??Ge),Me(c=>a=Kn(o,a,{class:c,style:t.style,...r,[Mt]:{"pointer-events":g(i).selectionRectMode?"none":""}}),[()=>["svelte-flow__panel",t.class,...g(s)]]),me(e,o),_e()}var d$=He('<a href="https://svelteflow.dev" target="_blank" rel="noopener noreferrer" aria-label="Svelte Flow attribution">Svelte Flow</a>');function f$(e,t){we(t,!0);let n=te(t,"position",3,"bottom-right");var r=Ft(),i=Le(r);{var s=o=>{ju(o,{get position(){return n()},class:"svelte-flow__attribution","data-message":"Feel free to remove the attribution or check out how you could support us: https://svelteflow.dev/support-us",children:(a,l)=>{var c=d$();me(a,c)},$$slots:{default:!0}})};Ye(i,o=>{t.proOptions?.hideAttribution||o(s)})}me(e,r),_e()}var h$=He("<div><!></div>");function g$(e,t){we(t,!0);let n=te(t,"domNode",15),r=te(t,"clientWidth",15),i=te(t,"clientHeight",15),s=M(()=>{let{id:u,class:d,nodeTypes:f,edgeTypes:h,colorMode:$,isValidConnection:b,onmove:v,onmovestart:m,onmoveend:E,onflowerror:x,ondelete:y,onbeforedelete:C,onbeforeconnect:N,onconnect:D,onconnectstart:k,onconnectend:O,onbeforereconnect:A,onreconnect:w,onreconnectstart:_,onreconnectend:T,onclickconnectstart:p,onclickconnectend:P,oninit:S,onselectionchange:L,onselectiondragstart:Y,onselectiondrag:X,onselectiondragstop:K,onselectionstart:Z,onselectionend:Q,clickConnect:z,fitView:H,fitViewOptions:I,nodeOrigin:R,nodeDragThreshold:V,minZoom:F,maxZoom:G,initialViewport:J,connectionRadius:ne,connectionMode:ee,selectionMode:q,selectNodesOnDrag:B,snapGrid:re,defaultMarkerColor:ie,translateExtent:ae,nodeExtent:j,onlyRenderVisibleElements:U,autoPanOnConnect:oe,autoPanOnNodeDrag:se,colorModeSSR:le,style:ue,defaultEdgeOptions:ce,elevateNodesOnSelect:de,elevateEdgesOnSelect:fe,nodesDraggable:he,nodesConnectable:ge,elementsSelectable:$e,nodesFocusable:pe,edgesFocusable:ve,disableKeyboardA11y:Ne,noDragClass:Ce,noPanClass:Pe,noWheelClass:Ie,...Ee}=t.rest;return d}),o=M(()=>{let{id:u,class:d,nodeTypes:f,edgeTypes:h,colorMode:$,isValidConnection:b,onmove:v,onmovestart:m,onmoveend:E,onflowerror:x,ondelete:y,onbeforedelete:C,onbeforeconnect:N,onconnect:D,onconnectstart:k,onconnectend:O,onbeforereconnect:A,onreconnect:w,onreconnectstart:_,onreconnectend:T,onclickconnectstart:p,onclickconnectend:P,oninit:S,onselectionchange:L,onselectiondragstart:Y,onselectiondrag:X,onselectiondragstop:K,onselectionstart:Z,onselectionend:Q,clickConnect:z,fitView:H,fitViewOptions:I,nodeOrigin:R,nodeDragThreshold:V,minZoom:F,maxZoom:G,initialViewport:J,connectionRadius:ne,connectionMode:ee,selectionMode:q,selectNodesOnDrag:B,snapGrid:re,defaultMarkerColor:ie,translateExtent:ae,nodeExtent:j,onlyRenderVisibleElements:U,autoPanOnConnect:oe,autoPanOnNodeDrag:se,colorModeSSR:le,style:ue,defaultEdgeOptions:ce,elevateNodesOnSelect:de,elevateEdgesOnSelect:fe,nodesDraggable:he,nodesConnectable:ge,elementsSelectable:$e,nodesFocusable:pe,edgesFocusable:ve,disableKeyboardA11y:Ne,noDragClass:Ce,noPanClass:Pe,noWheelClass:Ie,...Ee}=t.rest;return Ee});var a=h$();let l;var c=Se(a);Ct(c,()=>t.children??Ge),_n(a,u=>n(u),()=>n()),Me((u,d)=>l=Kn(a,l,{class:["svelte-flow","svelte-flow__container",g(s),t.colorMode],"data-testid":"svelte-flow__wrapper",role:"application",...g(o),[Mt]:{width:u,height:d}},"svelte-12wlba6"),[()=>pt(t.width),()=>pt(t.height)]),yr(a,"clientHeight",i),yr(a,"clientWidth",r),me(e,a),_e()}var $$=He('<div class="svelte-flow__viewport-back svelte-flow__container"></div> <!> <div class="svelte-flow__edge-labels svelte-flow__container"></div> <!> <!> <!> <div class="svelte-flow__viewport-front svelte-flow__container"></div>',1),p$=He("<!> <!>",1),v$=He("<!> <!> <!> <!> <!>",1);function m$(e,t){we(t,!0);let n=te(t,"paneClickDistance",3,1),r=te(t,"nodeClickDistance",3,1),i=te(t,"panOnScrollMode",19,()=>zt.Free),s=te(t,"preventScrolling",3,!0),o=te(t,"zoomOnScroll",3,!0),a=te(t,"zoomOnDoubleClick",3,!0),l=te(t,"zoomOnPinch",3,!0),c=te(t,"panOnScroll",3,!1),u=te(t,"panOnDrag",3,!0),d=te(t,"selectionOnDrag",3,!0),f=te(t,"connectionLineType",19,()=>bt.Bezier),h=te(t,"nodes",31,()=>Ze([])),$=te(t,"edges",31,()=>Ze([])),b=te(t,"viewport",15,void 0),v=jn(t,["$$slots","$$events","$$legacy","width","height","proOptions","selectionKey","deleteKey","panActivationKey","multiSelectionKey","zoomActivationKey","paneClickDistance","nodeClickDistance","onmovestart","onmoveend","onmove","oninit","onnodeclick","onnodecontextmenu","onnodedrag","onnodedragstart","onnodedragstop","onnodepointerenter","onnodepointermove","onnodepointerleave","onselectionclick","onselectioncontextmenu","onselectionstart","onselectionend","onedgeclick","onedgecontextmenu","onedgepointerenter","onedgepointerleave","onpaneclick","onpanecontextmenu","panOnScrollMode","preventScrolling","zoomOnScroll","zoomOnDoubleClick","zoomOnPinch","panOnScroll","panOnDrag","selectionOnDrag","connectionLineComponent","connectionLineStyle","connectionLineContainerStyle","connectionLineType","attributionPosition","children","nodes","edges","viewport"]),m=Yu({props:v,width:t.width,height:t.height,get nodes(){return h()},set nodes(x){h(x)},get edges(){return $()},set edges(x){$(x)},get viewport(){return b()},set viewport(x){b(x)}});const E=On(Mr);E&&E.setStore&&E.setStore(m),Mn(Mr,{provider:!1,getStore(){return m}}),Rt(()=>{const x={nodes:m.selectedNodes,edges:m.selectedEdges};Fe(()=>t.onselectionchange)?.(x);for(const y of m.selectionChangeHandlers.values())y(x)}),Br(()=>{m.reset()}),g$(e,{get colorMode(){return m.colorMode},get width(){return t.width},get height(){return t.height},get rest(){return v},get domNode(){return m.domNode},set domNode(x){m.domNode=x},get clientWidth(){return m.width},set clientWidth(x){m.width=x},get clientHeight(){return m.height},set clientHeight(x){m.height=x},children:(x,y)=>{var C=v$(),N=Le(C);s$(N,{get selectionKey(){return t.selectionKey},get deleteKey(){return t.deleteKey},get panActivationKey(){return t.panActivationKey},get multiSelectionKey(){return t.multiSelectionKey},get zoomActivationKey(){return t.zoomActivationKey},get store(){return m},set store(w){m=w}});var D=ke(N,2);Ig(D,{get panOnScrollMode(){return i()},get preventScrolling(){return s()},get zoomOnScroll(){return o()},get zoomOnDoubleClick(){return a()},get zoomOnPinch(){return l()},get panOnScroll(){return c()},get panOnDrag(){return u()},get paneClickDistance(){return n()},get onmovestart(){return t.onmovestart},get onmove(){return t.onmove},get onmoveend(){return t.onmoveend},get oninit(){return t.oninit},get store(){return m},set store(w){m=w},children:(w,_)=>{Mg(w,{get onpaneclick(){return t.onpaneclick},get onpanecontextmenu(){return t.onpanecontextmenu},get onselectionstart(){return t.onselectionstart},get onselectionend(){return t.onselectionend},get panOnDrag(){return u()},get selectionOnDrag(){return d()},get store(){return m},set store(T){m=T},children:(T,p)=>{var P=p$(),S=Le(P);Tg(S,{get store(){return m},set store(z){m=z},children:(z,H)=>{var I=$$(),R=ke(Le(I),2);Jg(R,{get onedgeclick(){return t.onedgeclick},get onedgecontextmenu(){return t.onedgecontextmenu},get onedgepointerenter(){return t.onedgepointerenter},get onedgepointerleave(){return t.onedgepointerleave},get store(){return m},set store(J){m=J}});var V=ke(R,4);u$(V,{get type(){return f()},get LineComponent(){return t.connectionLineComponent},get containerStyle(){return t.connectionLineContainerStyle},get style(){return t.connectionLineStyle},get store(){return m},set store(J){m=J}});var F=ke(V,2);qg(F,{get nodeClickDistance(){return r()},get onnodeclick(){return t.onnodeclick},get onnodecontextmenu(){return t.onnodecontextmenu},get onnodepointerenter(){return t.onnodepointerenter},get onnodepointermove(){return t.onnodepointermove},get onnodepointerleave(){return t.onnodepointerleave},get onnodedrag(){return t.onnodedrag},get onnodedragstart(){return t.onnodedragstart},get onnodedragstop(){return t.onnodedragstop},get store(){return m},set store(J){m=J}});var G=ke(F,2);i$(G,{get onselectionclick(){return t.onselectionclick},get onselectioncontextmenu(){return t.onselectioncontextmenu},get onnodedrag(){return t.onnodedrag},get onnodedragstart(){return t.onnodedragstart},get onnodedragstop(){return t.onnodedragstop},get store(){return m},set store(J){m=J}}),me(z,I)},$$slots:{default:!0}});var L=ke(S,2);const Y=M(()=>!!(m.selectionRect&&m.selectionRectMode==="user")),X=M(()=>m.selectionRect?.width),K=M(()=>m.selectionRect?.height),Z=M(()=>m.selectionRect?.x),Q=M(()=>m.selectionRect?.y);Xu(L,{get isVisible(){return g(Y)},get width(){return g(X)},get height(){return g(K)},get x(){return g(Z)},get y(){return g(Q)}}),me(T,P)},$$slots:{default:!0}})},$$slots:{default:!0}});var k=ke(D,2);f$(k,{get proOptions(){return t.proOptions},get position(){return t.attributionPosition}});var O=ke(k,2);Hg(O,{store:m});var A=ke(O,2);Ct(A,()=>t.children??Ge),me(x,C)},$$slots:{default:!0}}),_e()}function y$(e,t){we(t,!0);let n=xe(Yu({props:{},nodes:[],edges:[]}));Mn(Mr,{provider:!0,getStore(){return g(n)},setStore:s=>{W(n,s)}}),Br(()=>{g(n).reset()});var r=Ft(),i=Le(r);Ct(i,()=>t.children??Ge),me(e,r),_e()}var Ht;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(Ht||(Ht={}));var b$=tt("<circle></circle>");function w$(e,t){var n=b$();Me(()=>{ye(n,"cx",t.radius),ye(n,"cy",t.radius),ye(n,"r",t.radius),lt(n,0,Pt(["svelte-flow__background-pattern","dots",t.class]))}),me(e,n)}var _$=tt("<path></path>");function x$(e,t){we(t,!0);var n=_$();Me(()=>{ye(n,"stroke-width",t.lineWidth),ye(n,"d",`M${t.dimensions[0]/2} 0 V${t.dimensions[1]} M0 ${t.dimensions[1]/2} H${t.dimensions[0]}`),lt(n,0,Pt(["svelte-flow__background-pattern",t.variant,t.class]))}),me(e,n),_e()}const E$={[Ht.Dots]:1,[Ht.Lines]:1,[Ht.Cross]:6};var k$=tt('<svg data-testid="svelte-flow__background"><pattern patternUnits="userSpaceOnUse"><!></pattern><rect x="0" y="0" width="100%" height="100%"></rect></svg>');function S$(e,t){we(t,!0);let n=te(t,"variant",19,()=>Ht.Dots),r=te(t,"gap",3,20),i=te(t,"lineWidth",3,1),s=M(Ut),o=M(()=>n()===Ht.Dots),a=M(()=>n()===Ht.Cross),l=M(()=>Array.isArray(r())?r():[r(),r()]),c=M(()=>`background-pattern-${g(s).flowId}-${t.id??""}`),u=M(()=>[g(l)[0]*g(s).viewport.zoom||1,g(l)[1]*g(s).viewport.zoom||1]),d=M(()=>(t.size??E$[n()])*g(s).viewport.zoom),f=M(()=>g(a)?[g(d),g(d)]:g(u)),h=M(()=>g(o)?[g(d)/2,g(d)/2]:[g(f)[0]/2,g(f)[1]/2]);var $=k$();let b;var v=Se($),m=Se(v);{var E=C=>{const N=M(()=>g(d)/2);w$(C,{get radius(){return g(N)},get class(){return t.patternClass}})},x=C=>{x$(C,{get dimensions(){return g(f)},get variant(){return n()},get lineWidth(){return i()},get class(){return t.patternClass}})};Ye(m,C=>{g(o)?C(E):C(x,!1)})}var y=ke(v);Me(()=>{lt($,0,Pt(["svelte-flow__background","svelte-flow__container",t.class])),b=et($,"",b,{"--xy-background-color-props":t.bgColor,"--xy-background-pattern-color-props":t.patternColor}),ye(v,"id",g(c)),ye(v,"x",g(s).viewport.x%g(u)[0]),ye(v,"y",g(s).viewport.y%g(u)[1]),ye(v,"width",g(u)[0]),ye(v,"height",g(u)[1]),ye(v,"patternTransform",`translate(-${g(h)[0]},-${g(h)[1]})`),ye(y,"fill",`url(#${g(c)})`)}),me(e,$),_e()}function N$(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var gi,ra;function es(){if(ra)return gi;ra=1;var e="\0",t="\0",n="";class r{_isDirected=!0;_isMultigraph=!1;_isCompound=!1;_label;_defaultNodeLabelFn=()=>{};_defaultEdgeLabelFn=()=>{};_nodes={};_in={};_preds={};_out={};_sucs={};_edgeObjs={};_edgeLabels={};_nodeCount=0;_edgeCount=0;_parent;_children;constructor(u){u&&(this._isDirected=Object.hasOwn(u,"directed")?u.directed:!0,this._isMultigraph=Object.hasOwn(u,"multigraph")?u.multigraph:!1,this._isCompound=Object.hasOwn(u,"compound")?u.compound:!1),this._isCompound&&(this._parent={},this._children={},this._children[t]={})}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(u){return this._label=u,this}graph(){return this._label}setDefaultNodeLabel(u){return this._defaultNodeLabelFn=u,typeof u!="function"&&(this._defaultNodeLabelFn=()=>u),this}nodeCount(){return this._nodeCount}nodes(){return Object.keys(this._nodes)}sources(){var u=this;return this.nodes().filter(d=>Object.keys(u._in[d]).length===0)}sinks(){var u=this;return this.nodes().filter(d=>Object.keys(u._out[d]).length===0)}setNodes(u,d){var f=arguments,h=this;return u.forEach(function($){f.length>1?h.setNode($,d):h.setNode($)}),this}setNode(u,d){return Object.hasOwn(this._nodes,u)?(arguments.length>1&&(this._nodes[u]=d),this):(this._nodes[u]=arguments.length>1?d:this._defaultNodeLabelFn(u),this._isCompound&&(this._parent[u]=t,this._children[u]={},this._children[t][u]=!0),this._in[u]={},this._preds[u]={},this._out[u]={},this._sucs[u]={},++this._nodeCount,this)}node(u){return this._nodes[u]}hasNode(u){return Object.hasOwn(this._nodes,u)}removeNode(u){var d=this;if(Object.hasOwn(this._nodes,u)){var f=h=>d.removeEdge(d._edgeObjs[h]);delete this._nodes[u],this._isCompound&&(this._removeFromParentsChildList(u),delete this._parent[u],this.children(u).forEach(function(h){d.setParent(h)}),delete this._children[u]),Object.keys(this._in[u]).forEach(f),delete this._in[u],delete this._preds[u],Object.keys(this._out[u]).forEach(f),delete this._out[u],delete this._sucs[u],--this._nodeCount}return this}setParent(u,d){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(d===void 0)d=t;else{d+="";for(var f=d;f!==void 0;f=this.parent(f))if(f===u)throw new Error("Setting "+d+" as parent of "+u+" would create a cycle");this.setNode(d)}return this.setNode(u),this._removeFromParentsChildList(u),this._parent[u]=d,this._children[d][u]=!0,this}_removeFromParentsChildList(u){delete this._children[this._parent[u]][u]}parent(u){if(this._isCompound){var d=this._parent[u];if(d!==t)return d}}children(u=t){if(this._isCompound){var d=this._children[u];if(d)return Object.keys(d)}else{if(u===t)return this.nodes();if(this.hasNode(u))return[]}}predecessors(u){var d=this._preds[u];if(d)return Object.keys(d)}successors(u){var d=this._sucs[u];if(d)return Object.keys(d)}neighbors(u){var d=this.predecessors(u);if(d){const h=new Set(d);for(var f of this.successors(u))h.add(f);return Array.from(h.values())}}isLeaf(u){var d;return this.isDirected()?d=this.successors(u):d=this.neighbors(u),d.length===0}filterNodes(u){var d=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});d.setGraph(this.graph());var f=this;Object.entries(this._nodes).forEach(function([b,v]){u(b)&&d.setNode(b,v)}),Object.values(this._edgeObjs).forEach(function(b){d.hasNode(b.v)&&d.hasNode(b.w)&&d.setEdge(b,f.edge(b))});var h={};function $(b){var v=f.parent(b);return v===void 0||d.hasNode(v)?(h[b]=v,v):v in h?h[v]:$(v)}return this._isCompound&&d.nodes().forEach(b=>d.setParent(b,$(b))),d}setDefaultEdgeLabel(u){return this._defaultEdgeLabelFn=u,typeof u!="function"&&(this._defaultEdgeLabelFn=()=>u),this}edgeCount(){return this._edgeCount}edges(){return Object.values(this._edgeObjs)}setPath(u,d){var f=this,h=arguments;return u.reduce(function($,b){return h.length>1?f.setEdge($,b,d):f.setEdge($,b),b}),this}setEdge(){var u,d,f,h,$=!1,b=arguments[0];typeof b=="object"&&b!==null&&"v"in b?(u=b.v,d=b.w,f=b.name,arguments.length===2&&(h=arguments[1],$=!0)):(u=b,d=arguments[1],f=arguments[3],arguments.length>2&&(h=arguments[2],$=!0)),u=""+u,d=""+d,f!==void 0&&(f=""+f);var v=o(this._isDirected,u,d,f);if(Object.hasOwn(this._edgeLabels,v))return $&&(this._edgeLabels[v]=h),this;if(f!==void 0&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(u),this.setNode(d),this._edgeLabels[v]=$?h:this._defaultEdgeLabelFn(u,d,f);var m=a(this._isDirected,u,d,f);return u=m.v,d=m.w,Object.freeze(m),this._edgeObjs[v]=m,i(this._preds[d],u),i(this._sucs[u],d),this._in[d][v]=m,this._out[u][v]=m,this._edgeCount++,this}edge(u,d,f){var h=arguments.length===1?l(this._isDirected,arguments[0]):o(this._isDirected,u,d,f);return this._edgeLabels[h]}edgeAsObj(){const u=this.edge(...arguments);return typeof u!="object"?{label:u}:u}hasEdge(u,d,f){var h=arguments.length===1?l(this._isDirected,arguments[0]):o(this._isDirected,u,d,f);return Object.hasOwn(this._edgeLabels,h)}removeEdge(u,d,f){var h=arguments.length===1?l(this._isDirected,arguments[0]):o(this._isDirected,u,d,f),$=this._edgeObjs[h];return $&&(u=$.v,d=$.w,delete this._edgeLabels[h],delete this._edgeObjs[h],s(this._preds[d],u),s(this._sucs[u],d),delete this._in[d][h],delete this._out[u][h],this._edgeCount--),this}inEdges(u,d){var f=this._in[u];if(f){var h=Object.values(f);return d?h.filter($=>$.v===d):h}}outEdges(u,d){var f=this._out[u];if(f){var h=Object.values(f);return d?h.filter($=>$.w===d):h}}nodeEdges(u,d){var f=this.inEdges(u,d);if(f)return f.concat(this.outEdges(u,d))}}function i(c,u){c[u]?c[u]++:c[u]=1}function s(c,u){--c[u]||delete c[u]}function o(c,u,d,f){var h=""+u,$=""+d;if(!c&&h>$){var b=h;h=$,$=b}return h+n+$+n+(f===void 0?e:f)}function a(c,u,d,f){var h=""+u,$=""+d;if(!c&&h>$){var b=h;h=$,$=b}var v={v:h,w:$};return f&&(v.name=f),v}function l(c,u){return o(c,u.v,u.w,u.name)}return gi=r,gi}var $i,ia;function C$(){return ia||(ia=1,$i="2.2.4"),$i}var pi,oa;function P$(){return oa||(oa=1,pi={Graph:es(),version:C$()}),pi}var vi,sa;function I$(){if(sa)return vi;sa=1;var e=es();vi={write:t,read:i};function t(s){var o={options:{directed:s.isDirected(),multigraph:s.isMultigraph(),compound:s.isCompound()},nodes:n(s),edges:r(s)};return s.graph()!==void 0&&(o.value=structuredClone(s.graph())),o}function n(s){return s.nodes().map(function(o){var a=s.node(o),l=s.parent(o),c={v:o};return a!==void 0&&(c.value=a),l!==void 0&&(c.parent=l),c})}function r(s){return s.edges().map(function(o){var a=s.edge(o),l={v:o.v,w:o.w};return o.name!==void 0&&(l.name=o.name),a!==void 0&&(l.value=a),l})}function i(s){var o=new e(s.options).setGraph(s.value);return s.nodes.forEach(function(a){o.setNode(a.v,a.value),a.parent&&o.setParent(a.v,a.parent)}),s.edges.forEach(function(a){o.setEdge({v:a.v,w:a.w,name:a.name},a.value)}),o}return vi}var mi,aa;function O$(){if(aa)return mi;aa=1,mi=e;function e(t){var n={},r=[],i;function s(o){Object.hasOwn(n,o)||(n[o]=!0,i.push(o),t.successors(o).forEach(s),t.predecessors(o).forEach(s))}return t.nodes().forEach(function(o){i=[],s(o),i.length&&r.push(i)}),r}return mi}var yi,la;function Zu(){if(la)return yi;la=1;class e{_arr=[];_keyIndices={};size(){return this._arr.length}keys(){return this._arr.map(function(n){return n.key})}has(n){return Object.hasOwn(this._keyIndices,n)}priority(n){var r=this._keyIndices[n];if(r!==void 0)return this._arr[r].priority}min(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key}add(n,r){var i=this._keyIndices;if(n=String(n),!Object.hasOwn(i,n)){var s=this._arr,o=s.length;return i[n]=o,s.push({key:n,priority:r}),this._decrease(o),!0}return!1}removeMin(){this._swap(0,this._arr.length-1);var n=this._arr.pop();return delete this._keyIndices[n.key],this._heapify(0),n.key}decrease(n,r){var i=this._keyIndices[n];if(r>this._arr[i].priority)throw new Error("New priority is greater than current priority. Key: "+n+" Old: "+this._arr[i].priority+" New: "+r);this._arr[i].priority=r,this._decrease(i)}_heapify(n){var r=this._arr,i=2*n,s=i+1,o=n;i<r.length&&(o=r[i].priority<r[o].priority?i:o,s<r.length&&(o=r[s].priority<r[o].priority?s:o),o!==n&&(this._swap(n,o),this._heapify(o)))}_decrease(n){for(var r=this._arr,i=r[n].priority,s;n!==0&&(s=n>>1,!(r[s].priority<i));)this._swap(n,s),n=s}_swap(n,r){var i=this._arr,s=this._keyIndices,o=i[n],a=i[r];i[n]=a,i[r]=o,s[a.key]=n,s[o.key]=r}}return yi=e,yi}var bi,ua;function Gu(){if(ua)return bi;ua=1;var e=Zu();bi=n;var t=()=>1;function n(i,s,o,a){return r(i,String(s),o||t,a||function(l){return i.outEdges(l)})}function r(i,s,o,a){var l={},c=new e,u,d,f=function(h){var $=h.v!==u?h.v:h.w,b=l[$],v=o(h),m=d.distance+v;if(v<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+h+" Weight: "+v);m<b.distance&&(b.distance=m,b.predecessor=u,c.decrease($,m))};for(i.nodes().forEach(function(h){var $=h===s?0:Number.POSITIVE_INFINITY;l[h]={distance:$},c.add(h,$)});c.size()>0&&(u=c.removeMin(),d=l[u],d.distance!==Number.POSITIVE_INFINITY);)a(u).forEach(f);return l}return bi}var wi,ca;function M$(){if(ca)return wi;ca=1;var e=Gu();wi=t;function t(n,r,i){return n.nodes().reduce(function(s,o){return s[o]=e(n,o,r,i),s},{})}return wi}var _i,da;function Uu(){if(da)return _i;da=1,_i=e;function e(t){var n=0,r=[],i={},s=[];function o(a){var l=i[a]={onStack:!0,lowlink:n,index:n++};if(r.push(a),t.successors(a).forEach(function(d){Object.hasOwn(i,d)?i[d].onStack&&(l.lowlink=Math.min(l.lowlink,i[d].index)):(o(d),l.lowlink=Math.min(l.lowlink,i[d].lowlink))}),l.lowlink===l.index){var c=[],u;do u=r.pop(),i[u].onStack=!1,c.push(u);while(a!==u);s.push(c)}}return t.nodes().forEach(function(a){Object.hasOwn(i,a)||o(a)}),s}return _i}var xi,fa;function A$(){if(fa)return xi;fa=1;var e=Uu();xi=t;function t(n){return e(n).filter(function(r){return r.length>1||r.length===1&&n.hasEdge(r[0],r[0])})}return xi}var Ei,ha;function T$(){if(ha)return Ei;ha=1,Ei=t;var e=()=>1;function t(r,i,s){return n(r,i||e,s||function(o){return r.outEdges(o)})}function n(r,i,s){var o={},a=r.nodes();return a.forEach(function(l){o[l]={},o[l][l]={distance:0},a.forEach(function(c){l!==c&&(o[l][c]={distance:Number.POSITIVE_INFINITY})}),s(l).forEach(function(c){var u=c.v===l?c.w:c.v,d=i(c);o[l][u]={distance:d,predecessor:l}})}),a.forEach(function(l){var c=o[l];a.forEach(function(u){var d=o[u];a.forEach(function(f){var h=d[l],$=c[f],b=d[f],v=h.distance+$.distance;v<b.distance&&(b.distance=v,b.predecessor=$.predecessor)})})}),o}return Ei}var ki,ga;function Qu(){if(ga)return ki;ga=1;function e(n){var r={},i={},s=[];function o(a){if(Object.hasOwn(i,a))throw new t;Object.hasOwn(r,a)||(i[a]=!0,r[a]=!0,n.predecessors(a).forEach(o),delete i[a],s.push(a))}if(n.sinks().forEach(o),Object.keys(r).length!==n.nodeCount())throw new t;return s}class t extends Error{constructor(){super(...arguments)}}return ki=e,e.CycleException=t,ki}var Si,$a;function D$(){if($a)return Si;$a=1;var e=Qu();Si=t;function t(n){try{e(n)}catch(r){if(r instanceof e.CycleException)return!1;throw r}return!0}return Si}var Ni,pa;function Ju(){if(pa)return Ni;pa=1,Ni=e;function e(i,s,o){Array.isArray(s)||(s=[s]);var a=i.isDirected()?d=>i.successors(d):d=>i.neighbors(d),l=o==="post"?t:n,c=[],u={};return s.forEach(d=>{if(!i.hasNode(d))throw new Error("Graph does not have node: "+d);l(d,a,u,c)}),c}function t(i,s,o,a){for(var l=[[i,!1]];l.length>0;){var c=l.pop();c[1]?a.push(c[0]):Object.hasOwn(o,c[0])||(o[c[0]]=!0,l.push([c[0],!0]),r(s(c[0]),u=>l.push([u,!1])))}}function n(i,s,o,a){for(var l=[i];l.length>0;){var c=l.pop();Object.hasOwn(o,c)||(o[c]=!0,a.push(c),r(s(c),u=>l.push(u)))}}function r(i,s){for(var o=i.length;o--;)s(i[o],o,i);return i}return Ni}var Ci,va;function z$(){if(va)return Ci;va=1;var e=Ju();Ci=t;function t(n,r){return e(n,r,"post")}return Ci}var Pi,ma;function H$(){if(ma)return Pi;ma=1;var e=Ju();Pi=t;function t(n,r){return e(n,r,"pre")}return Pi}var Ii,ya;function R$(){if(ya)return Ii;ya=1;var e=es(),t=Zu();Ii=n;function n(r,i){var s=new e,o={},a=new t,l;function c(d){var f=d.v===l?d.w:d.v,h=a.priority(f);if(h!==void 0){var $=i(d);$<h&&(o[f]=l,a.decrease(f,$))}}if(r.nodeCount()===0)return s;r.nodes().forEach(function(d){a.add(d,Number.POSITIVE_INFINITY),s.setNode(d)}),a.decrease(r.nodes()[0],0);for(var u=!1;a.size()>0;){if(l=a.removeMin(),Object.hasOwn(o,l))s.setEdge(l,o[l]);else{if(u)throw new Error("Input graph is not connected: "+r);u=!0}r.nodeEdges(l).forEach(c)}return s}return Ii}var Oi,ba;function L$(){return ba||(ba=1,Oi={components:O$(),dijkstra:Gu(),dijkstraAll:M$(),findCycles:A$(),floydWarshall:T$(),isAcyclic:D$(),postorder:z$(),preorder:H$(),prim:R$(),tarjan:Uu(),topsort:Qu()}),Oi}var Mi,wa;function at(){if(wa)return Mi;wa=1;var e=P$();return Mi={Graph:e.Graph,json:I$(),alg:L$(),version:e.version},Mi}var Ai,_a;function V$(){if(_a)return Ai;_a=1;class e{constructor(){let i={};i._next=i._prev=i,this._sentinel=i}dequeue(){let i=this._sentinel,s=i._prev;if(s!==i)return t(s),s}enqueue(i){let s=this._sentinel;i._prev&&i._next&&t(i),i._next=s._next,s._next._prev=i,s._next=i,i._prev=s}toString(){let i=[],s=this._sentinel,o=s._prev;for(;o!==s;)i.push(JSON.stringify(o,n)),o=o._prev;return"["+i.join(", ")+"]"}}function t(r){r._prev._next=r._next,r._next._prev=r._prev,delete r._next,delete r._prev}function n(r,i){if(r!=="_next"&&r!=="_prev")return i}return Ai=e,Ai}var Ti,xa;function F$(){if(xa)return Ti;xa=1;let e=at().Graph,t=V$();Ti=r;let n=()=>1;function r(c,u){if(c.nodeCount()<=1)return[];let d=o(c,u||n);return i(d.graph,d.buckets,d.zeroIdx).flatMap(h=>c.outEdges(h.v,h.w))}function i(c,u,d){let f=[],h=u[u.length-1],$=u[0],b;for(;c.nodeCount();){for(;b=$.dequeue();)s(c,u,d,b);for(;b=h.dequeue();)s(c,u,d,b);if(c.nodeCount()){for(let v=u.length-2;v>0;--v)if(b=u[v].dequeue(),b){f=f.concat(s(c,u,d,b,!0));break}}}return f}function s(c,u,d,f,h){let $=h?[]:void 0;return c.inEdges(f.v).forEach(b=>{let v=c.edge(b),m=c.node(b.v);h&&$.push({v:b.v,w:b.w}),m.out-=v,a(u,d,m)}),c.outEdges(f.v).forEach(b=>{let v=c.edge(b),m=b.w,E=c.node(m);E.in-=v,a(u,d,E)}),c.removeNode(f.v),$}function o(c,u){let d=new e,f=0,h=0;c.nodes().forEach(v=>{d.setNode(v,{v,in:0,out:0})}),c.edges().forEach(v=>{let m=d.edge(v.v,v.w)||0,E=u(v),x=m+E;d.setEdge(v.v,v.w,x),h=Math.max(h,d.node(v.v).out+=E),f=Math.max(f,d.node(v.w).in+=E)});let $=l(h+f+3).map(()=>new t),b=f+1;return d.nodes().forEach(v=>{a($,b,d.node(v))}),{graph:d,buckets:$,zeroIdx:b}}function a(c,u,d){d.out?d.in?c[d.out-d.in+u].enqueue(d):c[c.length-1].enqueue(d):c[0].enqueue(d)}function l(c){const u=[];for(let d=0;d<c;d++)u.push(d);return u}return Ti}var Di,Ea;function Re(){if(Ea)return Di;Ea=1;let e=at().Graph;Di={addBorderNode:u,addDummyNode:t,applyWithChunking:h,asNonCompoundGraph:r,buildLayerMatrix:a,intersectRect:o,mapValues:N,maxRank:$,normalizeRanks:l,notime:m,partition:b,pick:C,predecessorWeights:s,range:y,removeEmptyRanks:c,simplify:n,successorWeights:i,time:v,uniqueId:x,zipObject:D};function t(k,O,A,w){let _;do _=x(w);while(k.hasNode(_));return A.dummy=O,k.setNode(_,A),_}function n(k){let O=new e().setGraph(k.graph());return k.nodes().forEach(A=>O.setNode(A,k.node(A))),k.edges().forEach(A=>{let w=O.edge(A.v,A.w)||{weight:0,minlen:1},_=k.edge(A);O.setEdge(A.v,A.w,{weight:w.weight+_.weight,minlen:Math.max(w.minlen,_.minlen)})}),O}function r(k){let O=new e({multigraph:k.isMultigraph()}).setGraph(k.graph());return k.nodes().forEach(A=>{k.children(A).length||O.setNode(A,k.node(A))}),k.edges().forEach(A=>{O.setEdge(A,k.edge(A))}),O}function i(k){let O=k.nodes().map(A=>{let w={};return k.outEdges(A).forEach(_=>{w[_.w]=(w[_.w]||0)+k.edge(_).weight}),w});return D(k.nodes(),O)}function s(k){let O=k.nodes().map(A=>{let w={};return k.inEdges(A).forEach(_=>{w[_.v]=(w[_.v]||0)+k.edge(_).weight}),w});return D(k.nodes(),O)}function o(k,O){let A=k.x,w=k.y,_=O.x-A,T=O.y-w,p=k.width/2,P=k.height/2;if(!_&&!T)throw new Error("Not possible to find intersection inside of the rectangle");let S,L;return Math.abs(T)*p>Math.abs(_)*P?(T<0&&(P=-P),S=P*_/T,L=P):(_<0&&(p=-p),S=p,L=p*T/_),{x:A+S,y:w+L}}function a(k){let O=y($(k)+1).map(()=>[]);return k.nodes().forEach(A=>{let w=k.node(A),_=w.rank;_!==void 0&&(O[_][w.order]=A)}),O}function l(k){let O=k.nodes().map(w=>{let _=k.node(w).rank;return _===void 0?Number.MAX_VALUE:_}),A=h(Math.min,O);k.nodes().forEach(w=>{let _=k.node(w);Object.hasOwn(_,"rank")&&(_.rank-=A)})}function c(k){let O=k.nodes().map(p=>k.node(p).rank),A=h(Math.min,O),w=[];k.nodes().forEach(p=>{let P=k.node(p).rank-A;w[P]||(w[P]=[]),w[P].push(p)});let _=0,T=k.graph().nodeRankFactor;Array.from(w).forEach((p,P)=>{p===void 0&&P%T!==0?--_:p!==void 0&&_&&p.forEach(S=>k.node(S).rank+=_)})}function u(k,O,A,w){let _={width:0,height:0};return arguments.length>=4&&(_.rank=A,_.order=w),t(k,"border",_,O)}function d(k,O=f){const A=[];for(let w=0;w<k.length;w+=O){const _=k.slice(w,w+O);A.push(_)}return A}const f=65535;function h(k,O){if(O.length>f){const A=d(O);return k.apply(null,A.map(w=>k.apply(null,w)))}else return k.apply(null,O)}function $(k){const A=k.nodes().map(w=>{let _=k.node(w).rank;return _===void 0?Number.MIN_VALUE:_});return h(Math.max,A)}function b(k,O){let A={lhs:[],rhs:[]};return k.forEach(w=>{O(w)?A.lhs.push(w):A.rhs.push(w)}),A}function v(k,O){let A=Date.now();try{return O()}finally{console.log(k+" time: "+(Date.now()-A)+"ms")}}function m(k,O){return O()}let E=0;function x(k){var O=++E;return toString(k)+O}function y(k,O,A=1){O==null&&(O=k,k=0);let w=T=>T<O;A<0&&(w=T=>O<T);const _=[];for(let T=k;w(T);T+=A)_.push(T);return _}function C(k,O){const A={};for(const w of O)k[w]!==void 0&&(A[w]=k[w]);return A}function N(k,O){let A=O;return typeof O=="string"&&(A=w=>w[O]),Object.entries(k).reduce((w,[_,T])=>(w[_]=A(T,_),w),{})}function D(k,O){return k.reduce((A,w,_)=>(A[w]=O[_],A),{})}return Di}var zi,ka;function Y$(){if(ka)return zi;ka=1;let e=F$(),t=Re().uniqueId;zi={run:n,undo:i};function n(s){(s.graph().acyclicer==="greedy"?e(s,a(s)):r(s)).forEach(l=>{let c=s.edge(l);s.removeEdge(l),c.forwardName=l.name,c.reversed=!0,s.setEdge(l.w,l.v,c,t("rev"))});function a(l){return c=>l.edge(c).weight}}function r(s){let o=[],a={},l={};function c(u){Object.hasOwn(l,u)||(l[u]=!0,a[u]=!0,s.outEdges(u).forEach(d=>{Object.hasOwn(a,d.w)?o.push(d):c(d.w)}),delete a[u])}return s.nodes().forEach(c),o}function i(s){s.edges().forEach(o=>{let a=s.edge(o);if(a.reversed){s.removeEdge(o);let l=a.forwardName;delete a.reversed,delete a.forwardName,s.setEdge(o.w,o.v,a,l)}})}return zi}var Hi,Sa;function q$(){if(Sa)return Hi;Sa=1;let e=Re();Hi={run:t,undo:r};function t(i){i.graph().dummyChains=[],i.edges().forEach(s=>n(i,s))}function n(i,s){let o=s.v,a=i.node(o).rank,l=s.w,c=i.node(l).rank,u=s.name,d=i.edge(s),f=d.labelRank;if(c===a+1)return;i.removeEdge(s);let h,$,b;for(b=0,++a;a<c;++b,++a)d.points=[],$={width:0,height:0,edgeLabel:d,edgeObj:s,rank:a},h=e.addDummyNode(i,"edge",$,"_d"),a===f&&($.width=d.width,$.height=d.height,$.dummy="edge-label",$.labelpos=d.labelpos),i.setEdge(o,h,{weight:d.weight},u),b===0&&i.graph().dummyChains.push(h),o=h;i.setEdge(o,l,{weight:d.weight},u)}function r(i){i.graph().dummyChains.forEach(s=>{let o=i.node(s),a=o.edgeLabel,l;for(i.setEdge(o.edgeObj,a);o.dummy;)l=i.successors(s)[0],i.removeNode(s),a.points.push({x:o.x,y:o.y}),o.dummy==="edge-label"&&(a.x=o.x,a.y=o.y,a.width=o.width,a.height=o.height),s=l,o=i.node(s)})}return Hi}var Ri,Na;function Ar(){if(Na)return Ri;Na=1;const{applyWithChunking:e}=Re();Ri={longestPath:t,slack:n};function t(r){var i={};function s(o){var a=r.node(o);if(Object.hasOwn(i,o))return a.rank;i[o]=!0;let l=r.outEdges(o).map(u=>u==null?Number.POSITIVE_INFINITY:s(u.w)-r.edge(u).minlen);var c=e(Math.min,l);return c===Number.POSITIVE_INFINITY&&(c=0),a.rank=c}r.sources().forEach(s)}function n(r,i){return r.node(i.w).rank-r.node(i.v).rank-r.edge(i).minlen}return Ri}var Li,Ca;function ec(){if(Ca)return Li;Ca=1;var e=at().Graph,t=Ar().slack;Li=n;function n(o){var a=new e({directed:!1}),l=o.nodes()[0],c=o.nodeCount();a.setNode(l,{});for(var u,d;r(a,o)<c;)u=i(a,o),d=a.hasNode(u.v)?t(o,u):-t(o,u),s(a,o,d);return a}function r(o,a){function l(c){a.nodeEdges(c).forEach(u=>{var d=u.v,f=c===d?u.w:d;!o.hasNode(f)&&!t(a,u)&&(o.setNode(f,{}),o.setEdge(c,f,{}),l(f))})}return o.nodes().forEach(l),o.nodeCount()}function i(o,a){return a.edges().reduce((c,u)=>{let d=Number.POSITIVE_INFINITY;return o.hasNode(u.v)!==o.hasNode(u.w)&&(d=t(a,u)),d<c[0]?[d,u]:c},[Number.POSITIVE_INFINITY,null])[1]}function s(o,a,l){o.nodes().forEach(c=>a.node(c).rank+=l)}return Li}var Vi,Pa;function W$(){if(Pa)return Vi;Pa=1;var e=ec(),t=Ar().slack,n=Ar().longestPath,r=at().alg.preorder,i=at().alg.postorder,s=Re().simplify;Vi=o,o.initLowLimValues=u,o.initCutValues=a,o.calcCutValue=c,o.leaveEdge=f,o.enterEdge=h,o.exchangeEdges=$;function o(E){E=s(E),n(E);var x=e(E);u(x),a(x,E);for(var y,C;y=f(x);)C=h(x,E,y),$(x,E,y,C)}function a(E,x){var y=i(E,E.nodes());y=y.slice(0,y.length-1),y.forEach(C=>l(E,x,C))}function l(E,x,y){var C=E.node(y),N=C.parent;E.edge(y,N).cutvalue=c(E,x,y)}function c(E,x,y){var C=E.node(y),N=C.parent,D=!0,k=x.edge(y,N),O=0;return k||(D=!1,k=x.edge(N,y)),O=k.weight,x.nodeEdges(y).forEach(A=>{var w=A.v===y,_=w?A.w:A.v;if(_!==N){var T=w===D,p=x.edge(A).weight;if(O+=T?p:-p,v(E,y,_)){var P=E.edge(y,_).cutvalue;O+=T?-P:P}}}),O}function u(E,x){arguments.length<2&&(x=E.nodes()[0]),d(E,{},1,x)}function d(E,x,y,C,N){var D=y,k=E.node(C);return x[C]=!0,E.neighbors(C).forEach(O=>{Object.hasOwn(x,O)||(y=d(E,x,y,O,C))}),k.low=D,k.lim=y++,N?k.parent=N:delete k.parent,y}function f(E){return E.edges().find(x=>E.edge(x).cutvalue<0)}function h(E,x,y){var C=y.v,N=y.w;x.hasEdge(C,N)||(C=y.w,N=y.v);var D=E.node(C),k=E.node(N),O=D,A=!1;D.lim>k.lim&&(O=k,A=!0);var w=x.edges().filter(_=>A===m(E,E.node(_.v),O)&&A!==m(E,E.node(_.w),O));return w.reduce((_,T)=>t(x,T)<t(x,_)?T:_)}function $(E,x,y,C){var N=y.v,D=y.w;E.removeEdge(N,D),E.setEdge(C.v,C.w,{}),u(E),a(E,x),b(E,x)}function b(E,x){var y=E.nodes().find(N=>!x.node(N).parent),C=r(E,y);C=C.slice(1),C.forEach(N=>{var D=E.node(N).parent,k=x.edge(N,D),O=!1;k||(k=x.edge(D,N),O=!0),x.node(N).rank=x.node(D).rank+(O?k.minlen:-k.minlen)})}function v(E,x,y){return E.hasEdge(x,y)}function m(E,x,y){return y.low<=x.lim&&x.lim<=y.lim}return Vi}var Fi,Ia;function B$(){if(Ia)return Fi;Ia=1;var e=Ar(),t=e.longestPath,n=ec(),r=W$();Fi=i;function i(l){switch(l.graph().ranker){case"network-simplex":a(l);break;case"tight-tree":o(l);break;case"longest-path":s(l);break;default:a(l)}}var s=t;function o(l){t(l),n(l)}function a(l){r(l)}return Fi}var Yi,Oa;function X$(){if(Oa)return Yi;Oa=1,Yi=e;function e(r){let i=n(r);r.graph().dummyChains.forEach(s=>{let o=r.node(s),a=o.edgeObj,l=t(r,i,a.v,a.w),c=l.path,u=l.lca,d=0,f=c[d],h=!0;for(;s!==a.w;){if(o=r.node(s),h){for(;(f=c[d])!==u&&r.node(f).maxRank<o.rank;)d++;f===u&&(h=!1)}if(!h){for(;d<c.length-1&&r.node(f=c[d+1]).minRank<=o.rank;)d++;f=c[d]}r.setParent(s,f),s=r.successors(s)[0]}})}function t(r,i,s,o){let a=[],l=[],c=Math.min(i[s].low,i[o].low),u=Math.max(i[s].lim,i[o].lim),d,f;d=s;do d=r.parent(d),a.push(d);while(d&&(i[d].low>c||u>i[d].lim));for(f=d,d=o;(d=r.parent(d))!==f;)l.push(d);return{path:a.concat(l.reverse()),lca:f}}function n(r){let i={},s=0;function o(a){let l=s;r.children(a).forEach(o),i[a]={low:l,lim:s++}}return r.children().forEach(o),i}return Yi}var qi,Ma;function K$(){if(Ma)return qi;Ma=1;let e=Re();qi={run:t,cleanup:s};function t(o){let a=e.addDummyNode(o,"root",{},"_root"),l=r(o),c=Object.values(l),u=e.applyWithChunking(Math.max,c)-1,d=2*u+1;o.graph().nestingRoot=a,o.edges().forEach(h=>o.edge(h).minlen*=d);let f=i(o)+1;o.children().forEach(h=>n(o,a,d,f,u,l,h)),o.graph().nodeRankFactor=d}function n(o,a,l,c,u,d,f){let h=o.children(f);if(!h.length){f!==a&&o.setEdge(a,f,{weight:0,minlen:l});return}let $=e.addBorderNode(o,"_bt"),b=e.addBorderNode(o,"_bb"),v=o.node(f);o.setParent($,f),v.borderTop=$,o.setParent(b,f),v.borderBottom=b,h.forEach(m=>{n(o,a,l,c,u,d,m);let E=o.node(m),x=E.borderTop?E.borderTop:m,y=E.borderBottom?E.borderBottom:m,C=E.borderTop?c:2*c,N=x!==y?1:u-d[f]+1;o.setEdge($,x,{weight:C,minlen:N,nestingEdge:!0}),o.setEdge(y,b,{weight:C,minlen:N,nestingEdge:!0})}),o.parent(f)||o.setEdge(a,$,{weight:0,minlen:u+d[f]})}function r(o){var a={};function l(c,u){var d=o.children(c);d&&d.length&&d.forEach(f=>l(f,u+1)),a[c]=u}return o.children().forEach(c=>l(c,1)),a}function i(o){return o.edges().reduce((a,l)=>a+o.edge(l).weight,0)}function s(o){var a=o.graph();o.removeNode(a.nestingRoot),delete a.nestingRoot,o.edges().forEach(l=>{var c=o.edge(l);c.nestingEdge&&o.removeEdge(l)})}return qi}var Wi,Aa;function j$(){if(Aa)return Wi;Aa=1;let e=Re();Wi=t;function t(r){function i(s){let o=r.children(s),a=r.node(s);if(o.length&&o.forEach(i),Object.hasOwn(a,"minRank")){a.borderLeft=[],a.borderRight=[];for(let l=a.minRank,c=a.maxRank+1;l<c;++l)n(r,"borderLeft","_bl",s,a,l),n(r,"borderRight","_br",s,a,l)}}r.children().forEach(i)}function n(r,i,s,o,a,l){let c={width:0,height:0,rank:l,borderType:i},u=a[i][l-1],d=e.addDummyNode(r,"border",c,s);a[i][l]=d,r.setParent(d,o),u&&r.setEdge(u,d,{weight:1})}return Wi}var Bi,Ta;function Z$(){if(Ta)return Bi;Ta=1,Bi={adjust:e,undo:t};function e(l){let c=l.graph().rankdir.toLowerCase();(c==="lr"||c==="rl")&&n(l)}function t(l){let c=l.graph().rankdir.toLowerCase();(c==="bt"||c==="rl")&&i(l),(c==="lr"||c==="rl")&&(o(l),n(l))}function n(l){l.nodes().forEach(c=>r(l.node(c))),l.edges().forEach(c=>r(l.edge(c)))}function r(l){let c=l.width;l.width=l.height,l.height=c}function i(l){l.nodes().forEach(c=>s(l.node(c))),l.edges().forEach(c=>{let u=l.edge(c);u.points.forEach(s),Object.hasOwn(u,"y")&&s(u)})}function s(l){l.y=-l.y}function o(l){l.nodes().forEach(c=>a(l.node(c))),l.edges().forEach(c=>{let u=l.edge(c);u.points.forEach(a),Object.hasOwn(u,"x")&&a(u)})}function a(l){let c=l.x;l.x=l.y,l.y=c}return Bi}var Xi,Da;function G$(){if(Da)return Xi;Da=1;let e=Re();Xi=t;function t(n){let r={},i=n.nodes().filter(u=>!n.children(u).length),s=i.map(u=>n.node(u).rank),o=e.applyWithChunking(Math.max,s),a=e.range(o+1).map(()=>[]);function l(u){if(r[u])return;r[u]=!0;let d=n.node(u);a[d.rank].push(u),n.successors(u).forEach(l)}return i.sort((u,d)=>n.node(u).rank-n.node(d).rank).forEach(l),a}return Xi}var Ki,za;function U$(){if(za)return Ki;za=1;let e=Re().zipObject;Ki=t;function t(r,i){let s=0;for(let o=1;o<i.length;++o)s+=n(r,i[o-1],i[o]);return s}function n(r,i,s){let o=e(s,s.map((f,h)=>h)),a=i.flatMap(f=>r.outEdges(f).map(h=>({pos:o[h.w],weight:r.edge(h).weight})).sort((h,$)=>h.pos-$.pos)),l=1;for(;l<s.length;)l<<=1;let c=2*l-1;l-=1;let u=new Array(c).fill(0),d=0;return a.forEach(f=>{let h=f.pos+l;u[h]+=f.weight;let $=0;for(;h>0;)h%2&&($+=u[h+1]),h=h-1>>1,u[h]+=f.weight;d+=f.weight*$}),d}return Ki}var ji,Ha;function Q$(){if(Ha)return ji;Ha=1,ji=e;function e(t,n=[]){return n.map(r=>{let i=t.inEdges(r);if(i.length){let s=i.reduce((o,a)=>{let l=t.edge(a),c=t.node(a.v);return{sum:o.sum+l.weight*c.order,weight:o.weight+l.weight}},{sum:0,weight:0});return{v:r,barycenter:s.sum/s.weight,weight:s.weight}}else return{v:r}})}return ji}var Zi,Ra;function J$(){if(Ra)return Zi;Ra=1;let e=Re();Zi=t;function t(i,s){let o={};i.forEach((l,c)=>{let u=o[l.v]={indegree:0,in:[],out:[],vs:[l.v],i:c};l.barycenter!==void 0&&(u.barycenter=l.barycenter,u.weight=l.weight)}),s.edges().forEach(l=>{let c=o[l.v],u=o[l.w];c!==void 0&&u!==void 0&&(u.indegree++,c.out.push(o[l.w]))});let a=Object.values(o).filter(l=>!l.indegree);return n(a)}function n(i){let s=[];function o(l){return c=>{c.merged||(c.barycenter===void 0||l.barycenter===void 0||c.barycenter>=l.barycenter)&&r(l,c)}}function a(l){return c=>{c.in.push(l),--c.indegree===0&&i.push(c)}}for(;i.length;){let l=i.pop();s.push(l),l.in.reverse().forEach(o(l)),l.out.forEach(a(l))}return s.filter(l=>!l.merged).map(l=>e.pick(l,["vs","i","barycenter","weight"]))}function r(i,s){let o=0,a=0;i.weight&&(o+=i.barycenter*i.weight,a+=i.weight),s.weight&&(o+=s.barycenter*s.weight,a+=s.weight),i.vs=s.vs.concat(i.vs),i.barycenter=o/a,i.weight=a,i.i=Math.min(s.i,i.i),s.merged=!0}return Zi}var Gi,La;function e1(){if(La)return Gi;La=1;let e=Re();Gi=t;function t(i,s){let o=e.partition(i,$=>Object.hasOwn($,"barycenter")),a=o.lhs,l=o.rhs.sort(($,b)=>b.i-$.i),c=[],u=0,d=0,f=0;a.sort(r(!!s)),f=n(c,l,f),a.forEach($=>{f+=$.vs.length,c.push($.vs),u+=$.barycenter*$.weight,d+=$.weight,f=n(c,l,f)});let h={vs:c.flat(!0)};return d&&(h.barycenter=u/d,h.weight=d),h}function n(i,s,o){let a;for(;s.length&&(a=s[s.length-1]).i<=o;)s.pop(),i.push(a.vs),o++;return o}function r(i){return(s,o)=>s.barycenter<o.barycenter?-1:s.barycenter>o.barycenter?1:i?o.i-s.i:s.i-o.i}return Gi}var Ui,Va;function t1(){if(Va)return Ui;Va=1;let e=Q$(),t=J$(),n=e1();Ui=r;function r(o,a,l,c){let u=o.children(a),d=o.node(a),f=d?d.borderLeft:void 0,h=d?d.borderRight:void 0,$={};f&&(u=u.filter(E=>E!==f&&E!==h));let b=e(o,u);b.forEach(E=>{if(o.children(E.v).length){let x=r(o,E.v,l,c);$[E.v]=x,Object.hasOwn(x,"barycenter")&&s(E,x)}});let v=t(b,l);i(v,$);let m=n(v,c);if(f&&(m.vs=[f,m.vs,h].flat(!0),o.predecessors(f).length)){let E=o.node(o.predecessors(f)[0]),x=o.node(o.predecessors(h)[0]);Object.hasOwn(m,"barycenter")||(m.barycenter=0,m.weight=0),m.barycenter=(m.barycenter*m.weight+E.order+x.order)/(m.weight+2),m.weight+=2}return m}function i(o,a){o.forEach(l=>{l.vs=l.vs.flatMap(c=>a[c]?a[c].vs:c)})}function s(o,a){o.barycenter!==void 0?(o.barycenter=(o.barycenter*o.weight+a.barycenter*a.weight)/(o.weight+a.weight),o.weight+=a.weight):(o.barycenter=a.barycenter,o.weight=a.weight)}return Ui}var Qi,Fa;function n1(){if(Fa)return Qi;Fa=1;let e=at().Graph,t=Re();Qi=n;function n(i,s,o){let a=r(i),l=new e({compound:!0}).setGraph({root:a}).setDefaultNodeLabel(c=>i.node(c));return i.nodes().forEach(c=>{let u=i.node(c),d=i.parent(c);(u.rank===s||u.minRank<=s&&s<=u.maxRank)&&(l.setNode(c),l.setParent(c,d||a),i[o](c).forEach(f=>{let h=f.v===c?f.w:f.v,$=l.edge(h,c),b=$!==void 0?$.weight:0;l.setEdge(h,c,{weight:i.edge(f).weight+b})}),Object.hasOwn(u,"minRank")&&l.setNode(c,{borderLeft:u.borderLeft[s],borderRight:u.borderRight[s]}))}),l}function r(i){for(var s;i.hasNode(s=t.uniqueId("_root")););return s}return Qi}var Ji,Ya;function r1(){if(Ya)return Ji;Ya=1,Ji=e;function e(t,n,r){let i={},s;r.forEach(o=>{let a=t.parent(o),l,c;for(;a;){if(l=t.parent(a),l?(c=i[l],i[l]=a):(c=s,s=a),c&&c!==a){n.setEdge(c,a);return}a=l}})}return Ji}var eo,qa;function i1(){if(qa)return eo;qa=1;let e=G$(),t=U$(),n=t1(),r=n1(),i=r1(),s=at().Graph,o=Re();eo=a;function a(d,f){if(f&&typeof f.customOrder=="function"){f.customOrder(d,a);return}let h=o.maxRank(d),$=l(d,o.range(1,h+1),"inEdges"),b=l(d,o.range(h-1,-1,-1),"outEdges"),v=e(d);if(u(d,v),f&&f.disableOptimalOrderHeuristic)return;let m=Number.POSITIVE_INFINITY,E;for(let x=0,y=0;y<4;++x,++y){c(x%2?$:b,x%4>=2),v=o.buildLayerMatrix(d);let C=t(d,v);C<m&&(y=0,E=Object.assign({},v),m=C)}u(d,E)}function l(d,f,h){return f.map(function($){return r(d,$,h)})}function c(d,f){let h=new s;d.forEach(function($){let b=$.graph().root,v=n($,b,h,f);v.vs.forEach((m,E)=>$.node(m).order=E),i($,h,v.vs)})}function u(d,f){Object.values(f).forEach(h=>h.forEach(($,b)=>d.node($).order=b))}return eo}var to,Wa;function o1(){if(Wa)return to;Wa=1;let e=at().Graph,t=Re();to={positionX:h,findType1Conflicts:n,findType2Conflicts:r,addConflict:s,hasConflict:o,verticalAlignment:a,horizontalCompaction:l,alignCoordinates:d,findSmallestWidthAlignment:u,balance:f};function n(v,m){let E={};function x(y,C){let N=0,D=0,k=y.length,O=C[C.length-1];return C.forEach((A,w)=>{let _=i(v,A),T=_?v.node(_).order:k;(_||A===O)&&(C.slice(D,w+1).forEach(p=>{v.predecessors(p).forEach(P=>{let S=v.node(P),L=S.order;(L<N||T<L)&&!(S.dummy&&v.node(p).dummy)&&s(E,P,p)})}),D=w+1,N=T)}),C}return m.length&&m.reduce(x),E}function r(v,m){let E={};function x(C,N,D,k,O){let A;t.range(N,D).forEach(w=>{A=C[w],v.node(A).dummy&&v.predecessors(A).forEach(_=>{let T=v.node(_);T.dummy&&(T.order<k||T.order>O)&&s(E,_,A)})})}function y(C,N){let D=-1,k,O=0;return N.forEach((A,w)=>{if(v.node(A).dummy==="border"){let _=v.predecessors(A);_.length&&(k=v.node(_[0]).order,x(N,O,w,D,k),O=w,D=k)}x(N,O,N.length,k,C.length)}),N}return m.length&&m.reduce(y),E}function i(v,m){if(v.node(m).dummy)return v.predecessors(m).find(E=>v.node(E).dummy)}function s(v,m,E){if(m>E){let y=m;m=E,E=y}let x=v[m];x||(v[m]=x={}),x[E]=!0}function o(v,m,E){if(m>E){let x=m;m=E,E=x}return!!v[m]&&Object.hasOwn(v[m],E)}function a(v,m,E,x){let y={},C={},N={};return m.forEach(D=>{D.forEach((k,O)=>{y[k]=k,C[k]=k,N[k]=O})}),m.forEach(D=>{let k=-1;D.forEach(O=>{let A=x(O);if(A.length){A=A.sort((_,T)=>N[_]-N[T]);let w=(A.length-1)/2;for(let _=Math.floor(w),T=Math.ceil(w);_<=T;++_){let p=A[_];C[O]===O&&k<N[p]&&!o(E,O,p)&&(C[p]=O,C[O]=y[O]=y[p],k=N[p])}}})}),{root:y,align:C}}function l(v,m,E,x,y){let C={},N=c(v,m,E,y),D=y?"borderLeft":"borderRight";function k(w,_){let T=N.nodes(),p=T.pop(),P={};for(;p;)P[p]?w(p):(P[p]=!0,T.push(p),T=T.concat(_(p))),p=T.pop()}function O(w){C[w]=N.inEdges(w).reduce((_,T)=>Math.max(_,C[T.v]+N.edge(T)),0)}function A(w){let _=N.outEdges(w).reduce((p,P)=>Math.min(p,C[P.w]-N.edge(P)),Number.POSITIVE_INFINITY),T=v.node(w);_!==Number.POSITIVE_INFINITY&&T.borderType!==D&&(C[w]=Math.max(C[w],_))}return k(O,N.predecessors.bind(N)),k(A,N.successors.bind(N)),Object.keys(x).forEach(w=>C[w]=C[E[w]]),C}function c(v,m,E,x){let y=new e,C=v.graph(),N=$(C.nodesep,C.edgesep,x);return m.forEach(D=>{let k;D.forEach(O=>{let A=E[O];if(y.setNode(A),k){var w=E[k],_=y.edge(w,A);y.setEdge(w,A,Math.max(N(v,O,k),_||0))}k=O})}),y}function u(v,m){return Object.values(m).reduce((E,x)=>{let y=Number.NEGATIVE_INFINITY,C=Number.POSITIVE_INFINITY;Object.entries(x).forEach(([D,k])=>{let O=b(v,D)/2;y=Math.max(k+O,y),C=Math.min(k-O,C)});const N=y-C;return N<E[0]&&(E=[N,x]),E},[Number.POSITIVE_INFINITY,null])[1]}function d(v,m){let E=Object.values(m),x=t.applyWithChunking(Math.min,E),y=t.applyWithChunking(Math.max,E);["u","d"].forEach(C=>{["l","r"].forEach(N=>{let D=C+N,k=v[D];if(k===m)return;let O=Object.values(k),A=x-t.applyWithChunking(Math.min,O);N!=="l"&&(A=y-t.applyWithChunking(Math.max,O)),A&&(v[D]=t.mapValues(k,w=>w+A))})})}function f(v,m){return t.mapValues(v.ul,(E,x)=>{if(m)return v[m.toLowerCase()][x];{let y=Object.values(v).map(C=>C[x]).sort((C,N)=>C-N);return(y[1]+y[2])/2}})}function h(v){let m=t.buildLayerMatrix(v),E=Object.assign(n(v,m),r(v,m)),x={},y;["u","d"].forEach(N=>{y=N==="u"?m:Object.values(m).reverse(),["l","r"].forEach(D=>{D==="r"&&(y=y.map(w=>Object.values(w).reverse()));let k=(N==="u"?v.predecessors:v.successors).bind(v),O=a(v,y,E,k),A=l(v,y,O.root,O.align,D==="r");D==="r"&&(A=t.mapValues(A,w=>-w)),x[N+D]=A})});let C=u(v,x);return d(x,C),f(x,v.graph().align)}function $(v,m,E){return(x,y,C)=>{let N=x.node(y),D=x.node(C),k=0,O;if(k+=N.width/2,Object.hasOwn(N,"labelpos"))switch(N.labelpos.toLowerCase()){case"l":O=-N.width/2;break;case"r":O=N.width/2;break}if(O&&(k+=E?O:-O),O=0,k+=(N.dummy?m:v)/2,k+=(D.dummy?m:v)/2,k+=D.width/2,Object.hasOwn(D,"labelpos"))switch(D.labelpos.toLowerCase()){case"l":O=D.width/2;break;case"r":O=-D.width/2;break}return O&&(k+=E?O:-O),O=0,k}}function b(v,m){return v.node(m).width}return to}var no,Ba;function s1(){if(Ba)return no;Ba=1;let e=Re(),t=o1().positionX;no=n;function n(i){i=e.asNonCompoundGraph(i),r(i),Object.entries(t(i)).forEach(([s,o])=>i.node(s).x=o)}function r(i){let s=e.buildLayerMatrix(i),o=i.graph().ranksep,a=0;s.forEach(l=>{const c=l.reduce((u,d)=>{const f=i.node(d).height;return u>f?u:f},0);l.forEach(u=>i.node(u).y=a+c/2),a+=c+o})}return no}var ro,Xa;function a1(){if(Xa)return ro;Xa=1;let e=Y$(),t=q$(),n=B$(),r=Re().normalizeRanks,i=X$(),s=Re().removeEmptyRanks,o=K$(),a=j$(),l=Z$(),c=i1(),u=s1(),d=Re(),f=at().Graph;ro=h;function h(z,H){let I=H&&H.debugTiming?d.time:d.notime;I("layout",()=>{let R=I("  buildLayoutGraph",()=>k(z));I("  runLayout",()=>$(R,I,H)),I("  updateInputGraph",()=>b(z,R))})}function $(z,H,I){H("    makeSpaceForEdgeLabels",()=>O(z)),H("    removeSelfEdges",()=>Y(z)),H("    acyclic",()=>e.run(z)),H("    nestingGraph.run",()=>o.run(z)),H("    rank",()=>n(d.asNonCompoundGraph(z))),H("    injectEdgeLabelProxies",()=>A(z)),H("    removeEmptyRanks",()=>s(z)),H("    nestingGraph.cleanup",()=>o.cleanup(z)),H("    normalizeRanks",()=>r(z)),H("    assignRankMinMax",()=>w(z)),H("    removeEdgeLabelProxies",()=>_(z)),H("    normalize.run",()=>t.run(z)),H("    parentDummyChains",()=>i(z)),H("    addBorderSegments",()=>a(z)),H("    order",()=>c(z,I)),H("    insertSelfEdges",()=>X(z)),H("    adjustCoordinateSystem",()=>l.adjust(z)),H("    position",()=>u(z)),H("    positionSelfEdges",()=>K(z)),H("    removeBorderNodes",()=>L(z)),H("    normalize.undo",()=>t.undo(z)),H("    fixupEdgeLabelCoords",()=>P(z)),H("    undoCoordinateSystem",()=>l.undo(z)),H("    translateGraph",()=>T(z)),H("    assignNodeIntersects",()=>p(z)),H("    reversePoints",()=>S(z)),H("    acyclic.undo",()=>e.undo(z))}function b(z,H){z.nodes().forEach(I=>{let R=z.node(I),V=H.node(I);R&&(R.x=V.x,R.y=V.y,R.rank=V.rank,H.children(I).length&&(R.width=V.width,R.height=V.height))}),z.edges().forEach(I=>{let R=z.edge(I),V=H.edge(I);R.points=V.points,Object.hasOwn(V,"x")&&(R.x=V.x,R.y=V.y)}),z.graph().width=H.graph().width,z.graph().height=H.graph().height}let v=["nodesep","edgesep","ranksep","marginx","marginy"],m={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},E=["acyclicer","ranker","rankdir","align"],x=["width","height"],y={width:0,height:0},C=["minlen","weight","width","height","labeloffset"],N={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},D=["labelpos"];function k(z){let H=new f({multigraph:!0,compound:!0}),I=Q(z.graph());return H.setGraph(Object.assign({},m,Z(I,v),d.pick(I,E))),z.nodes().forEach(R=>{let V=Q(z.node(R));const F=Z(V,x);Object.keys(y).forEach(G=>{F[G]===void 0&&(F[G]=y[G])}),H.setNode(R,F),H.setParent(R,z.parent(R))}),z.edges().forEach(R=>{let V=Q(z.edge(R));H.setEdge(R,Object.assign({},N,Z(V,C),d.pick(V,D)))}),H}function O(z){let H=z.graph();H.ranksep/=2,z.edges().forEach(I=>{let R=z.edge(I);R.minlen*=2,R.labelpos.toLowerCase()!=="c"&&(H.rankdir==="TB"||H.rankdir==="BT"?R.width+=R.labeloffset:R.height+=R.labeloffset)})}function A(z){z.edges().forEach(H=>{let I=z.edge(H);if(I.width&&I.height){let R=z.node(H.v),F={rank:(z.node(H.w).rank-R.rank)/2+R.rank,e:H};d.addDummyNode(z,"edge-proxy",F,"_ep")}})}function w(z){let H=0;z.nodes().forEach(I=>{let R=z.node(I);R.borderTop&&(R.minRank=z.node(R.borderTop).rank,R.maxRank=z.node(R.borderBottom).rank,H=Math.max(H,R.maxRank))}),z.graph().maxRank=H}function _(z){z.nodes().forEach(H=>{let I=z.node(H);I.dummy==="edge-proxy"&&(z.edge(I.e).labelRank=I.rank,z.removeNode(H))})}function T(z){let H=Number.POSITIVE_INFINITY,I=0,R=Number.POSITIVE_INFINITY,V=0,F=z.graph(),G=F.marginx||0,J=F.marginy||0;function ne(ee){let q=ee.x,B=ee.y,re=ee.width,ie=ee.height;H=Math.min(H,q-re/2),I=Math.max(I,q+re/2),R=Math.min(R,B-ie/2),V=Math.max(V,B+ie/2)}z.nodes().forEach(ee=>ne(z.node(ee))),z.edges().forEach(ee=>{let q=z.edge(ee);Object.hasOwn(q,"x")&&ne(q)}),H-=G,R-=J,z.nodes().forEach(ee=>{let q=z.node(ee);q.x-=H,q.y-=R}),z.edges().forEach(ee=>{let q=z.edge(ee);q.points.forEach(B=>{B.x-=H,B.y-=R}),Object.hasOwn(q,"x")&&(q.x-=H),Object.hasOwn(q,"y")&&(q.y-=R)}),F.width=I-H+G,F.height=V-R+J}function p(z){z.edges().forEach(H=>{let I=z.edge(H),R=z.node(H.v),V=z.node(H.w),F,G;I.points?(F=I.points[0],G=I.points[I.points.length-1]):(I.points=[],F=V,G=R),I.points.unshift(d.intersectRect(R,F)),I.points.push(d.intersectRect(V,G))})}function P(z){z.edges().forEach(H=>{let I=z.edge(H);if(Object.hasOwn(I,"x"))switch((I.labelpos==="l"||I.labelpos==="r")&&(I.width-=I.labeloffset),I.labelpos){case"l":I.x-=I.width/2+I.labeloffset;break;case"r":I.x+=I.width/2+I.labeloffset;break}})}function S(z){z.edges().forEach(H=>{let I=z.edge(H);I.reversed&&I.points.reverse()})}function L(z){z.nodes().forEach(H=>{if(z.children(H).length){let I=z.node(H),R=z.node(I.borderTop),V=z.node(I.borderBottom),F=z.node(I.borderLeft[I.borderLeft.length-1]),G=z.node(I.borderRight[I.borderRight.length-1]);I.width=Math.abs(G.x-F.x),I.height=Math.abs(V.y-R.y),I.x=F.x+I.width/2,I.y=R.y+I.height/2}}),z.nodes().forEach(H=>{z.node(H).dummy==="border"&&z.removeNode(H)})}function Y(z){z.edges().forEach(H=>{if(H.v===H.w){var I=z.node(H.v);I.selfEdges||(I.selfEdges=[]),I.selfEdges.push({e:H,label:z.edge(H)}),z.removeEdge(H)}})}function X(z){var H=d.buildLayerMatrix(z);H.forEach(I=>{var R=0;I.forEach((V,F)=>{var G=z.node(V);G.order=F+R,(G.selfEdges||[]).forEach(J=>{d.addDummyNode(z,"selfedge",{width:J.label.width,height:J.label.height,rank:G.rank,order:F+ ++R,e:J.e,label:J.label},"_se")}),delete G.selfEdges})})}function K(z){z.nodes().forEach(H=>{var I=z.node(H);if(I.dummy==="selfedge"){var R=z.node(I.e.v),V=R.x+R.width/2,F=R.y,G=I.x-V,J=R.height/2;z.setEdge(I.e,I.label),z.removeNode(H),I.label.points=[{x:V+2*G/3,y:F-J},{x:V+5*G/6,y:F-J},{x:V+G,y:F},{x:V+5*G/6,y:F+J},{x:V+2*G/3,y:F+J}],I.label.x=I.x,I.label.y=I.y}})}function Z(z,H){return d.mapValues(d.pick(z,H),Number)}function Q(z){var H={};return z&&Object.entries(z).forEach(([I,R])=>{typeof I=="string"&&(I=I.toLowerCase()),H[I]=R}),H}return ro}var io,Ka;function l1(){if(Ka)return io;Ka=1;let e=Re(),t=at().Graph;io={debugOrdering:n};function n(r){let i=e.buildLayerMatrix(r),s=new t({compound:!0,multigraph:!0}).setGraph({});return r.nodes().forEach(o=>{s.setNode(o,{label:o}),s.setParent(o,"layer"+r.node(o).rank)}),r.edges().forEach(o=>s.setEdge(o.v,o.w,{},o.name)),i.forEach((o,a)=>{let l="layer"+a;s.setNode(l,{rank:"same"}),o.reduce((c,u)=>(s.setEdge(c,u,{style:"invis"}),u))}),s}return io}var oo,ja;function u1(){return ja||(ja=1,oo="1.1.4"),oo}var so,Za;function c1(){return Za||(Za=1,so={graphlib:at(),layout:a1(),debug:l1(),util:{time:Re().time,notime:Re().notime},version:u1()}),so}var d1=c1();const Ga=N$(d1),f1="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%202048%202048'%3e%3cpath%20d='M128%20256h1664v1536H128V256zm640%20768v256h384v-256H768zm384-128V640H768v256h384zm-512%200V640H256v256h384zm-384%20128v256h384v-256H256zm384%20640v-256H256v256h384zm512%200v-256H768v256h384zm512%200v-256h-384v256h384zm0-384v-256h-384v256h384zm0-384V640h-384v256h384zM256%20512h1408V384H256v128z'%20/%3e%3c/svg%3e",h1="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3csvg%20xmlns:dc='http://purl.org/dc/elements/1.1/'%20xmlns:cc='http://creativecommons.org/ns%23'%20xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23'%20xmlns:svg='http://www.w3.org/2000/svg'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%201408%202048'%20version='1.1'%20id='svg15388'%20width='1408'%20height='2048'%3e%3cmetadata%20id='metadata15394'%3e%3crdf:RDF%3e%3ccc:Work%20rdf:about=''%3e%3cdc:format%3eimage/svg+xml%3c/dc:format%3e%3cdc:type%20rdf:resource='http://purl.org/dc/dcmitype/StillImage'%20/%3e%3cdc:title%3e%3c/dc:title%3e%3c/cc:Work%3e%3c/rdf:RDF%3e%3c/metadata%3e%3cdefs%20id='defs15392'%20/%3e%3cpath%20d='M%200,0%20H%201408%20V%202048%20H%200%20Z%20M%201280,1920%20V%20128%20H%20128%20V%201920%20Z%20M%201152,256%20V%20640%20H%20256%20V%20256%20Z%20M%201024,512%20V%20384%20H%20384%20V%20512%20Z%20M%20384,896%20v%20128%20H%20256%20V%20896%20Z%20m%20256,128%20V%20896%20h%20128%20v%20128%20z%20m%20384,0%20V%20896%20h%20128%20v%20128%20z%20m%20-640,256%20v%20128%20H%20256%20v%20-128%20z%20m%20256,128%20v%20-128%20h%20128%20v%20128%20z%20m%20384,0%20v%20-128%20h%20128%20v%20128%20z%20m%20-640,256%20v%20128%20H%20256%20v%20-128%20z%20m%20256,128%20v%20-128%20h%20128%20v%20128%20z%20m%20384,0%20v%20-128%20h%20128%20v%20128%20z'%20id='path15386'%20/%3e%3c/svg%3e",g1="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20width='512'%20height='512'%3e%3cpath%20d='M0%200%20C1.77656264%20-0.00435235%203.5531234%20-0.00953724%205.3296814%20-0.01548767%20C10.13554019%20-0.02883265%2014.94132012%20-0.02946136%2019.74719381%20-0.02692437%20C23.76787605%20-0.02585159%2027.78854254%20-0.03074587%2031.80922139%20-0.03552979%20C41.29925863%20-0.04660943%2050.7892563%20-0.04707109%2060.27929688%20-0.04101562%20C70.05013042%20-0.0349766%2079.82081993%20-0.04728861%2089.59162891%20-0.06858569%20C97.99871607%20-0.08623251%20106.40575752%20-0.09219819%20114.81286252%20-0.08894795%20C119.82601474%20-0.08713985%20124.8390642%20-0.08972389%20129.85219955%20-0.10366249%20C134.56860667%20-0.11628641%20139.28479011%20-0.11425374%20144.001194%20-0.1012516%20C145.7252434%20-0.09889618%20147.44930877%20-0.10158313%20149.17333984%20-0.10987473%20C165.03262055%20-0.18060817%20178.43681481%202.07469503%20190.52392578%2013.12231445%20C200.25684679%2024.02239469%20201.74658636%2034.7258909%20201.71322632%2048.70941162%20C201.71696506%2050.19254387%20201.72156748%2051.67567415%20201.72695696%2053.15880132%20C201.73917471%2057.22633838%20201.73892794%2061.29379312%20201.73656821%2065.36134434%20C201.73615974%2069.75139695%20201.74720216%2074.14142328%20201.75668335%2078.53146362%20C201.77328769%2087.12953673%20201.77879264%2095.72758241%20201.77990811%20104.32567021%20C201.78085887%20111.31578331%20201.78497056%20118.30588738%20201.79130936%20125.29599762%20C201.80892037%20145.1204331%20201.81814847%20164.94484694%20201.81664841%20184.7692903%20C201.8165685%20185.83776093%20201.81648858%20186.90623155%20201.81640625%20188.00708008%20C201.81632449%20189.07685747%20201.81624273%20190.14663486%20201.81615849%20191.24882975%20C201.81534567%20208.58421481%20201.83448268%20225.91951296%20201.86268298%20243.25487289%20C201.89141982%20261.06075921%20201.90522283%20278.86660315%20201.90349543%20296.67251325%20C201.9028318%20306.66673023%20201.90831241%20316.66085611%20201.92985153%20326.65505219%20C201.94807385%20335.16469532%20201.95240203%20343.67420606%20201.93883269%20352.18386027%20C201.9323083%20356.52348538%20201.93216661%20360.86285656%20201.94953918%20365.20245743%20C201.96529855%20369.18008457%20201.96237736%20373.15725705%20201.94497092%20377.1348733%20C201.9419073%20378.56890348%20201.94550931%20380.00296783%20201.95669107%20381.43695769%20C202.05294889%20394.66417661%20199.2172417%20405.15642124%20190.44580078%20415.2746582%20C177.51352692%20427.41610956%20163.8559195%20428.57680697%20146.89160156%20428.54931641%20C145.11503893%20428.55366876%20143.33847817%20428.55885365%20141.56192017%20428.56480408%20C136.75606138%20428.57814905%20131.95028145%20428.57877777%20127.14440775%20428.57624078%20C123.12372551%20428.575168%20119.10305903%20428.58006228%20115.08238018%20428.5848462%20C105.59234293%20428.59592584%2096.10234527%20428.59638749%2086.61230469%20428.59033203%20C76.84147114%20428.58429301%2067.07078163%20428.59660502%2057.29997265%20428.6179021%20C48.89288549%20428.63554892%2040.48584404%20428.6415146%2032.07873905%20428.63826436%20C27.06558683%20428.63645626%2022.05253736%20428.6390403%2017.03940201%20428.6529789%20C12.3229949%20428.66560282%207.60681145%20428.66357014%202.89040756%20428.65056801%20C1.16635816%20428.64821259%20-0.55770721%20428.65089953%20-2.28173828%20428.65919113%20C-18.14101899%20428.72992457%20-31.54521325%20426.47462138%20-43.63232422%20415.42700195%20C-53.36524523%20404.52692171%20-54.8549848%20393.8234255%20-54.82162476%20379.83990479%20C-54.8253635%20378.35677254%20-54.82996592%20376.87364226%20-54.8353554%20375.39051509%20C-54.84757315%20371.32297803%20-54.84732638%20367.25552329%20-54.84496665%20363.18797207%20C-54.84455817%20358.79791945%20-54.8556006%20354.40789312%20-54.86508179%20350.01785278%20C-54.88168613%20341.41977968%20-54.88719108%20332.82173399%20-54.88830654%20324.22364619%20C-54.8892573%20317.23353309%20-54.89336899%20310.24342903%20-54.89970779%20303.25331879%20C-54.9173188%20283.42888331%20-54.92654691%20263.60446947%20-54.92504685%20243.78002611%20C-54.92496693%20242.71155548%20-54.92488702%20241.64308485%20-54.92480469%20240.54223633%20C-54.92472293%20239.47245894%20-54.92464116%20238.40268154%20-54.92455693%20237.30048665%20C-54.92374411%20219.9651016%20-54.94288111%20202.62980344%20-54.97108142%20185.29444352%20C-54.99981826%20167.4885572%20-55.01362127%20149.68271325%20-55.01189387%20131.87680316%20C-55.01123024%20121.88258618%20-55.01671085%20111.8884603%20-55.03824997%20101.89426422%20C-55.05647229%2093.38462108%20-55.06080046%2084.87511035%20-55.04723112%2076.36545613%20C-55.04070674%2072.02583102%20-55.04056504%2067.68645984%20-55.05793762%2063.34685898%20C-55.07369699%2059.36923183%20-55.07077579%2055.39205935%20-55.05336936%2051.41444311%20C-55.05030573%2049.98041293%20-55.05390775%2048.54634857%20-55.06508951%2047.11235872%20C-55.16134733%2033.88513979%20-52.32564014%2023.39289517%20-43.55419922%2013.2746582%20C-30.62192536%201.13320684%20-16.96431793%20-0.02749056%200%200%20Z%20M-11.55419922%2044.2746582%20C-11.55419922%2071.9946582%20-11.55419922%2099.7146582%20-11.55419922%20128.2746582%20C44.54580078%20128.2746582%20100.64580078%20128.2746582%20158.44580078%20128.2746582%20C158.44580078%20100.5546582%20158.44580078%2072.8346582%20158.44580078%2044.2746582%20C102.34580078%2044.2746582%2046.24580078%2044.2746582%20-11.55419922%2044.2746582%20Z%20M-11.55419922%20172.2746582%20C-11.55419922%20199.9946582%20-11.55419922%20227.7146582%20-11.55419922%20256.2746582%20C44.54580078%20256.2746582%20100.64580078%20256.2746582%20158.44580078%20256.2746582%20C158.44580078%20228.5546582%20158.44580078%20200.8346582%20158.44580078%20172.2746582%20C102.34580078%20172.2746582%2046.24580078%20172.2746582%20-11.55419922%20172.2746582%20Z%20M-11.55419922%20300.2746582%20C-11.55419922%20327.9946582%20-11.55419922%20355.7146582%20-11.55419922%20384.2746582%20C44.54580078%20384.2746582%20100.64580078%20384.2746582%20158.44580078%20384.2746582%20C158.44580078%20356.5546582%20158.44580078%20328.8346582%20158.44580078%20300.2746582%20C102.34580078%20300.2746582%2046.24580078%20300.2746582%20-11.55419922%20300.2746582%20Z%20'%20fill='%23000000'%20transform='translate(182.55419921875,41.725341796875)'/%3e%3c/svg%3e",$1="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3csvg%20xmlns:dc='http://purl.org/dc/elements/1.1/'%20xmlns:cc='http://creativecommons.org/ns%23'%20xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23'%20xmlns:svg='http://www.w3.org/2000/svg'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%201920%201792'%20version='1.1'%20id='svg855'%20width='1920'%20height='1792'%3e%3cmetadata%20id='metadata861'%3e%3crdf:RDF%3e%3ccc:Work%20rdf:about=''%3e%3cdc:format%3eimage/svg+xml%3c/dc:format%3e%3cdc:type%20rdf:resource='http://purl.org/dc/dcmitype/StillImage'%20/%3e%3cdc:title%3e%3c/dc:title%3e%3c/cc:Work%3e%3c/rdf:RDF%3e%3c/metadata%3e%3cdefs%20id='defs859'%20/%3e%3cpath%20d='m%201920,1101%20q%200,29%20-21,43%20-21,14%20-47,15%20-17,0%20-33,-4%20-16,-4%20-33,-10%20-35,31%20-61,70%20-26,39%20-51,79%206,26%2013,64%207,38%2021,74%2014,36%2036,60%2022,24%2058,25%206,0%2015,-1%209,-1%2020,-2%2011,-1%2019,-4%208,-3%2014,-5%20l%20-9,34%20q%20-32,14%20-62,24%20-30,10%20-66,10%20-20,0%20-38,-5%20-18,-5%20-31,-22%20-9,-12%20-18,-34%20-9,-22%20-16,-48%20-7,-26%20-14,-49%20-7,-23%20-10,-40%20-11,18%20-27,43%20-16,25%20-36,52%20-20,27%20-39,48%20-19,21%20-36,34%20-28,21%20-63,21%20-25,0%20-40,-13%20-15,-13%20-16,-39%200,-30%2021,-45%2021,-15%2049,-15%2017,0%2033,6%2016,6%2032,11%2033,-32%2060,-68%2027,-36%2051,-77%20-2,-13%20-10,-45%20-8,-32%20-19,-67%20-11,-35%20-23,-64%20-12,-29%20-22,-35%20-10,-6%20-21,-8%20-11,-2%20-23,-3%20-16,0%20-32,3%20-16,3%20-31,9%20l%209,-34%20q%207,-3%2023,-9%2016,-6%2033,-13%2017,-7%2034,-11%2017,-4%2024,-5%2031,0%2051,14%2020,14%2032,36%2012,22%2019,48%207,26%2013,52%203,12%207,26%204,14%204,27%2018,-25%2038,-60%2020,-35%2045,-67%2025,-32%2053,-55%2028,-23%2067,-23%2023,0%2038,14%2015,14%2016,38%20z%20m%20-965,307%20-27,128%20H%200%20V%200%20h%201664%20v%20704%20q%20-26,-35%20-56,-54%20-30,-19%20-72,-30%20V%20384%20h%20-384%20v%20256%20h%20161%20q%20-6,3%20-13,5%20-7,2%20-13,5%20-38,18%20-70,45%20-32,27%20-60,61%20-28,34%20-48,70%20-20,36%20-38,76%20h%20-47%20V%20768%20H%20640%20v%20256%20h%20299%20l%20-16,64%20-16,64%20H%20640%20v%20256%20z%20m%2069,-768%20V%20384%20H%20640%20V%20640%20Z%20M%20128,128%20V%20256%20H%201536%20V%20128%20Z%20M%20512,1408%20V%20384%20H%20128%20v%201024%20z%20m%20906,-346%20-11,47%20h%20-128%20l%20-91,424%20q%20-10,45%20-33,91%20-23,46%20-58,83%20-35,37%20-77,61%20-42,24%20-94,24%20-15,0%20-30,-3%20-15,-3%20-28,-9%20-13,-6%20-21,-19%20-8,-13%20-8,-30%200,-23%2014,-39%2014,-16%2038,-16%2015,0%2027,7%2012,7%2022,19%2010,12%2018,24%208,12%2014,24%2027,-2%2047,-25%2020,-23%2033,-54%2013,-31%2022,-64%209,-33%2014,-54%20l%2096,-444%20h%20-101%20l%2011,-46%20h%2099%20q%207,-34%2015,-65%208,-31%2023,-63%2015,-33%2038,-63%2023,-30%2052,-53%2029,-23%2063,-37%2034,-14%2073,-14%2015,0%2030,3%2015,3%2029,9%2014,6%2021,19%207,13%208,30%200,25%20-13,40%20-13,15%20-39,16%20-18,0%20-30,-7%20-12,-7%20-20,-18%20-8,-11%20-16,-24%20-8,-13%20-15,-26%20-21,2%20-37,16%20-16,14%20-29,37%20-13,23%20-22,51%20-9,28%20-17,55%20-8,27%20-11,52%20-3,25%20-8,41%20z'%20id='path853'%20/%3e%3c/svg%3e",p1="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3csvg%20xmlns:dc='http://purl.org/dc/elements/1.1/'%20xmlns:cc='http://creativecommons.org/ns%23'%20xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23'%20xmlns:svg='http://www.w3.org/2000/svg'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%202048%202048'%20version='1.1'%20id='svg903'%20width='2048'%20height='2048'%3e%3cmetadata%20id='metadata909'%3e%3crdf:RDF%3e%3ccc:Work%20rdf:about=''%3e%3cdc:format%3eimage/svg+xml%3c/dc:format%3e%3cdc:type%20rdf:resource='http://purl.org/dc/dcmitype/StillImage'%20/%3e%3cdc:title%3e%3c/dc:title%3e%3c/cc:Work%3e%3c/rdf:RDF%3e%3c/metadata%3e%3cdefs%20id='defs907'%20/%3e%3cpath%20d='m%201280,1664%20v%20128%20H%201152%20V%201664%20Z%20M%20896,640%20H%202048%20V%202048%20H%20896%20Z%20M%201920,1920%20V%20768%20h%20-896%20v%201152%20z%20m%20-512,-128%20v%20-128%20h%20128%20v%20128%20z%20m%20-128,-384%20v%20128%20h%20-128%20v%20-128%20z%20m%20384,128%20v%20-128%20h%20128%20v%20128%20z%20m%20128,-640%20v%20384%20H%201152%20V%20896%20Z%20m%20-128,256%20v%20-128%20h%20-384%20v%20128%20z%20m%200,640%20v%20-128%20h%20128%20v%20128%20z%20m%20-256,-256%20v%20-128%20h%20128%20v%20128%20z%20M%20640,384%20V%20640%20H%20768%20V%20768%20H%20640%20v%20256%20h%20128%20v%20128%20H%20640%20v%20256%20h%20128%20v%20128%20H%200%20V%200%20H%201664%20V%20512%20H%201536%20V%20384%20H%201152%20V%20512%20H%201024%20V%20384%20Z%20M%20512,1408%20V%201152%20H%20128%20v%20256%20z%20m%200,-384%20V%20768%20H%20128%20v%20256%20z%20m%200,-384%20V%20384%20H%20128%20V%20640%20Z%20M%20128,256%20H%201536%20V%20128%20H%20128%20Z'%20id='path901'%20/%3e%3c/svg%3e";var v1=He('<div><!> <div class="mui-node-content svelte-1wojfr4"><span class="mui-node-icon svelte-1wojfr4"><img alt="icon" class="icon-img svelte-1wojfr4"/></span> <span class="mui-node-name svelte-1wojfr4"><b> </b></span></div> <!></div>');function m1(e,t){we(t,!0);let n=te(t,"highlighted",3,!1);const r={Table:f1,Measure:h1,Column:g1,"Calc Column":$1,"Calc Table":p1};var i=v1();et(i,"--bg-color: #f0f8ff");var s=Se(i);pn(s,{type:"target",position:"left"});var o=ke(s,2),a=Se(o),l=Se(a),c=ke(a,2),u=Se(c),d=Se(u),f=ke(o,2);pn(f,{type:"source",position:"right"}),Me(()=>{lt(i,1,`mui-node ${n()?"highlighted":""} ${t.data.CalcType??""}`,"svelte-1wojfr4"),ye(l,"src",r[t.data.CalcType]),Zt(d,t.data.CalcName)}),me(e,i),_e()}var y1=(e,t)=>t.filterNode(t.id),b1=He('<div class="context-menu svelte-1jb6lho"><p style="margin: 0.5em;" class="svelte-1jb6lho"><small> </small></p> <div class="context-menu-divider svelte-1jb6lho"></div> <button class="svelte-1jb6lho">Filter Node</button> <button class="svelte-1jb6lho">Clear Filter</button></div>');function w1(e,t){we(t,!0);var n=b1();n.__click=function(...l){t.onclick?.apply(this,l)};var r=Se(n),i=Se(r),s=Se(i),o=ke(r,4);o.__click=[y1,t];var a=ke(o,2);a.__click=function(...l){t.clearFilter?.apply(this,l)},Me(()=>{et(n,`top: ${t.top??""}px; left: ${t.left??""}px; right: ${t.right??""}px; bottom: ${t.bottom??""}px;`),Zt(s,`node: ${t.id??""}`)}),me(e,n),_e()}jt(["click"]);function tc(e,t,n="incomers"){const r=[t],i=new Set,s=new Set,o=n==="incomers"?(a,l)=>a.target===l:(a,l)=>a.source===l;for(;r.length>0;){const a=r.shift();if(!i.has(a)){i.add(a);const l=e.filter(c=>o(c,a));for(const c of l){const u=n==="incomers"?c.source:c.target;i.has(u)||(r.push(u),s.add(u))}}}return s}function Ua(e,t){return tc(e,t,"incomers")}function Qa(e,t){return tc(e,t,"outgoers")}var _1=(e,t)=>t("In"),x1=(e,t)=>t("Out"),E1=He("<button>Fit View</button> <button>Zoom In</button> <button>Zoom Out</button>",1),k1=He("<!> <!>+ <!>",1),S1=He('<div style="height:100vh;"><!></div>');function N1(e,t){we(t,!0);const[n,r]=_d(),i=()=>hs(l,"$nodes",n),s=()=>hs(c,"$edges",n),o={selectorNode:m1};let a;const l=fs([]),c=fs([]),u=172,d=36,{fitView:f,setZoom:h,getViewport:$}=Ku(),b="http://localhost:8080/utilspbi/api/";var v,m;let E=xe(null),x=xe(void 0),y=xe(void 0);const C=(S,L,Y="TB")=>{const Z=new Ga.graphlib.Graph;Z.setDefaultEdgeLabel(()=>({}));const Q=Y==="LR";return Z.setGraph({rankdir:Y,ranksep:250,nodesep:50}),S.forEach(H=>{Z.setNode(H.id,{width:u,height:d})}),L.forEach(H=>{Z.setEdge(H.source,H.target)}),Ga.layout(Z),{nodes:S.map(H=>{const I=Z.node(H.id);return H.targetPosition=Q?be.Left:be.Top,H.sourcePosition=Q?be.Right:be.Bottom,{...H,position:{x:I.x-u/2,y:I.y-d/2}}}),edges:L}};async function N(){const S=b+"sveltenodes",L=b+"svelteedges";return Promise.all([fetch(S).then(Y=>Y.json()),fetch(L).then(Y=>Y.json())]).then(([Y,X])=>{Y.forEach(K=>{K.data&&K.data.name&&(K.data.nameLength=K.data.name.length)}),v=Y,m=X})}const D=S=>{l.set(S.nodes),c.set(S.edges);const L={padding:.5,duration:800,maxZoom:2};setTimeout(()=>{f(L)},0)};Yl(()=>{N().then(()=>{const S=C(v,m,"LR");l.set(S.nodes),c.set(S.edges)})});const k=S=>{const L=Array.from(new Set([...Ua(m,S),...Qa(m,S),S])),Y=v.filter(Z=>L.includes(Z.id)),X=m.filter(Z=>L.includes(Z.source)||L.includes(Z.target)),K=C(Y,X,"LR");D(K)},O=()=>{const S=C(v,m,"LR");D(S)},A=S=>{const L=S.node.id,Y=Array.from(new Set([...Ua(m,L),...Qa(m,L),L])),X=v.map(Q=>({...Q,highlighted:Y.includes(Q.id)})),K=m.map(Q=>({...Q,style:Y.includes(Q.source)||Y.includes(Q.target)?{stroke:"orange",strokeWidth:3}:{}})),Z=C(X,K,"LR");D(Z)},w=({event:S,node:L})=>{S.preventDefault(),W(E,{id:L.id,top:S.clientY<g(y)-200?S.clientY:void 0,left:S.clientX<g(x)-200?S.clientX:void 0,right:S.clientX>=g(x)-200?g(x)-S.clientX:void 0,bottom:S.clientY>=g(y)-200?g(y)-S.clientY:void 0},!0)},_=S=>{const L=$().zoom||1;S=="In"?h(L*1.1):h(L/1.1)},T=()=>{W(E,null)};var p=S1(),P=Se(p);_n(m$(P,{nodeTypes:o,fitView:!0,onnodeclick:A,onnodecontextmenu:w,onpaneclick:T,get connectionLineType(){return bt.SmoothStep},defaultEdgeOptions:{type:"bezier",animated:!1},get nodes(){return $s(),i()},set nodes(S){gs(l,S)},get edges(){return $s(),s()},set edges(S){gs(c,S)},children:(S,L)=>{var Y=k1(),X=Le(Y);ju(X,{position:"top-right",children:(z,H)=>{var I=E1(),R=Le(I);R.__click=f;var V=ke(R,2);V.__click=[_1,_];var F=ke(V,2);F.__click=[x1,_],me(z,I)},$$slots:{default:!0}});var K=ke(X,2);S$(K,{});var Z=ke(K,2);{var Q=z=>{w1(z,{onclick:T,filterNode:H=>k(H),clearFilter:()=>O(),get id(){return g(E).id},get top(){return g(E).top},get left(){return g(E).left},get right(){return g(E).right},get bottom(){return g(E).bottom}})};Ye(Z,z=>{g(E)&&z(Q)})}me(S,Y)},$$slots:{default:!0}}),S=>a=S,()=>a),yr(p,"clientWidth",S=>W(x,S)),yr(p,"clientHeight",S=>W(y,S)),me(e,p),_e(),r()}jt(["click"]);function C1(e){y$(e,{children:(t,n)=>{N1(t,{})},$$slots:{default:!0}})}ad(C1,{target:document.getElementById("app")});</script>
    <style rel="stylesheet" crossorigin>.transparent.svelte-w2n27y{background:transparent}.svelte-flow__selection.svelte-1iugwpu{position:absolute;top:0;left:0}.svelte-flow__selection-wrapper.svelte-16qgzgd{position:absolute;top:0;left:0;z-index:2000;pointer-events:all}.svelte-flow.svelte-12wlba6{width:100%;height:100%;overflow:hidden;position:relative;z-index:0;background-color:var(--background-color, var(--background-color-default))}:root{--background-color-default: #fff;--background-pattern-color-default: #ddd;--minimap-mask-color-default: rgb(240, 240, 240, .6);--minimap-mask-stroke-color-default: none;--minimap-mask-stroke-width-default: 1;--controls-button-background-color-default: #fefefe;--controls-button-background-color-hover-default: #f4f4f4;--controls-button-color-default: inherit;--controls-button-color-hover-default: inherit;--controls-button-border-color-default: #eee}.custom-node.svelte-1wojfr4{border-radius:8px;border:2px solid #ccc;width:180px;background-color:var(--bg-color);box-shadow:2px 2px 6px #0000001a;font-family:sans-serif;overflow:hidden}.custom-node.highlighted.svelte-1wojfr4{border:3px solid orange;box-shadow:0 0 10px 2px #ffa50055;background-color:#fffbe6}.title.svelte-1wojfr4{padding:10px;font-weight:700;background-color:#0000000d;border-bottom:1px solid #ccc}.detail.svelte-1wojfr4{font-size:12px;color:#555;padding:6px 10px;background-color:#00000005}.node-container.svelte-1wojfr4{display:flex;align-items:center;justify-content:space-between;border:1px solid #ccc;background-color:#fefefe;padding:8px 12px;border-radius:6px;font-family:sans-serif;font-size:14px;width:160px;box-shadow:0 2px 4px #0000001a}.node-name.svelte-1wojfr4{font-weight:500;color:#333;justify-content:left;align-items:left}.node-icon.svelte-1wojfr4{font-size:23px}.mui-node.svelte-1wojfr4{display:flex;align-items:center;border-radius:0;border:none;box-shadow:0 2px 8px #3c48641a,0 1.5px 4px #3c486414;background:var(--bg-color);min-width:200px;min-height:58px;font-family:Roboto,Segoe UI,Arial,sans-serif;position:relative;transition:box-shadow .2s,border .2s,background .2s;border-left:6px solid #1976d2;overflow:visible}.mui-node.Table.svelte-1wojfr4{border-left-color:#43a047}.mui-node.Measure.svelte-1wojfr4{border-left-color:#fbc02d}.mui-node.highlighted.svelte-1wojfr4{box-shadow:0 0 16px 4px #ffa50055,0 2px 8px #3c486421;border-left:8px solid #ff9800;background:#fffde7}.mui-node.svelte-1wojfr4:hover{box-shadow:0 4px 16px 2px #1976d233,0 2px 8px #3c486421;background:#f5f7fa}.mui-node-content.svelte-1wojfr4{display:flex;align-items:center;gap:14px;padding:10px 18px;flex:1;min-width:0}.mui-node-icon.svelte-1wojfr4{font-size:26px;color:#1976d2;display:flex;align-items:center;justify-content:center;min-width:28px}.mui-node.Table.svelte-1wojfr4 .mui-node-icon:where(.svelte-1wojfr4){color:#43a047}.mui-node.Measure.svelte-1wojfr4 .mui-node-icon:where(.svelte-1wojfr4){color:#fbc02d}.mui-node.highlighted.svelte-1wojfr4 .mui-node-icon:where(.svelte-1wojfr4){color:#ff9800}.mui-node-name.svelte-1wojfr4{font-weight:400;color:#222;font-size:1.8em;letter-spacing:.01em;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;flex:1}.mui-node-icon.svelte-1wojfr4{display:flex;align-items:center;justify-content:center;min-width:28px;min-height:28px}.icon-img.svelte-1wojfr4{width:30px;height:30px;object-fit:contain;border-radius:4px;box-shadow:0 1px 2px #0001}.context-menu.svelte-1jb6lho{background:#fff;border:1px solid #e0e0e0;border-radius:10px;box-shadow:0 8px 32px #1f268726;position:absolute;z-index:10;min-width:170px;font-family:Segoe UI,Arial,sans-serif;padding:.5em 0;animation:svelte-1jb6lho-fadeIn .15s}.context-menu.svelte-1jb6lho p:where(.svelte-1jb6lho){margin:.5em 1em;color:#020da3;font-size:.95em;letter-spacing:.02em}.context-menu-divider.svelte-1jb6lho{border-bottom:1px solid #eee;margin:.3em 0}.context-menu.svelte-1jb6lho button:where(.svelte-1jb6lho){border:none;background:none;display:block;padding:.7em 1.2em;text-align:left;width:100%;font-size:1em;color:#333;cursor:pointer;transition:background .15s,color .15s;border-radius:6px}.context-menu.svelte-1jb6lho button:where(.svelte-1jb6lho):hover,.context-menu.svelte-1jb6lho button:where(.svelte-1jb6lho):focus{background:#f5f7fa;color:#1976d2;outline:none}.context-menu.svelte-1jb6lho button:where(.svelte-1jb6lho):active{background:#e3eafc;color:#0d47a1}@keyframes svelte-1jb6lho-fadeIn{0%{opacity:0;transform:translateY(8px)}to{opacity:1;transform:translateY(0)}}.svelte-flow{direction:ltr;--xy-edge-stroke-default: #b1b1b7;--xy-edge-stroke-width-default: 1;--xy-edge-stroke-selected-default: #555;--xy-connectionline-stroke-default: #b1b1b7;--xy-connectionline-stroke-width-default: 1;--xy-attribution-background-color-default: rgba(255, 255, 255, .5);--xy-minimap-background-color-default: #fff;--xy-minimap-mask-background-color-default: rgba(240, 240, 240, .6);--xy-minimap-mask-stroke-color-default: transparent;--xy-minimap-mask-stroke-width-default: 1;--xy-minimap-node-background-color-default: #e2e2e2;--xy-minimap-node-stroke-color-default: transparent;--xy-minimap-node-stroke-width-default: 2;--xy-background-color-default: transparent;--xy-background-pattern-dots-color-default: #91919a;--xy-background-pattern-lines-color-default: #eee;--xy-background-pattern-cross-color-default: #e2e2e2;background-color:var(--xy-background-color, var(--xy-background-color-default));--xy-node-color-default: inherit;--xy-node-border-default: 1px solid #1a192b;--xy-node-background-color-default: #fff;--xy-node-group-background-color-default: rgba(240, 240, 240, .25);--xy-node-boxshadow-hover-default: 0 1px 4px 1px rgba(0, 0, 0, .08);--xy-node-boxshadow-selected-default: 0 0 0 .5px #1a192b;--xy-node-border-radius-default: 3px;--xy-handle-background-color-default: #1a192b;--xy-handle-border-color-default: #fff;--xy-selection-background-color-default: rgba(0, 89, 220, .08);--xy-selection-border-default: 1px dotted rgba(0, 89, 220, .8);--xy-controls-button-background-color-default: #fefefe;--xy-controls-button-background-color-hover-default: #f4f4f4;--xy-controls-button-color-default: inherit;--xy-controls-button-color-hover-default: inherit;--xy-controls-button-border-color-default: #eee;--xy-controls-box-shadow-default: 0 0 2px 1px rgba(0, 0, 0, .08);--xy-edge-label-background-color-default: #ffffff;--xy-edge-label-color-default: inherit;--xy-resize-background-color-default: #3367d9}.svelte-flow.dark{--xy-edge-stroke-default: #3e3e3e;--xy-edge-stroke-width-default: 1;--xy-edge-stroke-selected-default: #727272;--xy-connectionline-stroke-default: #b1b1b7;--xy-connectionline-stroke-width-default: 1;--xy-attribution-background-color-default: rgba(150, 150, 150, .25);--xy-minimap-background-color-default: #141414;--xy-minimap-mask-background-color-default: rgba(60, 60, 60, .6);--xy-minimap-mask-stroke-color-default: transparent;--xy-minimap-mask-stroke-width-default: 1;--xy-minimap-node-background-color-default: #2b2b2b;--xy-minimap-node-stroke-color-default: transparent;--xy-minimap-node-stroke-width-default: 2;--xy-background-color-default: #141414;--xy-background-pattern-dots-color-default: #777;--xy-background-pattern-lines-color-default: #777;--xy-background-pattern-cross-color-default: #777;--xy-node-color-default: #f8f8f8;--xy-node-border-default: 1px solid #3c3c3c;--xy-node-background-color-default: #1e1e1e;--xy-node-group-background-color-default: rgba(240, 240, 240, .25);--xy-node-boxshadow-hover-default: 0 1px 4px 1px rgba(255, 255, 255, .08);--xy-node-boxshadow-selected-default: 0 0 0 .5px #999;--xy-handle-background-color-default: #bebebe;--xy-handle-border-color-default: #1e1e1e;--xy-selection-background-color-default: rgba(200, 200, 220, .08);--xy-selection-border-default: 1px dotted rgba(200, 200, 220, .8);--xy-controls-button-background-color-default: #2b2b2b;--xy-controls-button-background-color-hover-default: #3e3e3e;--xy-controls-button-color-default: #f8f8f8;--xy-controls-button-color-hover-default: #fff;--xy-controls-button-border-color-default: #5b5b5b;--xy-controls-box-shadow-default: 0 0 2px 1px rgba(0, 0, 0, .08);--xy-edge-label-background-color-default: #141414;--xy-edge-label-color-default: #f8f8f8}.svelte-flow__background{background-color:var(--xy-background-color-props, var(--xy-background-color, var(--xy-background-color-default)));pointer-events:none;z-index:-1}.svelte-flow__container{position:absolute;width:100%;height:100%;top:0;left:0}.svelte-flow__pane{z-index:1}.svelte-flow__pane.draggable{cursor:grab}.svelte-flow__pane.dragging{cursor:grabbing}.svelte-flow__pane.selection{cursor:pointer}.svelte-flow__viewport{transform-origin:0 0;z-index:2;pointer-events:none}.svelte-flow__renderer{z-index:4}.svelte-flow__selection{z-index:6}.svelte-flow__nodesselection-rect:focus,.svelte-flow__nodesselection-rect:focus-visible{outline:none}.svelte-flow__edge-path{stroke:var(--xy-edge-stroke, var(--xy-edge-stroke-default));stroke-width:var(--xy-edge-stroke-width, var(--xy-edge-stroke-width-default));fill:none}.svelte-flow__connection-path{stroke:var(--xy-connectionline-stroke, var(--xy-connectionline-stroke-default));stroke-width:var(--xy-connectionline-stroke-width, var(--xy-connectionline-stroke-width-default));fill:none}.svelte-flow .svelte-flow__edges{position:absolute}.svelte-flow .svelte-flow__edges svg{overflow:visible;position:absolute;pointer-events:none}.svelte-flow__edge{pointer-events:visibleStroke}.svelte-flow__edge.selectable{cursor:pointer}.svelte-flow__edge.animated path{stroke-dasharray:5;animation:dashdraw .5s linear infinite}.svelte-flow__edge.animated path.svelte-flow__edge-interaction{stroke-dasharray:none;animation:none}.svelte-flow__edge.inactive{pointer-events:none}.svelte-flow__edge.selected,.svelte-flow__edge:focus,.svelte-flow__edge:focus-visible{outline:none}.svelte-flow__edge.selected .svelte-flow__edge-path,.svelte-flow__edge.selectable:focus .svelte-flow__edge-path,.svelte-flow__edge.selectable:focus-visible .svelte-flow__edge-path{stroke:var(--xy-edge-stroke-selected, var(--xy-edge-stroke-selected-default))}.svelte-flow__edge-textwrapper{pointer-events:all}.svelte-flow__edge .svelte-flow__edge-text{pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.svelte-flow__connection{pointer-events:none}.svelte-flow__connection .animated{stroke-dasharray:5;animation:dashdraw .5s linear infinite}svg.svelte-flow__connectionline{z-index:1001;overflow:visible;position:absolute}.svelte-flow__nodes{pointer-events:none;transform-origin:0 0}.svelte-flow__node{position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none;pointer-events:all;transform-origin:0 0;box-sizing:border-box;cursor:default}.svelte-flow__node.selectable{cursor:pointer}.svelte-flow__node.draggable{cursor:grab;pointer-events:all}.svelte-flow__node.draggable.dragging{cursor:grabbing}.svelte-flow__nodesselection{z-index:3;transform-origin:left top;pointer-events:none}.svelte-flow__nodesselection-rect{position:absolute;pointer-events:all;cursor:grab}.svelte-flow__handle{position:absolute;pointer-events:none;min-width:5px;min-height:5px;width:6px;height:6px;background-color:var(--xy-handle-background-color, var(--xy-handle-background-color-default));border:1px solid var(--xy-handle-border-color, var(--xy-handle-border-color-default));border-radius:100%}.svelte-flow__handle.connectingfrom{pointer-events:all}.svelte-flow__handle.connectionindicator{pointer-events:all;cursor:crosshair}.svelte-flow__handle-bottom{top:auto;left:50%;bottom:0;transform:translate(-50%,50%)}.svelte-flow__handle-top{top:0;left:50%;transform:translate(-50%,-50%)}.svelte-flow__handle-left{top:50%;left:0;transform:translate(-50%,-50%)}.svelte-flow__handle-right{top:50%;right:0;transform:translate(50%,-50%)}.svelte-flow__edgeupdater{cursor:move;pointer-events:all}.svelte-flow__panel{position:absolute;z-index:5;margin:15px}.svelte-flow__panel.top{top:0}.svelte-flow__panel.bottom{bottom:0}.svelte-flow__panel.top.center,.svelte-flow__panel.bottom.center{left:50%;transform:translate(-15px) translate(-50%)}.svelte-flow__panel.left{left:0}.svelte-flow__panel.right{right:0}.svelte-flow__panel.left.center,.svelte-flow__panel.right.center{top:50%;transform:translateY(-15px) translateY(-50%)}.svelte-flow__attribution{font-size:10px;background:var(--xy-attribution-background-color, var(--xy-attribution-background-color-default));padding:2px 3px;margin:0}.svelte-flow__attribution a{text-decoration:none;color:#999}@keyframes dashdraw{0%{stroke-dashoffset:10}}.svelte-flow__edgelabel-renderer{position:absolute;width:100%;height:100%;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;left:0;top:0}.svelte-flow__viewport-portal{position:absolute;width:100%;height:100%;left:0;top:0;-webkit-user-select:none;-moz-user-select:none;user-select:none}.svelte-flow__minimap{background:var( --xy-minimap-background-color-props, var(--xy-minimap-background-color, var(--xy-minimap-background-color-default)) )}.svelte-flow__minimap-svg{display:block}.svelte-flow__minimap-mask{fill:var( --xy-minimap-mask-background-color-props, var(--xy-minimap-mask-background-color, var(--xy-minimap-mask-background-color-default)) );stroke:var( --xy-minimap-mask-stroke-color-props, var(--xy-minimap-mask-stroke-color, var(--xy-minimap-mask-stroke-color-default)) );stroke-width:var( --xy-minimap-mask-stroke-width-props, var(--xy-minimap-mask-stroke-width, var(--xy-minimap-mask-stroke-width-default)) )}.svelte-flow__minimap-node{fill:var( --xy-minimap-node-background-color-props, var(--xy-minimap-node-background-color, var(--xy-minimap-node-background-color-default)) );stroke:var( --xy-minimap-node-stroke-color-props, var(--xy-minimap-node-stroke-color, var(--xy-minimap-node-stroke-color-default)) );stroke-width:var( --xy-minimap-node-stroke-width-props, var(--xy-minimap-node-stroke-width, var(--xy-minimap-node-stroke-width-default)) )}.svelte-flow__background-pattern.dots{fill:var( --xy-background-pattern-color-props, var(--xy-background-pattern-color, var(--xy-background-pattern-dots-color-default)) )}.svelte-flow__background-pattern.lines{stroke:var( --xy-background-pattern-color-props, var(--xy-background-pattern-color, var(--xy-background-pattern-lines-color-default)) )}.svelte-flow__background-pattern.cross{stroke:var( --xy-background-pattern-color-props, var(--xy-background-pattern-color, var(--xy-background-pattern-cross-color-default)) )}.svelte-flow__controls{display:flex;flex-direction:column;box-shadow:var(--xy-controls-box-shadow, var(--xy-controls-box-shadow-default))}.svelte-flow__controls.horizontal{flex-direction:row}.svelte-flow__controls-button{display:flex;justify-content:center;align-items:center;height:26px;width:26px;padding:4px;border:none;background:var(--xy-controls-button-background-color, var(--xy-controls-button-background-color-default));border-bottom:1px solid var( --xy-controls-button-border-color-props, var(--xy-controls-button-border-color, var(--xy-controls-button-border-color-default)) );color:var( --xy-controls-button-color-props, var(--xy-controls-button-color, var(--xy-controls-button-color-default)) );cursor:pointer;-webkit-user-select:none;-moz-user-select:none;user-select:none}.svelte-flow__controls-button svg{width:100%;max-width:12px;max-height:12px;fill:currentColor}.svelte-flow__edge.updating .svelte-flow__edge-path{stroke:#777}.svelte-flow__edge-text{font-size:10px}.svelte-flow__node.selectable:focus,.svelte-flow__node.selectable:focus-visible{outline:none}.svelte-flow__node-input,.svelte-flow__node-default,.svelte-flow__node-output,.svelte-flow__node-group{padding:10px;border-radius:var(--xy-node-border-radius, var(--xy-node-border-radius-default));width:150px;font-size:12px;color:var(--xy-node-color, var(--xy-node-color-default));text-align:center;border:var(--xy-node-border, var(--xy-node-border-default));background-color:var(--xy-node-background-color, var(--xy-node-background-color-default))}.svelte-flow__node-input.selectable:hover,.svelte-flow__node-default.selectable:hover,.svelte-flow__node-output.selectable:hover,.svelte-flow__node-group.selectable:hover{box-shadow:var(--xy-node-boxshadow-hover, var(--xy-node-boxshadow-hover-default))}.svelte-flow__node-input.selectable.selected,.svelte-flow__node-input.selectable:focus,.svelte-flow__node-input.selectable:focus-visible,.svelte-flow__node-default.selectable.selected,.svelte-flow__node-default.selectable:focus,.svelte-flow__node-default.selectable:focus-visible,.svelte-flow__node-output.selectable.selected,.svelte-flow__node-output.selectable:focus,.svelte-flow__node-output.selectable:focus-visible,.svelte-flow__node-group.selectable.selected,.svelte-flow__node-group.selectable:focus,.svelte-flow__node-group.selectable:focus-visible{box-shadow:var(--xy-node-boxshadow-selected, var(--xy-node-boxshadow-selected-default))}.svelte-flow__node-group{background-color:var(--xy-node-group-background-color, var(--xy-node-group-background-color-default))}.svelte-flow__nodesselection-rect,.svelte-flow__selection{background:var(--xy-selection-background-color, var(--xy-selection-background-color-default));border:var(--xy-selection-border, var(--xy-selection-border-default))}.svelte-flow__nodesselection-rect:focus,.svelte-flow__nodesselection-rect:focus-visible,.svelte-flow__selection:focus,.svelte-flow__selection:focus-visible{outline:none}.svelte-flow__controls-button:hover{background:var( --xy-controls-button-background-color-hover-props, var(--xy-controls-button-background-color-hover, var(--xy-controls-button-background-color-hover-default)) );color:var( --xy-controls-button-color-hover-props, var(--xy-controls-button-color-hover, var(--xy-controls-button-color-hover-default)) )}.svelte-flow__controls-button:disabled{pointer-events:none}.svelte-flow__controls-button:disabled svg{fill-opacity:.4}.svelte-flow__controls-button:last-child{border-bottom:none}.svelte-flow__controls.horizontal .svelte-flow__controls-button{border-bottom:none;border-right:1px solid var( --xy-controls-button-border-color-props, var(--xy-controls-button-border-color, var(--xy-controls-button-border-color-default)) )}.svelte-flow__controls.horizontal .svelte-flow__controls-button:last-child{border-right:none}.svelte-flow__resize-control{position:absolute}.svelte-flow__resize-control.left,.svelte-flow__resize-control.right{cursor:ew-resize}.svelte-flow__resize-control.top,.svelte-flow__resize-control.bottom{cursor:ns-resize}.svelte-flow__resize-control.top.left,.svelte-flow__resize-control.bottom.right{cursor:nwse-resize}.svelte-flow__resize-control.bottom.left,.svelte-flow__resize-control.top.right{cursor:nesw-resize}.svelte-flow__resize-control.handle{width:4px;height:4px;border:1px solid #fff;border-radius:1px;background-color:var(--xy-resize-background-color, var(--xy-resize-background-color-default));transform:translate(-50%,-50%)}.svelte-flow__resize-control.handle.left{left:0;top:50%}.svelte-flow__resize-control.handle.right{left:100%;top:50%}.svelte-flow__resize-control.handle.top{left:50%;top:0}.svelte-flow__resize-control.handle.bottom{left:50%;top:100%}.svelte-flow__resize-control.handle.top.left,.svelte-flow__resize-control.handle.bottom.left{left:0}.svelte-flow__resize-control.handle.top.right,.svelte-flow__resize-control.handle.bottom.right{left:100%}.svelte-flow__resize-control.line{border-color:var(--xy-resize-background-color, var(--xy-resize-background-color-default));border-width:0;border-style:solid}.svelte-flow__resize-control.line.left,.svelte-flow__resize-control.line.right{width:1px;transform:translate(-50%);top:0;height:100%}.svelte-flow__resize-control.line.left{left:0;border-left-width:1px}.svelte-flow__resize-control.line.right{left:100%;border-right-width:1px}.svelte-flow__resize-control.line.top,.svelte-flow__resize-control.line.bottom{height:1px;transform:translateY(-50%);left:0;width:100%}.svelte-flow__resize-control.line.top{top:0;border-top-width:1px}.svelte-flow__resize-control.line.bottom{border-bottom-width:1px;top:100%}.svelte-flow__edge-label{text-align:center;position:absolute;padding:2px;font-size:10px;color:var(--xy-edge-label-color, var(--xy-edge-label-color-default));background:var(--xy-edge-label-background-color, var(--xy-edge-label-background-color-default))}.svelte-flow__container{-webkit-user-select:none;-moz-user-select:none;user-select:none}.svelte-flow{--xy-background-color: #f7f9fb;--xy-theme-selected: #ff4000;--xy-theme-hover: #c5c5c5;--xy-theme-edge-hover: black;--xy-theme-color-focus: #e8e8e8;--xy-node-border-default: 1px solid #ededed;--xy-node-boxshadow-default: 0px 3.54px 4.55px 0px #00000005, 0px 3.54px 4.55px 0px #0000000d, 0px .51px 1.01px 0px #0000001a;--xy-node-border-radius-default: 8px;--xy-handle-background-color-default: #ffffff;--xy-handle-border-color-default: #aaaaaa;--xy-edge-label-color-default: #505050;--xy-resize-background-color-default: #9e86ed}.svelte-flow.dark{--xy-node-boxshadow-default: 0px 3.54px 4.55px 0px rgba(255, 255, 255, .05), 0px 3.54px 4.55px 0px rgba(255, 255, 255, .13), 0px .51px 1.01px 0px rgba(255, 255, 255, .2);--xy-theme-color-focus: #535353}.svelte-flow__node{box-shadow:var(--xy-node-boxshadow-default);border-radius:var(--xy-node-border-radius-default);background-color:var(--xy-node-background-color-default);display:flex;justify-content:center;align-items:center;text-align:center;font-size:12px;flex-direction:column;border:var(--xy-node-border-default);color:var(--xy-node-color, var(--xy-node-color-default))}.svelte-flow__node.selectable:focus{box-shadow:0 0 0 4px var(--xy-theme-color-focus);border-color:#d9d9d9}.svelte-flow__node.selectable:focus:active{box-shadow:var(--xy-node-boxshadow-default)}.svelte-flow__node.selectable:hover,.svelte-flow__node.draggable:hover{border-color:var(--xy-theme-hover)}.svelte-flow__node.selectable.selected{border-color:var(--xy-theme-selected);box-shadow:var(--xy-node-boxshadow-default)}.svelte-flow__node-group{background-color:#cfb6ff66;border-color:#9e86ed}.svelte-flow__edge.selectable:hover .svelte-flow__edge-path,.svelte-flow__edge.selectable.selected .svelte-flow__edge-path{stroke:var(--xy-theme-edge-hover)}.svelte-flow__handle{background-color:var(--xy-handle-background-color-default)}.svelte-flow__handle.connectionindicator:hover{pointer-events:all;border-color:var(--xy-theme-edge-hover);background-color:#fff}.svelte-flow__handle.connectionindicator:focus,.svelte-flow__handle.connectingfrom,.svelte-flow__handle.connectingto{border-color:var(--xy-theme-edge-hover)}.svelte-flow__node:has(.svelte-flow__resize-control.line){border-radius:0}.svelte-flow__resize-control.handle{border:none;border-radius:0;width:5px;height:5px}.svelte-flow__edge-label{background:#f7f9fb}:root{--color-primary: #ff4000;--color-background: #fefefe;--color-hover-bg: #f6f6f6;--color-disabled: #76797e}.xy-theme__button{cursor:pointer;display:inline-flex;align-items:center;justify-content:center;height:2.5rem;padding:0 1rem;border-radius:100px;border:1px solid var(--color-primary);background-color:var(--color-background);color:var(--color-primary);transition:background-color .2s ease,border-color .2s ease;box-shadow:var(--xy-node-boxshadow-default)}.xy-theme__button:hover{background-color:var(--xy-controls-button-background-color-hover-default)}.xy-theme__button:active{background-color:var(--color-hover-bg)}.xy-theme__button:disabled{color:var(--color-disabled);opacity:.8;cursor:not-allowed;border:1px solid var(--color-disabled)}.xy-theme__button>span{margin-right:.2rem}.xy-theme__button+.xy-theme__button{margin-left:.3rem}.xy-theme__input{padding:.5rem .75rem;border:1px solid var(--color-primary);border-radius:7px;background-color:var(--color-background);transition:background-color .2s ease,border-color .2s ease;font-size:1rem;color:inherit}.xy-theme__input:focus{outline:none;border-color:var(--color-primary);box-shadow:0 0 0 2px #ff00734d}.xy-theme__checkbox{appearance:none;-webkit-appearance:none;width:1.25rem;height:1.25rem;border-radius:7px;border:2px solid var(--color-primary);background-color:var(--color-background);transition:background-color .2s ease,border-color .2s ease;cursor:pointer;display:inline-block;vertical-align:middle;margin-right:.5rem}.xy-theme__checkbox:checked{background-color:var(--color-primary);border-color:var(--color-primary)}.xy-theme__checkbox:focus{outline:none;box-shadow:0 0 0 2px #ff00734d}.xy-theme__select{padding:.5rem .75rem;border:1px solid var(--color-primary);border-radius:50px;background-color:var(--color-background);transition:background-color .2s ease,border-color .2s ease;font-size:1rem;color:inherit;margin-right:.5rem;box-shadow:var(--xy-node-boxshadow-default)}.xy-theme__select:focus{outline:none;border-color:var(--color-primary);box-shadow:0 0 0 2px #ff00734d}.xy-theme__label{margin-top:10px;margin-bottom:3px;display:inline-block}html,body{margin:0;font-family:sans-serif}#app{width:100vw;height:100vh}</style>
  </head>
  <body>
    <div id="app"></div>
  </body>
</html>
