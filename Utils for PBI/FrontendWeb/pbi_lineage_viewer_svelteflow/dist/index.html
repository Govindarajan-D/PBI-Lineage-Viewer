<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Svelte Flow Example</title>
    <script type="module" crossorigin>(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();const Uo=!1;var Mr=Array.isArray,Bu=Array.prototype.indexOf,ko=Array.from,Wu=Object.defineProperty,Tt=Object.getOwnPropertyDescriptor,Ba=Object.getOwnPropertyDescriptors,Wa=Object.prototype,Xu=Array.prototype,Tr=Object.getPrototypeOf,Qo=Object.isExtensible;function wn(e){return typeof e=="function"}const $n=()=>{};function Ku(e){return e()}function cr(e){for(var t=0;t<e.length;t++)e[t]()}const it=2,Xa=4,Dr=8,No=16,Pt=32,gn=64,dr=128,Ze=256,fr=512,Xe=1024,dt=2048,jt=4096,Et=8192,Rr=16384,ju=32768,Vn=65536,Gu=1<<17,Zu=1<<19,Ka=1<<20,oo=1<<21,Dt=Symbol("$state"),ja=Symbol("legacy props"),Uu=Symbol("");function Ga(e){return e===this.v}function Za(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function So(e){return!Za(e,this.v)}function Qu(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Ju(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function ec(e){throw new Error("https://svelte.dev/e/effect_orphan")}function tc(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function nc(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function rc(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function ic(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function oc(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let pn=!1,sc=!1;function ac(){pn=!0}const Po=1,Co=2,Ua=4,lc=8,uc=16,cc=1,dc=2,fc=4,hc=8,$c=16,Qa=1,gc=2,Ye=Symbol(),pc="http://www.w3.org/1999/xhtml",mc="@attach",vc=[];function Ja(e,t=!1){return ir(e,new Map,"",vc)}function ir(e,t,n,r,i=null){if(typeof e=="object"&&e!==null){var s=t.get(e);if(s!==void 0)return s;if(e instanceof Map)return new Map(e);if(e instanceof Set)return new Set(e);if(Mr(e)){var o=Array(e.length);t.set(e,o),i!==null&&t.set(i,o);for(var a=0;a<e.length;a+=1){var l=e[a];a in e&&(o[a]=ir(l,t,n,r))}return o}if(Tr(e)===Wa){o={},t.set(e,o),i!==null&&t.set(i,o);for(var c in e)o[c]=ir(e[c],t,n,r);return o}if(e instanceof Date)return structuredClone(e);if(typeof e.toJSON=="function")return ir(e.toJSON(),t,n,r,e)}if(e instanceof EventTarget)return e;try{return structuredClone(e)}catch{return e}}function Io(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let Ie=null;function Jo(e){Ie=e}function Pn(e){return el().get(e)}function hr(e,t){return el().set(e,t),t}function we(e,t=!1,n){var r=Ie={p:Ie,c:null,d:!1,e:null,m:!1,s:e,x:null,l:null};pn&&!t&&(Ie.l={s:null,u:null,r1:[],r2:on(!1)}),dl(()=>{r.d=!0})}function _e(e){const t=Ie;if(t!==null){const o=t.e;if(o!==null){var n=Oe,r=Ce;t.e=null;try{for(var i=0;i<o.length;i++){var s=o[i];Vt(s.effect),ht(s.reaction),vn(s.fn)}}finally{Vt(n),ht(r)}}Ie=t.p,t.m=!0}return{}}function zr(){return!pn||Ie!==null&&Ie.l===null}function el(e){return Ie===null&&Io(),Ie.c??=new Map(yc(Ie)||void 0)}function yc(e){let t=e.p;for(;t!==null;){const n=t.c;if(n!==null)return n;t=t.p}return null}function Ge(e){if(typeof e!="object"||e===null||Dt in e)return e;const t=Tr(e);if(t!==Wa&&t!==Xu)return e;var n=new Map,r=Mr(e),i=Pe(0),s=Ce,o=a=>{var l=Ce;ht(s);var c=a();return ht(l),c};return r&&n.set("length",Pe(e.length)),new Proxy(e,{defineProperty(a,l,c){(!("value"in c)||c.configurable===!1||c.enumerable===!1||c.writable===!1)&&rc();var u=n.get(l);return u===void 0?(u=o(()=>Pe(c.value)),n.set(l,u)):B(u,o(()=>Ge(c.value))),!0},deleteProperty(a,l){var c=n.get(l);if(c===void 0)l in a&&(n.set(l,o(()=>Pe(Ye))),ti(i));else{if(r&&typeof l=="string"){var u=n.get("length"),d=Number(l);Number.isInteger(d)&&d<u.v&&B(u,d)}B(c,Ye),ti(i)}return!0},get(a,l,c){if(l===Dt)return e;var u=n.get(l),d=l in a;if(u===void 0&&(!d||Tt(a,l)?.writable)&&(u=o(()=>Pe(Ge(d?a[l]:Ye))),n.set(l,u)),u!==void 0){var f=$(u);return f===Ye?void 0:f}return Reflect.get(a,l,c)},getOwnPropertyDescriptor(a,l){var c=Reflect.getOwnPropertyDescriptor(a,l);if(c&&"value"in c){var u=n.get(l);u&&(c.value=$(u))}else if(c===void 0){var d=n.get(l),f=d?.v;if(d!==void 0&&f!==Ye)return{enumerable:!0,configurable:!0,value:f,writable:!0}}return c},has(a,l){if(l===Dt)return!0;var c=n.get(l),u=c!==void 0&&c.v!==Ye||Reflect.has(a,l);if(c!==void 0||Oe!==null&&(!u||Tt(a,l)?.writable)){c===void 0&&(c=o(()=>Pe(u?Ge(a[l]):Ye)),n.set(l,c));var d=$(c);if(d===Ye)return!1}return u},set(a,l,c,u){var d=n.get(l),f=l in a;if(r&&l==="length")for(var h=c;h<d.v;h+=1){var g=n.get(h+"");g!==void 0?B(g,Ye):h in a&&(g=o(()=>Pe(Ye)),n.set(h+"",g))}d===void 0?(!f||Tt(a,l)?.writable)&&(d=o(()=>Pe(void 0)),B(d,o(()=>Ge(c))),n.set(l,d)):(f=d.v!==Ye,B(d,o(()=>Ge(c))));var b=Reflect.getOwnPropertyDescriptor(a,l);if(b?.set&&b.set.call(u,c),!f){if(r&&typeof l=="string"){var p=n.get("length"),v=Number(l);Number.isInteger(v)&&v>=p.v&&B(p,v+1)}ti(i)}return!0},ownKeys(a){$(i);var l=Reflect.ownKeys(a).filter(d=>{var f=n.get(d);return f===void 0||f.v!==Ye});for(var[c,u]of n)u.v!==Ye&&!(c in a)&&l.push(c);return l},setPrototypeOf(){ic()}})}function ti(e,t=1){B(e,e.v+t)}function rn(e){var t=it|dt,n=Ce!==null&&(Ce.f&it)!==0?Ce:null;return Oe===null||n!==null&&(n.f&Ze)!==0?t|=Ze:Oe.f|=Ka,{ctx:Ie,deps:null,effects:null,equals:Ga,f:t,fn:e,reactions:null,rv:0,v:null,wv:0,parent:n??Oe}}function C(e){const t=rn(e);return yl(t),t}function tl(e){const t=rn(e);return t.equals=So,t}function nl(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)ft(t[n])}}function bc(e){for(var t=e.parent;t!==null;){if((t.f&it)===0)return t;t=t.parent}return null}function rl(e){var t,n=Oe;Vt(bc(e));try{nl(e),t=xl(e)}finally{Vt(n)}return t}function il(e){var t=rl(e),n=(Mt||(e.f&Ze)!==0)&&e.deps!==null?jt:Xe;ot(e,n),e.equals(t)||(e.v=t,e.wv=wl())}const Cn=new Map;function on(e,t){var n={f:0,v:e,reactions:null,equals:Ga,rv:0,wv:0};return n}function Pe(e,t){const n=on(e);return yl(n),n}function ol(e,t=!1){const n=on(e);return t||(n.equals=So),pn&&Ie!==null&&Ie.l!==null&&(Ie.l.s??=[]).push(n),n}function B(e,t,n=!1){Ce!==null&&!tt&&zr()&&(Ce.f&(it|No))!==0&&!kt?.includes(e)&&oc();let r=n?Ge(t):t;return so(e,r)}function so(e,t){if(!e.equals(t)){var n=e.v;Yn?Cn.set(e,t):Cn.set(e,n),e.v=t,(e.f&it)!==0&&((e.f&dt)!==0&&rl(e),ot(e,(e.f&Ze)===0?Xe:jt)),e.wv=wl(),sl(e,dt),zr()&&Oe!==null&&(Oe.f&Xe)!==0&&(Oe.f&(Pt|gn))===0&&(Qe===null?Oc([e]):Qe.push(e))}return t}function sl(e,t){var n=e.reactions;if(n!==null)for(var r=zr(),i=n.length,s=0;s<i;s++){var o=n[s],a=o.f;(a&dt)===0&&(!r&&o===Oe||(ot(o,t),(a&(Xe|Ze))!==0&&((a&it)!==0?sl(o,jt):qr(o))))}}let wc=!1;var Fe,al,ll,ul;function _c(){if(Fe===void 0){Fe=window,al=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;ll=Tt(t,"firstChild").get,ul=Tt(t,"nextSibling").get,Qo(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),Qo(n)&&(n.__t=void 0)}}function Hr(e=""){return document.createTextNode(e)}function bt(e){return ll.call(e)}function Lr(e){return ul.call(e)}function He(e,t){return bt(e)}function Le(e,t){{var n=bt(e);return n instanceof Comment&&n.data===""?Lr(n):n}}function Re(e,t=1,n=!1){let r=e;for(;t--;)r=Lr(r);return r}function xc(e){e.textContent=""}function cl(e){Oe===null&&Ce===null&&ec(),Ce!==null&&(Ce.f&Ze)!==0&&Oe===null&&Ju(),Yn&&Qu()}function Ec(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function mn(e,t,n,r=!0){var i=Oe,s={ctx:Ie,deps:null,nodes_start:null,nodes_end:null,f:e|dt,first:null,fn:t,last:null,next:null,parent:i,prev:null,teardown:null,transitions:null,wv:0};if(n)try{Ao(s),s.f|=ju}catch(l){throw ft(s),l}else t!==null&&qr(s);var o=n&&s.deps===null&&s.first===null&&s.nodes_start===null&&s.teardown===null&&(s.f&(Ka|dr))===0;if(!o&&r&&(i!==null&&Ec(s,i),Ce!==null&&(Ce.f&it)!==0)){var a=Ce;(a.effects??=[]).push(s)}return s}function kc(){return Ce!==null&&!tt}function dl(e){const t=mn(Dr,null,!1);return ot(t,Xe),t.teardown=e,t}function Ht(e){cl();var t=Oe!==null&&(Oe.f&Pt)!==0&&Ie!==null&&!Ie.m;if(t){var n=Ie;(n.e??=[]).push({fn:e,effect:Oe,reaction:Ce})}else{var r=vn(e);return r}}function fl(e){return cl(),Vr(e)}function Nc(e){const t=mn(gn,e,!0);return(n={})=>new Promise(r=>{n.outro?In(t,()=>{ft(t),r(void 0)}):(ft(t),r(void 0))})}function vn(e){return mn(Xa,e,!1)}function Vr(e){return mn(Dr,e,!0)}function Te(e,t=[],n=rn){const r=t.map(n);return yn(()=>e(...r.map($)))}function yn(e,t=0){return mn(Dr|No|t,e,!0)}function Lt(e,t=!0){return mn(Dr|Pt,e,!0,t)}function hl(e){var t=e.teardown;if(t!==null){const n=Yn,r=Ce;es(!0),ht(null);try{t.call(null)}finally{es(n),ht(r)}}}function $l(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){var r=n.next;(n.f&gn)!==0?n.parent=null:ft(n,t),n=r}}function Sc(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&Pt)===0&&ft(t),t=n}}function ft(e,t=!0){var n=!1;(t||(e.f&Zu)!==0)&&e.nodes_start!==null&&(Pc(e.nodes_start,e.nodes_end),n=!0),$l(e,t&&!n),vr(e,0),ot(e,Rr);var r=e.transitions;if(r!==null)for(const s of r)s.stop();hl(e);var i=e.parent;i!==null&&i.first!==null&&gl(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=null}function Pc(e,t){for(;e!==null;){var n=e===t?null:Lr(e);e.remove(),e=n}}function gl(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function In(e,t){var n=[];Oo(e,n,!0),pl(n,()=>{ft(e),t&&t()})}function pl(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var i of e)i.out(r)}else t()}function Oo(e,t,n){if((e.f&Et)===0){if(e.f^=Et,e.transitions!==null)for(const o of e.transitions)(o.is_global||n)&&t.push(o);for(var r=e.first;r!==null;){var i=r.next,s=(r.f&Vn)!==0||(r.f&Pt)!==0;Oo(r,t,s?n:!1),r=i}}}function $r(e){ml(e,!0)}function ml(e,t){if((e.f&Et)!==0){e.f^=Et,(e.f&Xe)===0&&(e.f^=Xe),Fn(e)&&(ot(e,dt),qr(e));for(var n=e.first;n!==null;){var r=n.next,i=(n.f&Vn)!==0||(n.f&Pt)!==0;ml(n,i?t:!1),n=r}if(e.transitions!==null)for(const s of e.transitions)(s.is_global||t)&&s.in()}}let On=[],ao=[];function vl(){var e=On;On=[],cr(e)}function Cc(){var e=ao;ao=[],cr(e)}function Yr(e){On.length===0&&queueMicrotask(vl),On.push(e)}function Ic(){On.length>0&&vl(),ao.length>0&&Cc()}let or=!1,gr=!1,pr=null,qt=!1,Yn=!1;function es(e){Yn=e}let Sn=[];let Ce=null,tt=!1;function ht(e){Ce=e}let Oe=null;function Vt(e){Oe=e}let kt=null;function yl(e){Ce!==null&&Ce.f&oo&&(kt===null?kt=[e]:kt.push(e))}let Ve=null,je=0,Qe=null;function Oc(e){Qe=e}let bl=1,mr=0,Mt=!1;function wl(){return++bl}function Fn(e){var t=e.f;if((t&dt)!==0)return!0;if((t&jt)!==0){var n=e.deps,r=(t&Ze)!==0;if(n!==null){var i,s,o=(t&fr)!==0,a=r&&Oe!==null&&!Mt,l=n.length;if(o||a){var c=e,u=c.parent;for(i=0;i<l;i++)s=n[i],(o||!s?.reactions?.includes(c))&&(s.reactions??=[]).push(c);o&&(c.f^=fr),a&&u!==null&&(u.f&Ze)===0&&(c.f^=Ze)}for(i=0;i<l;i++)if(s=n[i],Fn(s)&&il(s),s.wv>e.wv)return!0}(!r||Oe!==null&&!Mt)&&ot(e,Xe)}return!1}function Ac(e,t){for(var n=t;n!==null;){if((n.f&dr)!==0)try{n.fn(e);return}catch{n.f^=dr}n=n.parent}throw or=!1,e}function ts(e){return(e.f&Rr)===0&&(e.parent===null||(e.parent.f&dr)===0)}function Fr(e,t,n,r){if(or){if(n===null&&(or=!1),ts(t))throw e;return}if(n!==null&&(or=!0),Ac(e,t),ts(t))throw e}function _l(e,t,n=!0){var r=e.reactions;if(r!==null)for(var i=0;i<r.length;i++){var s=r[i];kt?.includes(e)||((s.f&it)!==0?_l(s,t,!1):t===s&&(n?ot(s,dt):(s.f&Xe)!==0&&ot(s,jt),qr(s)))}}function xl(e){var t=Ve,n=je,r=Qe,i=Ce,s=Mt,o=kt,a=Ie,l=tt,c=e.f;Ve=null,je=0,Qe=null,Mt=(c&Ze)!==0&&(tt||!qt||Ce===null),Ce=(c&(Pt|gn))===0?e:null,kt=null,Jo(e.ctx),tt=!1,mr++,e.f|=oo;try{var u=(0,e.fn)(),d=e.deps;if(Ve!==null){var f;if(vr(e,je),d!==null&&je>0)for(d.length=je+Ve.length,f=0;f<Ve.length;f++)d[je+f]=Ve[f];else e.deps=d=Ve;if(!Mt)for(f=je;f<d.length;f++)(d[f].reactions??=[]).push(e)}else d!==null&&je<d.length&&(vr(e,je),d.length=je);if(zr()&&Qe!==null&&!tt&&d!==null&&(e.f&(it|jt|dt))===0)for(f=0;f<Qe.length;f++)_l(Qe[f],e);return i!==null&&i!==e&&(mr++,Qe!==null&&(r===null?r=Qe:r.push(...Qe))),u}finally{Ve=t,je=n,Qe=r,Ce=i,Mt=s,kt=o,Jo(a),tt=l,e.f^=oo}}function Mc(e,t){let n=t.reactions;if(n!==null){var r=Bu.call(n,e);if(r!==-1){var i=n.length-1;i===0?n=t.reactions=null:(n[r]=n[i],n.pop())}}n===null&&(t.f&it)!==0&&(Ve===null||!Ve.includes(t))&&(ot(t,jt),(t.f&(Ze|fr))===0&&(t.f^=fr),nl(t),vr(t,0))}function vr(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)Mc(e,n[r])}function Ao(e){var t=e.f;if((t&Rr)===0){ot(e,Xe);var n=Oe,r=Ie,i=qt;Oe=e,qt=!0;try{(t&No)!==0?Sc(e):$l(e),hl(e);var s=xl(e);e.teardown=typeof s=="function"?s:null,e.wv=bl;var o=e.deps,a;Uo&&sc&&e.f&dt}catch(l){Fr(l,e,n,r||e.ctx)}finally{qt=i,Oe=n}}}function Tc(){try{tc()}catch(e){if(pr!==null)Fr(e,pr,null);else throw e}}function El(){var e=qt;try{var t=0;for(qt=!0;Sn.length>0;){t++>1e3&&Tc();var n=Sn,r=n.length;Sn=[];for(var i=0;i<r;i++){var s=Rc(n[i]);Dc(s)}Cn.clear()}}finally{gr=!1,qt=e,pr=null}}function Dc(e){var t=e.length;if(t!==0)for(var n=0;n<t;n++){var r=e[n];if((r.f&(Rr|Et))===0)try{Fn(r)&&(Ao(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null?gl(r):r.fn=null))}catch(i){Fr(i,r,null,r.ctx)}}}function qr(e){gr||(gr=!0,queueMicrotask(El));for(var t=pr=e;t.parent!==null;){t=t.parent;var n=t.f;if((n&(gn|Pt))!==0){if((n&Xe)===0)return;t.f^=Xe}}Sn.push(t)}function Rc(e){for(var t=[],n=e;n!==null;){var r=n.f,i=(r&(Pt|gn))!==0,s=i&&(r&Xe)!==0;if(!s&&(r&Et)===0){if((r&Xa)!==0)t.push(n);else if(i)n.f^=Xe;else try{Fn(n)&&Ao(n)}catch(l){Fr(l,n,null,n.ctx)}var o=n.first;if(o!==null){n=o;continue}}var a=n.parent;for(n=n.next;n===null&&a!==null;)n=a.next,a=a.parent}return t}function zc(e){for(var t;;){if(Ic(),Sn.length===0)return t;gr=!0,El()}}async function Hc(){await Promise.resolve(),zc()}function $(e){var t=e.f,n=(t&it)!==0;if(Ce!==null&&!tt){if(!kt?.includes(e)){var r=Ce.deps;e.rv<mr&&(e.rv=mr,Ve===null&&r!==null&&r[je]===e?je++:Ve===null?Ve=[e]:(!Mt||!Ve.includes(e))&&Ve.push(e))}}else if(n&&e.deps===null&&e.effects===null){var i=e,s=i.parent;s!==null&&(s.f&Ze)===0&&(i.f^=Ze)}return n&&(i=e,Fn(i)&&il(i)),Yn&&Cn.has(e)?Cn.get(e):e.v}function Be(e){var t=tt;try{return tt=!0,e()}finally{tt=t}}const Lc=-7169;function ot(e,t){e.f=e.f&Lc|t}function kl(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(Dt in e)lo(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&Dt in n&&lo(n)}}}function lo(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{lo(e[r],t)}catch{}const n=Tr(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=Ba(n);for(let i in r){const s=r[i].get;if(s)try{s.call(e)}catch{}}}}}function Vc(e){return e.endsWith("capture")&&e!=="gotpointercapture"&&e!=="lostpointercapture"}const Yc=["beforeinput","click","change","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"];function Fc(e){return Yc.includes(e)}const qc={formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly",defaultvalue:"defaultValue",defaultchecked:"defaultChecked",srcobject:"srcObject",novalidate:"noValidate",allowfullscreen:"allowFullscreen",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback"};function Bc(e){return e=e.toLowerCase(),qc[e]??e}const Wc=["touchstart","touchmove"];function Xc(e){return Wc.includes(e)}function Kc(e,t){if(t){const n=document.body;e.autofocus=!0,Yr(()=>{document.activeElement===n&&e.focus()})}}function jc(e){var t=Ce,n=Oe;ht(null),Vt(null);try{return e()}finally{ht(t),Vt(n)}}const Nl=new Set,uo=new Set;function Mo(e,t,n,r={}){function i(s){if(r.capture||En.call(t,s),!s.cancelBubble)return jc(()=>n?.call(this,s))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?Yr(()=>{t.addEventListener(e,i,r)}):t.addEventListener(e,i,r),i}function co(e,t,n,r={}){var i=Mo(t,e,n,r);return()=>{e.removeEventListener(t,i,r)}}function sn(e,t,n,r,i){var s={capture:r,passive:i},o=Mo(e,t,n,s);(t===document.body||t===window||t===document)&&dl(()=>{t.removeEventListener(e,o,s)})}function bn(e){for(var t=0;t<e.length;t++)Nl.add(e[t]);for(var n of uo)n(e)}function En(e){var t=this,n=t.ownerDocument,r=e.type,i=e.composedPath?.()||[],s=i[0]||e.target,o=0,a=e.__root;if(a){var l=i.indexOf(a);if(l!==-1&&(t===document||t===window)){e.__root=t;return}var c=i.indexOf(t);if(c===-1)return;l<=c&&(o=l)}if(s=i[o]||e.target,s!==t){Wu(e,"currentTarget",{configurable:!0,get(){return s||n}});var u=Ce,d=Oe;ht(null),Vt(null);try{for(var f,h=[];s!==null;){var g=s.assignedSlot||s.parentNode||s.host||null;try{var b=s["__"+r];if(b!=null&&(!s.disabled||e.target===s))if(Mr(b)){var[p,...v]=b;p.apply(s,[e,...v])}else b.call(s,e)}catch(E){f?h.push(E):f=E}if(e.cancelBubble||g===t||g===null)break;s=g}if(f){for(let E of h)queueMicrotask(()=>{throw E});throw f}}finally{e.__root=t,delete e.currentTarget,ht(u),Vt(d)}}}function Sl(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","\x3C!---->"),t.content}function an(e,t){var n=Oe;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function De(e,t){var n=(t&Qa)!==0,r=(t&gc)!==0,i,s=!e.startsWith("<!>");return()=>{i===void 0&&(i=Sl(s?e:"<!>"+e),n||(i=bt(i)));var o=r||al?document.importNode(i,!0):i.cloneNode(!0);if(n){var a=bt(o),l=o.lastChild;an(a,l)}else an(o,o);return o}}function Gc(e,t,n="svg"){var r=!e.startsWith("<!>"),i=(t&Qa)!==0,s=`<${n}>${r?e:"<!>"+e}</${n}>`,o;return()=>{if(!o){var a=Sl(s),l=bt(a);if(i)for(o=document.createDocumentFragment();bt(l);)o.appendChild(bt(l));else o=bt(l)}var c=o.cloneNode(!0);if(i){var u=bt(c),d=c.lastChild;an(u,d)}else an(c,c);return c}}function Je(e,t){return Gc(e,t,"svg")}function Pl(e=""){{var t=Hr(e+"");return an(t,t),t}}function Wt(){var e=document.createDocumentFragment(),t=document.createComment(""),n=Hr();return e.append(t,n),an(t,n),e}function be(e,t){e!==null&&e.before(t)}function qn(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??=e.nodeValue)&&(e.__t=n,e.nodeValue=n+"")}function Zc(e,t){return Uc(e,t)}const Ut=new Map;function Uc(e,{target:t,anchor:n,props:r={},events:i,context:s,intro:o=!0}){_c();var a=new Set,l=d=>{for(var f=0;f<d.length;f++){var h=d[f];if(!a.has(h)){a.add(h);var g=Xc(h);t.addEventListener(h,En,{passive:g});var b=Ut.get(h);b===void 0?(document.addEventListener(h,En,{passive:g}),Ut.set(h,1)):Ut.set(h,b+1)}}};l(ko(Nl)),uo.add(l);var c=void 0,u=Nc(()=>{var d=n??t.appendChild(Hr());return Lt(()=>{if(s){we({});var f=Ie;f.c=s}i&&(r.$$events=i),c=e(d,r)||{},s&&_e()}),()=>{for(var f of a){t.removeEventListener(f,En);var h=Ut.get(f);--h===0?(document.removeEventListener(f,En),Ut.delete(f)):Ut.set(f,h)}uo.delete(l),d!==n&&d.parentNode?.removeChild(d)}});return Qc.set(c,u),c}let Qc=new WeakMap;function Ke(e,t,[n,r]=[0,0]){var i=e,s=null,o=null,a=Ye,l=n>0?Vn:0,c=!1;const u=(f,h=!0)=>{c=!0,d(h,f)},d=(f,h)=>{a!==(a=f)&&(a?(s?$r(s):h&&(s=Lt(()=>h(i))),o&&In(o,()=>{o=null})):(o?$r(o):h&&(o=Lt(()=>h(i,[n+1,r]))),s&&In(s,()=>{s=null})))};yn(()=>{c=!1,t(u),c||d(null,null)},l)}function Jc(e,t,n,r){for(var i=[],s=t.length,o=0;o<s;o++)Oo(t[o].e,i,!0);var a=s>0&&i.length===0&&n!==null;if(a){var l=n.parentNode;xc(l),l.append(n),r.clear(),It(e,t[0].prev,t[s-1].next)}pl(i,()=>{for(var c=0;c<s;c++){var u=t[c];a||(r.delete(u.k),It(e,u.prev,u.next)),ft(u.e,!a)}})}function To(e,t,n,r,i,s=null){var o=e,a={flags:t,items:new Map,first:null},l=(t&Ua)!==0;if(l){var c=e;o=c.appendChild(Hr())}var u=null,d=!1,f=tl(()=>{var h=n();return Mr(h)?h:h==null?[]:ko(h)});yn(()=>{var h=$(f),g=h.length;d&&g===0||(d=g===0,ed(h,a,o,i,t,r,n),s!==null&&(g===0?u?$r(u):u=Lt(()=>s(o)):u!==null&&In(u,()=>{u=null})),$(f))})}function ed(e,t,n,r,i,s,o){var a=(i&lc)!==0,l=(i&(Po|Co))!==0,c=e.length,u=t.items,d=t.first,f=d,h,g=null,b,p=[],v=[],E,_,y,S;if(a)for(S=0;S<c;S+=1)E=e[S],_=s(E,S),y=u.get(_),y!==void 0&&(y.a?.measure(),(b??=new Set).add(y));for(S=0;S<c;S+=1){if(E=e[S],_=s(E,S),y=u.get(_),y===void 0){var N=f?f.e.nodes_start:n;g=nd(N,t,g,g===null?t.first:g.next,E,_,S,r,i,o),u.set(_,g),p=[],v=[],f=g.next;continue}if(l&&td(y,E,S,i),(y.e.f&Et)!==0&&($r(y.e),a&&(y.a?.unfix(),(b??=new Set).delete(y))),y!==f){if(h!==void 0&&h.has(y)){if(p.length<v.length){var D=v[0],k;g=D.prev;var I=p[0],A=p[p.length-1];for(k=0;k<p.length;k+=1)ns(p[k],D,n);for(k=0;k<v.length;k+=1)h.delete(v[k]);It(t,I.prev,A.next),It(t,g,I),It(t,A,D),f=D,g=A,S-=1,p=[],v=[]}else h.delete(y),ns(y,f,n),It(t,y.prev,y.next),It(t,y,g===null?t.first:g.next),It(t,g,y),g=y;continue}for(p=[],v=[];f!==null&&f.k!==_;)(f.e.f&Et)===0&&(h??=new Set).add(f),v.push(f),f=f.next;if(f===null)continue;y=f}p.push(y),g=y,f=y.next}if(f!==null||h!==void 0){for(var w=h===void 0?[]:ko(h);f!==null;)(f.e.f&Et)===0&&w.push(f),f=f.next;var x=w.length;if(x>0){var M=(i&Ua)!==0&&c===0?n:null;if(a){for(S=0;S<x;S+=1)w[S].a?.measure();for(S=0;S<x;S+=1)w[S].a?.fix()}Jc(t,w,M,u)}}a&&Yr(()=>{if(b!==void 0)for(y of b)y.a?.apply()}),Oe.first=t.first&&t.first.e,Oe.last=g&&g.e}function td(e,t,n,r){(r&Po)!==0&&so(e.v,t),(r&Co)!==0?so(e.i,n):e.i=n}function nd(e,t,n,r,i,s,o,a,l,c){var u=(l&Po)!==0,d=(l&uc)===0,f=u?d?ol(i):on(i):i,h=(l&Co)===0?o:on(o),g={i:h,v:f,k:s,a:null,e:null,prev:n,next:r};try{return g.e=Lt(()=>a(e,f,h,c),wc),g.e.prev=n&&n.e,g.e.next=r&&r.e,n===null?t.first=g:(n.next=g,n.e.next=g.e),r!==null&&(r.prev=g,r.e.prev=g.e),g}finally{}}function ns(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,i=t?t.e.nodes_start:n,s=e.e.nodes_start;s!==r;){var o=Lr(s);i.before(s),s=o}}function It(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function Yt(e,t,...n){var r=e,i=$n,s;yn(()=>{i!==(i=t())&&(s&&(ft(s),s=null),s=Lt(()=>i(r,...n)))},Vn)}function Do(e,t,n){var r=e,i,s;yn(()=>{i!==(i=t())&&(s&&(In(s),s=null),i&&(s=Lt(()=>n(r,i))))},Vn)}function qe(e,t,n){vn(()=>{var r=Be(()=>t(e,n?.())||{});if(n&&r?.update){var i=!1,s={};Vr(()=>{var o=n();kl(o),i&&Za(s,o)&&(s=o,r.update(o))}),i=!0}if(r?.destroy)return()=>r.destroy()})}function rd(e,t){var n=void 0,r;yn(()=>{n!==(n=t())&&(r&&(ft(r),r=null),n&&(r=Lt(()=>{vn(()=>n(e))})))})}function Cl(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=Cl(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function id(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=Cl(e))&&(r&&(r+=" "),r+=t);return r}function Ct(e){return typeof e=="object"?id(e):e??""}const rs=[...` 	
\r\f \v\uFEFF`];function od(e,t,n){var r=e==null?"":""+e;if(t&&(r=r?r+" "+t:t),n){for(var i in n)if(n[i])r=r?r+" "+i:i;else if(r.length)for(var s=i.length,o=0;(o=r.indexOf(i,o))>=0;){var a=o+s;(o===0||rs.includes(r[o-1]))&&(a===r.length||rs.includes(r[a]))?r=(o===0?"":r.substring(0,o))+r.substring(a+1):o=a}}return r===""?null:r}function is(e,t=!1){var n=t?" !important;":";",r="";for(var i in e){var s=e[i];s!=null&&s!==""&&(r+=" "+i+": "+s+n)}return r}function ni(e){return e[0]!=="-"||e[1]!=="-"?e.toLowerCase():e}function sd(e,t){if(t){var n="",r,i;if(Array.isArray(t)?(r=t[0],i=t[1]):r=t,e){e=String(e).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var s=!1,o=0,a=!1,l=[];r&&l.push(...Object.keys(r).map(ni)),i&&l.push(...Object.keys(i).map(ni));var c=0,u=-1;const b=e.length;for(var d=0;d<b;d++){var f=e[d];if(a?f==="/"&&e[d-1]==="*"&&(a=!1):s?s===f&&(s=!1):f==="/"&&e[d+1]==="*"?a=!0:f==='"'||f==="'"?s=f:f==="("?o++:f===")"&&o--,!a&&s===!1&&o===0){if(f===":"&&u===-1)u=d;else if(f===";"||d===b-1){if(u!==-1){var h=ni(e.substring(c,u).trim());if(!l.includes(h)){f!==";"&&d++;var g=e.substring(c,d).trim();n+=" "+g+";"}}c=d+1,u=-1}}}}return r&&(n+=is(r)),i&&(n+=is(i,!0)),n=n.trim(),n===""?null:n}return e==null?null:String(e)}function pt(e,t,n,r,i,s){var o=e.__className;if(o!==n||o===void 0){var a=od(n,r,s);a==null?e.removeAttribute("class"):t?e.className=a:e.setAttribute("class",a),e.__className=n}else if(s&&i!==s)for(var l in s){var c=!!s[l];(i==null||c!==!!i[l])&&e.classList.toggle(l,c)}return s}function ri(e,t={},n,r){for(var i in n){var s=n[i];t[i]!==s&&(n[i]==null?e.style.removeProperty(i):e.style.setProperty(i,s,r))}}function $t(e,t,n,r){var i=e.__style;if(i!==t){var s=sd(t,r);s==null?e.removeAttribute("style"):e.style.cssText=s,e.__style=t}else r&&(Array.isArray(r)?(ri(e,n?.[0],r[0]),ri(e,n?.[1],r[1],"important")):ri(e,n,r));return r}const Jt=Symbol("class"),At=Symbol("style"),Il=Symbol("is custom element"),Ol=Symbol("is html");function ad(e,t){t?e.hasAttribute("selected")||e.setAttribute("selected",""):e.removeAttribute("selected")}function ve(e,t,n,r){var i=Al(e);i[t]!==(i[t]=n)&&(t==="loading"&&(e[Uu]=n),n==null?e.removeAttribute(t):typeof n!="string"&&Ml(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function Bn(e,t,n,r,i=!1){var s=Al(e),o=s[Il],a=!s[Ol],l=t||{},c=e.tagName==="OPTION";for(var u in t)u in n||(n[u]=null);n.class?n.class=Ct(n.class):(r||n[Jt])&&(n.class=null),n[At]&&(n.style??=null);var d=Ml(e);for(const _ in n){let y=n[_];if(c&&_==="value"&&y==null){e.value=e.__value="",l[_]=y;continue}if(_==="class"){var f=e.namespaceURI==="http://www.w3.org/1999/xhtml";pt(e,f,y,r,t?.[Jt],n[Jt]),l[_]=y,l[Jt]=n[Jt];continue}if(_==="style"){$t(e,y,t?.[At],n[At]),l[_]=y,l[At]=n[At];continue}var h=l[_];if(y!==h){l[_]=y;var g=_[0]+_[1];if(g!=="$$")if(g==="on"){const S={},N="$$"+_;let D=_.slice(2);var b=Fc(D);if(Vc(D)&&(D=D.slice(0,-7),S.capture=!0),!b&&h){if(y!=null)continue;e.removeEventListener(D,l[N],S),l[N]=null}if(y!=null)if(b)e[`__${D}`]=y,bn([D]);else{let k=function(I){l[_].call(this,I)};var E=k;l[N]=Mo(D,e,k,S)}else b&&(e[`__${D}`]=void 0)}else if(_==="style")ve(e,_,y);else if(_==="autofocus")Kc(e,!!y);else if(!o&&(_==="__value"||_==="value"&&y!=null))e.value=e.__value=y;else if(_==="selected"&&c)ad(e,y);else{var p=_;a||(p=Bc(p));var v=p==="defaultValue"||p==="defaultChecked";if(y==null&&!o&&!v)if(s[_]=null,p==="value"||p==="checked"){let S=e;const N=t===void 0;if(p==="value"){let D=S.defaultValue;S.removeAttribute(p),S.defaultValue=D,S.value=S.__value=N?D:null}else{let D=S.defaultChecked;S.removeAttribute(p),S.defaultChecked=D,S.checked=N?D:!1}}else e.removeAttribute(_);else v||d.includes(p)&&(o||typeof y!="string")?e[p]=y:typeof y!="function"&&ve(e,p,y)}}}for(let _ of Object.getOwnPropertySymbols(n))_.description===mc&&rd(e,()=>n[_]);return l}function Al(e){return e.__attributes??={[Il]:e.nodeName.includes("-"),[Ol]:e.namespaceURI===pc}}var os=new Map;function Ml(e){var t=os.get(e.nodeName);if(t)return t;os.set(e.nodeName,t=[]);for(var n,r=e,i=Element.prototype;i!==r;){n=Ba(r);for(var s in n)n[s].set&&t.push(s);r=Tr(r)}return t}class Ro{#e=new WeakMap;#t;#n;static entries=new WeakMap;constructor(t){this.#n=t}observe(t,n){var r=this.#e.get(t)||new Set;return r.add(n),this.#e.set(t,r),this.#r().observe(t,this.#n),()=>{var i=this.#e.get(t);i.delete(n),i.size===0&&(this.#e.delete(t),this.#t.unobserve(t))}}#r(){return this.#t??(this.#t=new ResizeObserver(t=>{for(var n of t){Ro.entries.set(n.target,n);for(var r of this.#e.get(n.target)||[])r(n)}}))}}var ld=new Ro({box:"border-box"});function ss(e,t,n){var r=ld.observe(e,()=>n(e[t]));vn(()=>(Be(()=>n(e[t])),r))}function as(e,t){return e===t||e?.[Dt]===t}function Wn(e={},t,n,r){return vn(()=>{var i,s;return Vr(()=>{i=s,s=[],Be(()=>{e!==n(...s)&&(t(e,...s),i&&as(n(...i),e)&&t(null,...i))})}),()=>{Yr(()=>{s&&as(n(...s),e)&&t(null,...s)})}}),e}function ud(e=!1){const t=Ie,n=t.l.u;if(!n)return;let r=()=>kl(t.s);if(e){let i=0,s={};const o=rn(()=>{let a=!1;const l=t.s;for(const c in l)l[c]!==s[c]&&(s[c]=l[c],a=!0);return a&&i++,i});r=()=>$(o)}n.b.length&&fl(()=>{ls(t,r),cr(n.b)}),Ht(()=>{const i=Be(()=>n.m.map(Ku));return()=>{for(const s of i)typeof s=="function"&&s()}}),n.a.length&&Ht(()=>{ls(t,r),cr(n.a)})}function ls(e,t){if(e.l.s)for(const n of e.l.s)$(n);t()}let Un=!1;function cd(e){var t=Un;try{return Un=!1,[e(),Un]}finally{Un=t}}const dd={get(e,t){if(!e.exclude.includes(t))return e.props[t]},set(e,t){return!1},getOwnPropertyDescriptor(e,t){if(!e.exclude.includes(t)&&t in e.props)return{enumerable:!0,configurable:!0,value:e.props[t]}},has(e,t){return e.exclude.includes(t)?!1:t in e.props},ownKeys(e){return Reflect.ownKeys(e.props).filter(t=>!e.exclude.includes(t))}};function Xn(e,t,n){return new Proxy({props:e,exclude:t},dd)}const fd={get(e,t){let n=e.props.length;for(;n--;){let r=e.props[n];if(wn(r)&&(r=r()),typeof r=="object"&&r!==null&&t in r)return r[t]}},set(e,t,n){let r=e.props.length;for(;r--;){let i=e.props[r];wn(i)&&(i=i());const s=Tt(i,t);if(s&&s.set)return s.set(n),!0}return!1},getOwnPropertyDescriptor(e,t){let n=e.props.length;for(;n--;){let r=e.props[n];if(wn(r)&&(r=r()),typeof r=="object"&&r!==null&&t in r){const i=Tt(r,t);return i&&!i.configurable&&(i.configurable=!0),i}}},has(e,t){if(t===Dt||t===ja)return!1;for(let n of e.props)if(wn(n)&&(n=n()),n!=null&&t in n)return!0;return!1},ownKeys(e){const t=[];for(let n of e.props)if(wn(n)&&(n=n()),!!n){for(const r in n)t.includes(r)||t.push(r);for(const r of Object.getOwnPropertySymbols(n))t.includes(r)||t.push(r)}return t}};function hd(...e){return new Proxy({props:e},fd)}function us(e){return e.ctx?.d??!1}function J(e,t,n,r){var i=(n&cc)!==0,s=!pn||(n&dc)!==0,o=(n&hc)!==0,a=(n&$c)!==0,l=!1,c;o?[c,l]=cd(()=>e[t]):c=e[t];var u=Dt in e||ja in e,d=o&&(Tt(e,t)?.set??(u&&t in e&&(N=>e[t]=N)))||void 0,f=r,h=!0,g=!1,b=()=>(g=!0,h&&(h=!1,a?f=Be(r):f=r),f);c===void 0&&r!==void 0&&(d&&s&&nc(),c=b(),d&&d(c));var p;if(s)p=()=>{var N=e[t];return N===void 0?b():(h=!0,g=!1,N)};else{var v=(i?rn:tl)(()=>e[t]);v.f|=Gu,p=()=>{var N=$(v);return N!==void 0&&(f=void 0),N===void 0?f:N}}if((n&fc)===0)return p;if(d){var E=e.$$legacy;return function(N,D){return arguments.length>0?((!s||!D||E||l)&&d(D?p():N),N):p()}}var _=!1,y=ol(c),S=rn(()=>{var N=p(),D=$(y);return _?(_=!1,D):y.v=N});return o&&$(S),i||(S.equals=So),function(N,D){if(arguments.length>0){const k=D?$(S):s&&o?Ge(N):N;if(!S.equals(k)){if(_=!0,B(y,k),g&&f!==void 0&&(f=k),us(S))return N;Be(()=>$(S))}return N}return us(S)?S.v:$(S)}}function $d(e){Ie===null&&Io(),pn&&Ie.l!==null?gd(Ie).m.push(e):Ht(()=>{const t=Be(e);if(typeof t=="function")return t})}function zo(e){Ie===null&&Io(),$d(()=>()=>Be(e))}function gd(e){var t=e.l;return t.u??={a:[],b:[],m:[]}}const pd="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(pd);function md(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ii,cs;function Ho(){if(cs)return ii;cs=1;var e="\0",t="\0",n="";class r{_isDirected=!0;_isMultigraph=!1;_isCompound=!1;_label;_defaultNodeLabelFn=()=>{};_defaultEdgeLabelFn=()=>{};_nodes={};_in={};_preds={};_out={};_sucs={};_edgeObjs={};_edgeLabels={};_nodeCount=0;_edgeCount=0;_parent;_children;constructor(u){u&&(this._isDirected=Object.hasOwn(u,"directed")?u.directed:!0,this._isMultigraph=Object.hasOwn(u,"multigraph")?u.multigraph:!1,this._isCompound=Object.hasOwn(u,"compound")?u.compound:!1),this._isCompound&&(this._parent={},this._children={},this._children[t]={})}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(u){return this._label=u,this}graph(){return this._label}setDefaultNodeLabel(u){return this._defaultNodeLabelFn=u,typeof u!="function"&&(this._defaultNodeLabelFn=()=>u),this}nodeCount(){return this._nodeCount}nodes(){return Object.keys(this._nodes)}sources(){var u=this;return this.nodes().filter(d=>Object.keys(u._in[d]).length===0)}sinks(){var u=this;return this.nodes().filter(d=>Object.keys(u._out[d]).length===0)}setNodes(u,d){var f=arguments,h=this;return u.forEach(function(g){f.length>1?h.setNode(g,d):h.setNode(g)}),this}setNode(u,d){return Object.hasOwn(this._nodes,u)?(arguments.length>1&&(this._nodes[u]=d),this):(this._nodes[u]=arguments.length>1?d:this._defaultNodeLabelFn(u),this._isCompound&&(this._parent[u]=t,this._children[u]={},this._children[t][u]=!0),this._in[u]={},this._preds[u]={},this._out[u]={},this._sucs[u]={},++this._nodeCount,this)}node(u){return this._nodes[u]}hasNode(u){return Object.hasOwn(this._nodes,u)}removeNode(u){var d=this;if(Object.hasOwn(this._nodes,u)){var f=h=>d.removeEdge(d._edgeObjs[h]);delete this._nodes[u],this._isCompound&&(this._removeFromParentsChildList(u),delete this._parent[u],this.children(u).forEach(function(h){d.setParent(h)}),delete this._children[u]),Object.keys(this._in[u]).forEach(f),delete this._in[u],delete this._preds[u],Object.keys(this._out[u]).forEach(f),delete this._out[u],delete this._sucs[u],--this._nodeCount}return this}setParent(u,d){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(d===void 0)d=t;else{d+="";for(var f=d;f!==void 0;f=this.parent(f))if(f===u)throw new Error("Setting "+d+" as parent of "+u+" would create a cycle");this.setNode(d)}return this.setNode(u),this._removeFromParentsChildList(u),this._parent[u]=d,this._children[d][u]=!0,this}_removeFromParentsChildList(u){delete this._children[this._parent[u]][u]}parent(u){if(this._isCompound){var d=this._parent[u];if(d!==t)return d}}children(u=t){if(this._isCompound){var d=this._children[u];if(d)return Object.keys(d)}else{if(u===t)return this.nodes();if(this.hasNode(u))return[]}}predecessors(u){var d=this._preds[u];if(d)return Object.keys(d)}successors(u){var d=this._sucs[u];if(d)return Object.keys(d)}neighbors(u){var d=this.predecessors(u);if(d){const h=new Set(d);for(var f of this.successors(u))h.add(f);return Array.from(h.values())}}isLeaf(u){var d;return this.isDirected()?d=this.successors(u):d=this.neighbors(u),d.length===0}filterNodes(u){var d=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});d.setGraph(this.graph());var f=this;Object.entries(this._nodes).forEach(function([b,p]){u(b)&&d.setNode(b,p)}),Object.values(this._edgeObjs).forEach(function(b){d.hasNode(b.v)&&d.hasNode(b.w)&&d.setEdge(b,f.edge(b))});var h={};function g(b){var p=f.parent(b);return p===void 0||d.hasNode(p)?(h[b]=p,p):p in h?h[p]:g(p)}return this._isCompound&&d.nodes().forEach(b=>d.setParent(b,g(b))),d}setDefaultEdgeLabel(u){return this._defaultEdgeLabelFn=u,typeof u!="function"&&(this._defaultEdgeLabelFn=()=>u),this}edgeCount(){return this._edgeCount}edges(){return Object.values(this._edgeObjs)}setPath(u,d){var f=this,h=arguments;return u.reduce(function(g,b){return h.length>1?f.setEdge(g,b,d):f.setEdge(g,b),b}),this}setEdge(){var u,d,f,h,g=!1,b=arguments[0];typeof b=="object"&&b!==null&&"v"in b?(u=b.v,d=b.w,f=b.name,arguments.length===2&&(h=arguments[1],g=!0)):(u=b,d=arguments[1],f=arguments[3],arguments.length>2&&(h=arguments[2],g=!0)),u=""+u,d=""+d,f!==void 0&&(f=""+f);var p=o(this._isDirected,u,d,f);if(Object.hasOwn(this._edgeLabels,p))return g&&(this._edgeLabels[p]=h),this;if(f!==void 0&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(u),this.setNode(d),this._edgeLabels[p]=g?h:this._defaultEdgeLabelFn(u,d,f);var v=a(this._isDirected,u,d,f);return u=v.v,d=v.w,Object.freeze(v),this._edgeObjs[p]=v,i(this._preds[d],u),i(this._sucs[u],d),this._in[d][p]=v,this._out[u][p]=v,this._edgeCount++,this}edge(u,d,f){var h=arguments.length===1?l(this._isDirected,arguments[0]):o(this._isDirected,u,d,f);return this._edgeLabels[h]}edgeAsObj(){const u=this.edge(...arguments);return typeof u!="object"?{label:u}:u}hasEdge(u,d,f){var h=arguments.length===1?l(this._isDirected,arguments[0]):o(this._isDirected,u,d,f);return Object.hasOwn(this._edgeLabels,h)}removeEdge(u,d,f){var h=arguments.length===1?l(this._isDirected,arguments[0]):o(this._isDirected,u,d,f),g=this._edgeObjs[h];return g&&(u=g.v,d=g.w,delete this._edgeLabels[h],delete this._edgeObjs[h],s(this._preds[d],u),s(this._sucs[u],d),delete this._in[d][h],delete this._out[u][h],this._edgeCount--),this}inEdges(u,d){var f=this._in[u];if(f){var h=Object.values(f);return d?h.filter(g=>g.v===d):h}}outEdges(u,d){var f=this._out[u];if(f){var h=Object.values(f);return d?h.filter(g=>g.w===d):h}}nodeEdges(u,d){var f=this.inEdges(u,d);if(f)return f.concat(this.outEdges(u,d))}}function i(c,u){c[u]?c[u]++:c[u]=1}function s(c,u){--c[u]||delete c[u]}function o(c,u,d,f){var h=""+u,g=""+d;if(!c&&h>g){var b=h;h=g,g=b}return h+n+g+n+(f===void 0?e:f)}function a(c,u,d,f){var h=""+u,g=""+d;if(!c&&h>g){var b=h;h=g,g=b}var p={v:h,w:g};return f&&(p.name=f),p}function l(c,u){return o(c,u.v,u.w,u.name)}return ii=r,ii}var oi,ds;function vd(){return ds||(ds=1,oi="2.2.4"),oi}var si,fs;function yd(){return fs||(fs=1,si={Graph:Ho(),version:vd()}),si}var ai,hs;function bd(){if(hs)return ai;hs=1;var e=Ho();ai={write:t,read:i};function t(s){var o={options:{directed:s.isDirected(),multigraph:s.isMultigraph(),compound:s.isCompound()},nodes:n(s),edges:r(s)};return s.graph()!==void 0&&(o.value=structuredClone(s.graph())),o}function n(s){return s.nodes().map(function(o){var a=s.node(o),l=s.parent(o),c={v:o};return a!==void 0&&(c.value=a),l!==void 0&&(c.parent=l),c})}function r(s){return s.edges().map(function(o){var a=s.edge(o),l={v:o.v,w:o.w};return o.name!==void 0&&(l.name=o.name),a!==void 0&&(l.value=a),l})}function i(s){var o=new e(s.options).setGraph(s.value);return s.nodes.forEach(function(a){o.setNode(a.v,a.value),a.parent&&o.setParent(a.v,a.parent)}),s.edges.forEach(function(a){o.setEdge({v:a.v,w:a.w,name:a.name},a.value)}),o}return ai}var li,$s;function wd(){if($s)return li;$s=1,li=e;function e(t){var n={},r=[],i;function s(o){Object.hasOwn(n,o)||(n[o]=!0,i.push(o),t.successors(o).forEach(s),t.predecessors(o).forEach(s))}return t.nodes().forEach(function(o){i=[],s(o),i.length&&r.push(i)}),r}return li}var ui,gs;function Tl(){if(gs)return ui;gs=1;class e{_arr=[];_keyIndices={};size(){return this._arr.length}keys(){return this._arr.map(function(n){return n.key})}has(n){return Object.hasOwn(this._keyIndices,n)}priority(n){var r=this._keyIndices[n];if(r!==void 0)return this._arr[r].priority}min(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key}add(n,r){var i=this._keyIndices;if(n=String(n),!Object.hasOwn(i,n)){var s=this._arr,o=s.length;return i[n]=o,s.push({key:n,priority:r}),this._decrease(o),!0}return!1}removeMin(){this._swap(0,this._arr.length-1);var n=this._arr.pop();return delete this._keyIndices[n.key],this._heapify(0),n.key}decrease(n,r){var i=this._keyIndices[n];if(r>this._arr[i].priority)throw new Error("New priority is greater than current priority. Key: "+n+" Old: "+this._arr[i].priority+" New: "+r);this._arr[i].priority=r,this._decrease(i)}_heapify(n){var r=this._arr,i=2*n,s=i+1,o=n;i<r.length&&(o=r[i].priority<r[o].priority?i:o,s<r.length&&(o=r[s].priority<r[o].priority?s:o),o!==n&&(this._swap(n,o),this._heapify(o)))}_decrease(n){for(var r=this._arr,i=r[n].priority,s;n!==0&&(s=n>>1,!(r[s].priority<i));)this._swap(n,s),n=s}_swap(n,r){var i=this._arr,s=this._keyIndices,o=i[n],a=i[r];i[n]=a,i[r]=o,s[a.key]=n,s[o.key]=r}}return ui=e,ui}var ci,ps;function Dl(){if(ps)return ci;ps=1;var e=Tl();ci=n;var t=()=>1;function n(i,s,o,a){return r(i,String(s),o||t,a||function(l){return i.outEdges(l)})}function r(i,s,o,a){var l={},c=new e,u,d,f=function(h){var g=h.v!==u?h.v:h.w,b=l[g],p=o(h),v=d.distance+p;if(p<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+h+" Weight: "+p);v<b.distance&&(b.distance=v,b.predecessor=u,c.decrease(g,v))};for(i.nodes().forEach(function(h){var g=h===s?0:Number.POSITIVE_INFINITY;l[h]={distance:g},c.add(h,g)});c.size()>0&&(u=c.removeMin(),d=l[u],d.distance!==Number.POSITIVE_INFINITY);)a(u).forEach(f);return l}return ci}var di,ms;function _d(){if(ms)return di;ms=1;var e=Dl();di=t;function t(n,r,i){return n.nodes().reduce(function(s,o){return s[o]=e(n,o,r,i),s},{})}return di}var fi,vs;function Rl(){if(vs)return fi;vs=1,fi=e;function e(t){var n=0,r=[],i={},s=[];function o(a){var l=i[a]={onStack:!0,lowlink:n,index:n++};if(r.push(a),t.successors(a).forEach(function(d){Object.hasOwn(i,d)?i[d].onStack&&(l.lowlink=Math.min(l.lowlink,i[d].index)):(o(d),l.lowlink=Math.min(l.lowlink,i[d].lowlink))}),l.lowlink===l.index){var c=[],u;do u=r.pop(),i[u].onStack=!1,c.push(u);while(a!==u);s.push(c)}}return t.nodes().forEach(function(a){Object.hasOwn(i,a)||o(a)}),s}return fi}var hi,ys;function xd(){if(ys)return hi;ys=1;var e=Rl();hi=t;function t(n){return e(n).filter(function(r){return r.length>1||r.length===1&&n.hasEdge(r[0],r[0])})}return hi}var $i,bs;function Ed(){if(bs)return $i;bs=1,$i=t;var e=()=>1;function t(r,i,s){return n(r,i||e,s||function(o){return r.outEdges(o)})}function n(r,i,s){var o={},a=r.nodes();return a.forEach(function(l){o[l]={},o[l][l]={distance:0},a.forEach(function(c){l!==c&&(o[l][c]={distance:Number.POSITIVE_INFINITY})}),s(l).forEach(function(c){var u=c.v===l?c.w:c.v,d=i(c);o[l][u]={distance:d,predecessor:l}})}),a.forEach(function(l){var c=o[l];a.forEach(function(u){var d=o[u];a.forEach(function(f){var h=d[l],g=c[f],b=d[f],p=h.distance+g.distance;p<b.distance&&(b.distance=p,b.predecessor=g.predecessor)})})}),o}return $i}var gi,ws;function zl(){if(ws)return gi;ws=1;function e(n){var r={},i={},s=[];function o(a){if(Object.hasOwn(i,a))throw new t;Object.hasOwn(r,a)||(i[a]=!0,r[a]=!0,n.predecessors(a).forEach(o),delete i[a],s.push(a))}if(n.sinks().forEach(o),Object.keys(r).length!==n.nodeCount())throw new t;return s}class t extends Error{constructor(){super(...arguments)}}return gi=e,e.CycleException=t,gi}var pi,_s;function kd(){if(_s)return pi;_s=1;var e=zl();pi=t;function t(n){try{e(n)}catch(r){if(r instanceof e.CycleException)return!1;throw r}return!0}return pi}var mi,xs;function Hl(){if(xs)return mi;xs=1,mi=e;function e(i,s,o){Array.isArray(s)||(s=[s]);var a=i.isDirected()?d=>i.successors(d):d=>i.neighbors(d),l=o==="post"?t:n,c=[],u={};return s.forEach(d=>{if(!i.hasNode(d))throw new Error("Graph does not have node: "+d);l(d,a,u,c)}),c}function t(i,s,o,a){for(var l=[[i,!1]];l.length>0;){var c=l.pop();c[1]?a.push(c[0]):Object.hasOwn(o,c[0])||(o[c[0]]=!0,l.push([c[0],!0]),r(s(c[0]),u=>l.push([u,!1])))}}function n(i,s,o,a){for(var l=[i];l.length>0;){var c=l.pop();Object.hasOwn(o,c)||(o[c]=!0,a.push(c),r(s(c),u=>l.push(u)))}}function r(i,s){for(var o=i.length;o--;)s(i[o],o,i);return i}return mi}var vi,Es;function Nd(){if(Es)return vi;Es=1;var e=Hl();vi=t;function t(n,r){return e(n,r,"post")}return vi}var yi,ks;function Sd(){if(ks)return yi;ks=1;var e=Hl();yi=t;function t(n,r){return e(n,r,"pre")}return yi}var bi,Ns;function Pd(){if(Ns)return bi;Ns=1;var e=Ho(),t=Tl();bi=n;function n(r,i){var s=new e,o={},a=new t,l;function c(d){var f=d.v===l?d.w:d.v,h=a.priority(f);if(h!==void 0){var g=i(d);g<h&&(o[f]=l,a.decrease(f,g))}}if(r.nodeCount()===0)return s;r.nodes().forEach(function(d){a.add(d,Number.POSITIVE_INFINITY),s.setNode(d)}),a.decrease(r.nodes()[0],0);for(var u=!1;a.size()>0;){if(l=a.removeMin(),Object.hasOwn(o,l))s.setEdge(l,o[l]);else{if(u)throw new Error("Input graph is not connected: "+r);u=!0}r.nodeEdges(l).forEach(c)}return s}return bi}var wi,Ss;function Cd(){return Ss||(Ss=1,wi={components:wd(),dijkstra:Dl(),dijkstraAll:_d(),findCycles:xd(),floydWarshall:Ed(),isAcyclic:kd(),postorder:Nd(),preorder:Sd(),prim:Pd(),tarjan:Rl(),topsort:zl()}),wi}var _i,Ps;function st(){if(Ps)return _i;Ps=1;var e=yd();return _i={Graph:e.Graph,json:bd(),alg:Cd(),version:e.version},_i}var xi,Cs;function Id(){if(Cs)return xi;Cs=1;class e{constructor(){let i={};i._next=i._prev=i,this._sentinel=i}dequeue(){let i=this._sentinel,s=i._prev;if(s!==i)return t(s),s}enqueue(i){let s=this._sentinel;i._prev&&i._next&&t(i),i._next=s._next,s._next._prev=i,s._next=i,i._prev=s}toString(){let i=[],s=this._sentinel,o=s._prev;for(;o!==s;)i.push(JSON.stringify(o,n)),o=o._prev;return"["+i.join(", ")+"]"}}function t(r){r._prev._next=r._next,r._next._prev=r._prev,delete r._next,delete r._prev}function n(r,i){if(r!=="_next"&&r!=="_prev")return i}return xi=e,xi}var Ei,Is;function Od(){if(Is)return Ei;Is=1;let e=st().Graph,t=Id();Ei=r;let n=()=>1;function r(c,u){if(c.nodeCount()<=1)return[];let d=o(c,u||n);return i(d.graph,d.buckets,d.zeroIdx).flatMap(h=>c.outEdges(h.v,h.w))}function i(c,u,d){let f=[],h=u[u.length-1],g=u[0],b;for(;c.nodeCount();){for(;b=g.dequeue();)s(c,u,d,b);for(;b=h.dequeue();)s(c,u,d,b);if(c.nodeCount()){for(let p=u.length-2;p>0;--p)if(b=u[p].dequeue(),b){f=f.concat(s(c,u,d,b,!0));break}}}return f}function s(c,u,d,f,h){let g=h?[]:void 0;return c.inEdges(f.v).forEach(b=>{let p=c.edge(b),v=c.node(b.v);h&&g.push({v:b.v,w:b.w}),v.out-=p,a(u,d,v)}),c.outEdges(f.v).forEach(b=>{let p=c.edge(b),v=b.w,E=c.node(v);E.in-=p,a(u,d,E)}),c.removeNode(f.v),g}function o(c,u){let d=new e,f=0,h=0;c.nodes().forEach(p=>{d.setNode(p,{v:p,in:0,out:0})}),c.edges().forEach(p=>{let v=d.edge(p.v,p.w)||0,E=u(p),_=v+E;d.setEdge(p.v,p.w,_),h=Math.max(h,d.node(p.v).out+=E),f=Math.max(f,d.node(p.w).in+=E)});let g=l(h+f+3).map(()=>new t),b=f+1;return d.nodes().forEach(p=>{a(g,b,d.node(p))}),{graph:d,buckets:g,zeroIdx:b}}function a(c,u,d){d.out?d.in?c[d.out-d.in+u].enqueue(d):c[c.length-1].enqueue(d):c[0].enqueue(d)}function l(c){const u=[];for(let d=0;d<c;d++)u.push(d);return u}return Ei}var ki,Os;function ze(){if(Os)return ki;Os=1;let e=st().Graph;ki={addBorderNode:u,addDummyNode:t,applyWithChunking:h,asNonCompoundGraph:r,buildLayerMatrix:a,intersectRect:o,mapValues:N,maxRank:g,normalizeRanks:l,notime:v,partition:b,pick:S,predecessorWeights:s,range:y,removeEmptyRanks:c,simplify:n,successorWeights:i,time:p,uniqueId:_,zipObject:D};function t(k,I,A,w){let x;do x=_(w);while(k.hasNode(x));return A.dummy=I,k.setNode(x,A),x}function n(k){let I=new e().setGraph(k.graph());return k.nodes().forEach(A=>I.setNode(A,k.node(A))),k.edges().forEach(A=>{let w=I.edge(A.v,A.w)||{weight:0,minlen:1},x=k.edge(A);I.setEdge(A.v,A.w,{weight:w.weight+x.weight,minlen:Math.max(w.minlen,x.minlen)})}),I}function r(k){let I=new e({multigraph:k.isMultigraph()}).setGraph(k.graph());return k.nodes().forEach(A=>{k.children(A).length||I.setNode(A,k.node(A))}),k.edges().forEach(A=>{I.setEdge(A,k.edge(A))}),I}function i(k){let I=k.nodes().map(A=>{let w={};return k.outEdges(A).forEach(x=>{w[x.w]=(w[x.w]||0)+k.edge(x).weight}),w});return D(k.nodes(),I)}function s(k){let I=k.nodes().map(A=>{let w={};return k.inEdges(A).forEach(x=>{w[x.v]=(w[x.v]||0)+k.edge(x).weight}),w});return D(k.nodes(),I)}function o(k,I){let A=k.x,w=k.y,x=I.x-A,M=I.y-w,m=k.width/2,P=k.height/2;if(!x&&!M)throw new Error("Not possible to find intersection inside of the rectangle");let T,L;return Math.abs(M)*m>Math.abs(x)*P?(M<0&&(P=-P),T=P*x/M,L=P):(x<0&&(m=-m),T=m,L=m*M/x),{x:A+T,y:w+L}}function a(k){let I=y(g(k)+1).map(()=>[]);return k.nodes().forEach(A=>{let w=k.node(A),x=w.rank;x!==void 0&&(I[x][w.order]=A)}),I}function l(k){let I=k.nodes().map(w=>{let x=k.node(w).rank;return x===void 0?Number.MAX_VALUE:x}),A=h(Math.min,I);k.nodes().forEach(w=>{let x=k.node(w);Object.hasOwn(x,"rank")&&(x.rank-=A)})}function c(k){let I=k.nodes().map(m=>k.node(m).rank),A=h(Math.min,I),w=[];k.nodes().forEach(m=>{let P=k.node(m).rank-A;w[P]||(w[P]=[]),w[P].push(m)});let x=0,M=k.graph().nodeRankFactor;Array.from(w).forEach((m,P)=>{m===void 0&&P%M!==0?--x:m!==void 0&&x&&m.forEach(T=>k.node(T).rank+=x)})}function u(k,I,A,w){let x={width:0,height:0};return arguments.length>=4&&(x.rank=A,x.order=w),t(k,"border",x,I)}function d(k,I=f){const A=[];for(let w=0;w<k.length;w+=I){const x=k.slice(w,w+I);A.push(x)}return A}const f=65535;function h(k,I){if(I.length>f){const A=d(I);return k.apply(null,A.map(w=>k.apply(null,w)))}else return k.apply(null,I)}function g(k){const A=k.nodes().map(w=>{let x=k.node(w).rank;return x===void 0?Number.MIN_VALUE:x});return h(Math.max,A)}function b(k,I){let A={lhs:[],rhs:[]};return k.forEach(w=>{I(w)?A.lhs.push(w):A.rhs.push(w)}),A}function p(k,I){let A=Date.now();try{return I()}finally{console.log(k+" time: "+(Date.now()-A)+"ms")}}function v(k,I){return I()}let E=0;function _(k){var I=++E;return toString(k)+I}function y(k,I,A=1){I==null&&(I=k,k=0);let w=M=>M<I;A<0&&(w=M=>I<M);const x=[];for(let M=k;w(M);M+=A)x.push(M);return x}function S(k,I){const A={};for(const w of I)k[w]!==void 0&&(A[w]=k[w]);return A}function N(k,I){let A=I;return typeof I=="string"&&(A=w=>w[I]),Object.entries(k).reduce((w,[x,M])=>(w[x]=A(M,x),w),{})}function D(k,I){return k.reduce((A,w,x)=>(A[w]=I[x],A),{})}return ki}var Ni,As;function Ad(){if(As)return Ni;As=1;let e=Od(),t=ze().uniqueId;Ni={run:n,undo:i};function n(s){(s.graph().acyclicer==="greedy"?e(s,a(s)):r(s)).forEach(l=>{let c=s.edge(l);s.removeEdge(l),c.forwardName=l.name,c.reversed=!0,s.setEdge(l.w,l.v,c,t("rev"))});function a(l){return c=>l.edge(c).weight}}function r(s){let o=[],a={},l={};function c(u){Object.hasOwn(l,u)||(l[u]=!0,a[u]=!0,s.outEdges(u).forEach(d=>{Object.hasOwn(a,d.w)?o.push(d):c(d.w)}),delete a[u])}return s.nodes().forEach(c),o}function i(s){s.edges().forEach(o=>{let a=s.edge(o);if(a.reversed){s.removeEdge(o);let l=a.forwardName;delete a.reversed,delete a.forwardName,s.setEdge(o.w,o.v,a,l)}})}return Ni}var Si,Ms;function Md(){if(Ms)return Si;Ms=1;let e=ze();Si={run:t,undo:r};function t(i){i.graph().dummyChains=[],i.edges().forEach(s=>n(i,s))}function n(i,s){let o=s.v,a=i.node(o).rank,l=s.w,c=i.node(l).rank,u=s.name,d=i.edge(s),f=d.labelRank;if(c===a+1)return;i.removeEdge(s);let h,g,b;for(b=0,++a;a<c;++b,++a)d.points=[],g={width:0,height:0,edgeLabel:d,edgeObj:s,rank:a},h=e.addDummyNode(i,"edge",g,"_d"),a===f&&(g.width=d.width,g.height=d.height,g.dummy="edge-label",g.labelpos=d.labelpos),i.setEdge(o,h,{weight:d.weight},u),b===0&&i.graph().dummyChains.push(h),o=h;i.setEdge(o,l,{weight:d.weight},u)}function r(i){i.graph().dummyChains.forEach(s=>{let o=i.node(s),a=o.edgeLabel,l;for(i.setEdge(o.edgeObj,a);o.dummy;)l=i.successors(s)[0],i.removeNode(s),a.points.push({x:o.x,y:o.y}),o.dummy==="edge-label"&&(a.x=o.x,a.y=o.y,a.width=o.width,a.height=o.height),s=l,o=i.node(s)})}return Si}var Pi,Ts;function yr(){if(Ts)return Pi;Ts=1;const{applyWithChunking:e}=ze();Pi={longestPath:t,slack:n};function t(r){var i={};function s(o){var a=r.node(o);if(Object.hasOwn(i,o))return a.rank;i[o]=!0;let l=r.outEdges(o).map(u=>u==null?Number.POSITIVE_INFINITY:s(u.w)-r.edge(u).minlen);var c=e(Math.min,l);return c===Number.POSITIVE_INFINITY&&(c=0),a.rank=c}r.sources().forEach(s)}function n(r,i){return r.node(i.w).rank-r.node(i.v).rank-r.edge(i).minlen}return Pi}var Ci,Ds;function Ll(){if(Ds)return Ci;Ds=1;var e=st().Graph,t=yr().slack;Ci=n;function n(o){var a=new e({directed:!1}),l=o.nodes()[0],c=o.nodeCount();a.setNode(l,{});for(var u,d;r(a,o)<c;)u=i(a,o),d=a.hasNode(u.v)?t(o,u):-t(o,u),s(a,o,d);return a}function r(o,a){function l(c){a.nodeEdges(c).forEach(u=>{var d=u.v,f=c===d?u.w:d;!o.hasNode(f)&&!t(a,u)&&(o.setNode(f,{}),o.setEdge(c,f,{}),l(f))})}return o.nodes().forEach(l),o.nodeCount()}function i(o,a){return a.edges().reduce((c,u)=>{let d=Number.POSITIVE_INFINITY;return o.hasNode(u.v)!==o.hasNode(u.w)&&(d=t(a,u)),d<c[0]?[d,u]:c},[Number.POSITIVE_INFINITY,null])[1]}function s(o,a,l){o.nodes().forEach(c=>a.node(c).rank+=l)}return Ci}var Ii,Rs;function Td(){if(Rs)return Ii;Rs=1;var e=Ll(),t=yr().slack,n=yr().longestPath,r=st().alg.preorder,i=st().alg.postorder,s=ze().simplify;Ii=o,o.initLowLimValues=u,o.initCutValues=a,o.calcCutValue=c,o.leaveEdge=f,o.enterEdge=h,o.exchangeEdges=g;function o(E){E=s(E),n(E);var _=e(E);u(_),a(_,E);for(var y,S;y=f(_);)S=h(_,E,y),g(_,E,y,S)}function a(E,_){var y=i(E,E.nodes());y=y.slice(0,y.length-1),y.forEach(S=>l(E,_,S))}function l(E,_,y){var S=E.node(y),N=S.parent;E.edge(y,N).cutvalue=c(E,_,y)}function c(E,_,y){var S=E.node(y),N=S.parent,D=!0,k=_.edge(y,N),I=0;return k||(D=!1,k=_.edge(N,y)),I=k.weight,_.nodeEdges(y).forEach(A=>{var w=A.v===y,x=w?A.w:A.v;if(x!==N){var M=w===D,m=_.edge(A).weight;if(I+=M?m:-m,p(E,y,x)){var P=E.edge(y,x).cutvalue;I+=M?-P:P}}}),I}function u(E,_){arguments.length<2&&(_=E.nodes()[0]),d(E,{},1,_)}function d(E,_,y,S,N){var D=y,k=E.node(S);return _[S]=!0,E.neighbors(S).forEach(I=>{Object.hasOwn(_,I)||(y=d(E,_,y,I,S))}),k.low=D,k.lim=y++,N?k.parent=N:delete k.parent,y}function f(E){return E.edges().find(_=>E.edge(_).cutvalue<0)}function h(E,_,y){var S=y.v,N=y.w;_.hasEdge(S,N)||(S=y.w,N=y.v);var D=E.node(S),k=E.node(N),I=D,A=!1;D.lim>k.lim&&(I=k,A=!0);var w=_.edges().filter(x=>A===v(E,E.node(x.v),I)&&A!==v(E,E.node(x.w),I));return w.reduce((x,M)=>t(_,M)<t(_,x)?M:x)}function g(E,_,y,S){var N=y.v,D=y.w;E.removeEdge(N,D),E.setEdge(S.v,S.w,{}),u(E),a(E,_),b(E,_)}function b(E,_){var y=E.nodes().find(N=>!_.node(N).parent),S=r(E,y);S=S.slice(1),S.forEach(N=>{var D=E.node(N).parent,k=_.edge(N,D),I=!1;k||(k=_.edge(D,N),I=!0),_.node(N).rank=_.node(D).rank+(I?k.minlen:-k.minlen)})}function p(E,_,y){return E.hasEdge(_,y)}function v(E,_,y){return y.low<=_.lim&&_.lim<=y.lim}return Ii}var Oi,zs;function Dd(){if(zs)return Oi;zs=1;var e=yr(),t=e.longestPath,n=Ll(),r=Td();Oi=i;function i(l){switch(l.graph().ranker){case"network-simplex":a(l);break;case"tight-tree":o(l);break;case"longest-path":s(l);break;default:a(l)}}var s=t;function o(l){t(l),n(l)}function a(l){r(l)}return Oi}var Ai,Hs;function Rd(){if(Hs)return Ai;Hs=1,Ai=e;function e(r){let i=n(r);r.graph().dummyChains.forEach(s=>{let o=r.node(s),a=o.edgeObj,l=t(r,i,a.v,a.w),c=l.path,u=l.lca,d=0,f=c[d],h=!0;for(;s!==a.w;){if(o=r.node(s),h){for(;(f=c[d])!==u&&r.node(f).maxRank<o.rank;)d++;f===u&&(h=!1)}if(!h){for(;d<c.length-1&&r.node(f=c[d+1]).minRank<=o.rank;)d++;f=c[d]}r.setParent(s,f),s=r.successors(s)[0]}})}function t(r,i,s,o){let a=[],l=[],c=Math.min(i[s].low,i[o].low),u=Math.max(i[s].lim,i[o].lim),d,f;d=s;do d=r.parent(d),a.push(d);while(d&&(i[d].low>c||u>i[d].lim));for(f=d,d=o;(d=r.parent(d))!==f;)l.push(d);return{path:a.concat(l.reverse()),lca:f}}function n(r){let i={},s=0;function o(a){let l=s;r.children(a).forEach(o),i[a]={low:l,lim:s++}}return r.children().forEach(o),i}return Ai}var Mi,Ls;function zd(){if(Ls)return Mi;Ls=1;let e=ze();Mi={run:t,cleanup:s};function t(o){let a=e.addDummyNode(o,"root",{},"_root"),l=r(o),c=Object.values(l),u=e.applyWithChunking(Math.max,c)-1,d=2*u+1;o.graph().nestingRoot=a,o.edges().forEach(h=>o.edge(h).minlen*=d);let f=i(o)+1;o.children().forEach(h=>n(o,a,d,f,u,l,h)),o.graph().nodeRankFactor=d}function n(o,a,l,c,u,d,f){let h=o.children(f);if(!h.length){f!==a&&o.setEdge(a,f,{weight:0,minlen:l});return}let g=e.addBorderNode(o,"_bt"),b=e.addBorderNode(o,"_bb"),p=o.node(f);o.setParent(g,f),p.borderTop=g,o.setParent(b,f),p.borderBottom=b,h.forEach(v=>{n(o,a,l,c,u,d,v);let E=o.node(v),_=E.borderTop?E.borderTop:v,y=E.borderBottom?E.borderBottom:v,S=E.borderTop?c:2*c,N=_!==y?1:u-d[f]+1;o.setEdge(g,_,{weight:S,minlen:N,nestingEdge:!0}),o.setEdge(y,b,{weight:S,minlen:N,nestingEdge:!0})}),o.parent(f)||o.setEdge(a,g,{weight:0,minlen:u+d[f]})}function r(o){var a={};function l(c,u){var d=o.children(c);d&&d.length&&d.forEach(f=>l(f,u+1)),a[c]=u}return o.children().forEach(c=>l(c,1)),a}function i(o){return o.edges().reduce((a,l)=>a+o.edge(l).weight,0)}function s(o){var a=o.graph();o.removeNode(a.nestingRoot),delete a.nestingRoot,o.edges().forEach(l=>{var c=o.edge(l);c.nestingEdge&&o.removeEdge(l)})}return Mi}var Ti,Vs;function Hd(){if(Vs)return Ti;Vs=1;let e=ze();Ti=t;function t(r){function i(s){let o=r.children(s),a=r.node(s);if(o.length&&o.forEach(i),Object.hasOwn(a,"minRank")){a.borderLeft=[],a.borderRight=[];for(let l=a.minRank,c=a.maxRank+1;l<c;++l)n(r,"borderLeft","_bl",s,a,l),n(r,"borderRight","_br",s,a,l)}}r.children().forEach(i)}function n(r,i,s,o,a,l){let c={width:0,height:0,rank:l,borderType:i},u=a[i][l-1],d=e.addDummyNode(r,"border",c,s);a[i][l]=d,r.setParent(d,o),u&&r.setEdge(u,d,{weight:1})}return Ti}var Di,Ys;function Ld(){if(Ys)return Di;Ys=1,Di={adjust:e,undo:t};function e(l){let c=l.graph().rankdir.toLowerCase();(c==="lr"||c==="rl")&&n(l)}function t(l){let c=l.graph().rankdir.toLowerCase();(c==="bt"||c==="rl")&&i(l),(c==="lr"||c==="rl")&&(o(l),n(l))}function n(l){l.nodes().forEach(c=>r(l.node(c))),l.edges().forEach(c=>r(l.edge(c)))}function r(l){let c=l.width;l.width=l.height,l.height=c}function i(l){l.nodes().forEach(c=>s(l.node(c))),l.edges().forEach(c=>{let u=l.edge(c);u.points.forEach(s),Object.hasOwn(u,"y")&&s(u)})}function s(l){l.y=-l.y}function o(l){l.nodes().forEach(c=>a(l.node(c))),l.edges().forEach(c=>{let u=l.edge(c);u.points.forEach(a),Object.hasOwn(u,"x")&&a(u)})}function a(l){let c=l.x;l.x=l.y,l.y=c}return Di}var Ri,Fs;function Vd(){if(Fs)return Ri;Fs=1;let e=ze();Ri=t;function t(n){let r={},i=n.nodes().filter(u=>!n.children(u).length),s=i.map(u=>n.node(u).rank),o=e.applyWithChunking(Math.max,s),a=e.range(o+1).map(()=>[]);function l(u){if(r[u])return;r[u]=!0;let d=n.node(u);a[d.rank].push(u),n.successors(u).forEach(l)}return i.sort((u,d)=>n.node(u).rank-n.node(d).rank).forEach(l),a}return Ri}var zi,qs;function Yd(){if(qs)return zi;qs=1;let e=ze().zipObject;zi=t;function t(r,i){let s=0;for(let o=1;o<i.length;++o)s+=n(r,i[o-1],i[o]);return s}function n(r,i,s){let o=e(s,s.map((f,h)=>h)),a=i.flatMap(f=>r.outEdges(f).map(h=>({pos:o[h.w],weight:r.edge(h).weight})).sort((h,g)=>h.pos-g.pos)),l=1;for(;l<s.length;)l<<=1;let c=2*l-1;l-=1;let u=new Array(c).fill(0),d=0;return a.forEach(f=>{let h=f.pos+l;u[h]+=f.weight;let g=0;for(;h>0;)h%2&&(g+=u[h+1]),h=h-1>>1,u[h]+=f.weight;d+=f.weight*g}),d}return zi}var Hi,Bs;function Fd(){if(Bs)return Hi;Bs=1,Hi=e;function e(t,n=[]){return n.map(r=>{let i=t.inEdges(r);if(i.length){let s=i.reduce((o,a)=>{let l=t.edge(a),c=t.node(a.v);return{sum:o.sum+l.weight*c.order,weight:o.weight+l.weight}},{sum:0,weight:0});return{v:r,barycenter:s.sum/s.weight,weight:s.weight}}else return{v:r}})}return Hi}var Li,Ws;function qd(){if(Ws)return Li;Ws=1;let e=ze();Li=t;function t(i,s){let o={};i.forEach((l,c)=>{let u=o[l.v]={indegree:0,in:[],out:[],vs:[l.v],i:c};l.barycenter!==void 0&&(u.barycenter=l.barycenter,u.weight=l.weight)}),s.edges().forEach(l=>{let c=o[l.v],u=o[l.w];c!==void 0&&u!==void 0&&(u.indegree++,c.out.push(o[l.w]))});let a=Object.values(o).filter(l=>!l.indegree);return n(a)}function n(i){let s=[];function o(l){return c=>{c.merged||(c.barycenter===void 0||l.barycenter===void 0||c.barycenter>=l.barycenter)&&r(l,c)}}function a(l){return c=>{c.in.push(l),--c.indegree===0&&i.push(c)}}for(;i.length;){let l=i.pop();s.push(l),l.in.reverse().forEach(o(l)),l.out.forEach(a(l))}return s.filter(l=>!l.merged).map(l=>e.pick(l,["vs","i","barycenter","weight"]))}function r(i,s){let o=0,a=0;i.weight&&(o+=i.barycenter*i.weight,a+=i.weight),s.weight&&(o+=s.barycenter*s.weight,a+=s.weight),i.vs=s.vs.concat(i.vs),i.barycenter=o/a,i.weight=a,i.i=Math.min(s.i,i.i),s.merged=!0}return Li}var Vi,Xs;function Bd(){if(Xs)return Vi;Xs=1;let e=ze();Vi=t;function t(i,s){let o=e.partition(i,g=>Object.hasOwn(g,"barycenter")),a=o.lhs,l=o.rhs.sort((g,b)=>b.i-g.i),c=[],u=0,d=0,f=0;a.sort(r(!!s)),f=n(c,l,f),a.forEach(g=>{f+=g.vs.length,c.push(g.vs),u+=g.barycenter*g.weight,d+=g.weight,f=n(c,l,f)});let h={vs:c.flat(!0)};return d&&(h.barycenter=u/d,h.weight=d),h}function n(i,s,o){let a;for(;s.length&&(a=s[s.length-1]).i<=o;)s.pop(),i.push(a.vs),o++;return o}function r(i){return(s,o)=>s.barycenter<o.barycenter?-1:s.barycenter>o.barycenter?1:i?o.i-s.i:s.i-o.i}return Vi}var Yi,Ks;function Wd(){if(Ks)return Yi;Ks=1;let e=Fd(),t=qd(),n=Bd();Yi=r;function r(o,a,l,c){let u=o.children(a),d=o.node(a),f=d?d.borderLeft:void 0,h=d?d.borderRight:void 0,g={};f&&(u=u.filter(E=>E!==f&&E!==h));let b=e(o,u);b.forEach(E=>{if(o.children(E.v).length){let _=r(o,E.v,l,c);g[E.v]=_,Object.hasOwn(_,"barycenter")&&s(E,_)}});let p=t(b,l);i(p,g);let v=n(p,c);if(f&&(v.vs=[f,v.vs,h].flat(!0),o.predecessors(f).length)){let E=o.node(o.predecessors(f)[0]),_=o.node(o.predecessors(h)[0]);Object.hasOwn(v,"barycenter")||(v.barycenter=0,v.weight=0),v.barycenter=(v.barycenter*v.weight+E.order+_.order)/(v.weight+2),v.weight+=2}return v}function i(o,a){o.forEach(l=>{l.vs=l.vs.flatMap(c=>a[c]?a[c].vs:c)})}function s(o,a){o.barycenter!==void 0?(o.barycenter=(o.barycenter*o.weight+a.barycenter*a.weight)/(o.weight+a.weight),o.weight+=a.weight):(o.barycenter=a.barycenter,o.weight=a.weight)}return Yi}var Fi,js;function Xd(){if(js)return Fi;js=1;let e=st().Graph,t=ze();Fi=n;function n(i,s,o){let a=r(i),l=new e({compound:!0}).setGraph({root:a}).setDefaultNodeLabel(c=>i.node(c));return i.nodes().forEach(c=>{let u=i.node(c),d=i.parent(c);(u.rank===s||u.minRank<=s&&s<=u.maxRank)&&(l.setNode(c),l.setParent(c,d||a),i[o](c).forEach(f=>{let h=f.v===c?f.w:f.v,g=l.edge(h,c),b=g!==void 0?g.weight:0;l.setEdge(h,c,{weight:i.edge(f).weight+b})}),Object.hasOwn(u,"minRank")&&l.setNode(c,{borderLeft:u.borderLeft[s],borderRight:u.borderRight[s]}))}),l}function r(i){for(var s;i.hasNode(s=t.uniqueId("_root")););return s}return Fi}var qi,Gs;function Kd(){if(Gs)return qi;Gs=1,qi=e;function e(t,n,r){let i={},s;r.forEach(o=>{let a=t.parent(o),l,c;for(;a;){if(l=t.parent(a),l?(c=i[l],i[l]=a):(c=s,s=a),c&&c!==a){n.setEdge(c,a);return}a=l}})}return qi}var Bi,Zs;function jd(){if(Zs)return Bi;Zs=1;let e=Vd(),t=Yd(),n=Wd(),r=Xd(),i=Kd(),s=st().Graph,o=ze();Bi=a;function a(d,f){if(f&&typeof f.customOrder=="function"){f.customOrder(d,a);return}let h=o.maxRank(d),g=l(d,o.range(1,h+1),"inEdges"),b=l(d,o.range(h-1,-1,-1),"outEdges"),p=e(d);if(u(d,p),f&&f.disableOptimalOrderHeuristic)return;let v=Number.POSITIVE_INFINITY,E;for(let _=0,y=0;y<4;++_,++y){c(_%2?g:b,_%4>=2),p=o.buildLayerMatrix(d);let S=t(d,p);S<v&&(y=0,E=Object.assign({},p),v=S)}u(d,E)}function l(d,f,h){return f.map(function(g){return r(d,g,h)})}function c(d,f){let h=new s;d.forEach(function(g){let b=g.graph().root,p=n(g,b,h,f);p.vs.forEach((v,E)=>g.node(v).order=E),i(g,h,p.vs)})}function u(d,f){Object.values(f).forEach(h=>h.forEach((g,b)=>d.node(g).order=b))}return Bi}var Wi,Us;function Gd(){if(Us)return Wi;Us=1;let e=st().Graph,t=ze();Wi={positionX:h,findType1Conflicts:n,findType2Conflicts:r,addConflict:s,hasConflict:o,verticalAlignment:a,horizontalCompaction:l,alignCoordinates:d,findSmallestWidthAlignment:u,balance:f};function n(p,v){let E={};function _(y,S){let N=0,D=0,k=y.length,I=S[S.length-1];return S.forEach((A,w)=>{let x=i(p,A),M=x?p.node(x).order:k;(x||A===I)&&(S.slice(D,w+1).forEach(m=>{p.predecessors(m).forEach(P=>{let T=p.node(P),L=T.order;(L<N||M<L)&&!(T.dummy&&p.node(m).dummy)&&s(E,P,m)})}),D=w+1,N=M)}),S}return v.length&&v.reduce(_),E}function r(p,v){let E={};function _(S,N,D,k,I){let A;t.range(N,D).forEach(w=>{A=S[w],p.node(A).dummy&&p.predecessors(A).forEach(x=>{let M=p.node(x);M.dummy&&(M.order<k||M.order>I)&&s(E,x,A)})})}function y(S,N){let D=-1,k,I=0;return N.forEach((A,w)=>{if(p.node(A).dummy==="border"){let x=p.predecessors(A);x.length&&(k=p.node(x[0]).order,_(N,I,w,D,k),I=w,D=k)}_(N,I,N.length,k,S.length)}),N}return v.length&&v.reduce(y),E}function i(p,v){if(p.node(v).dummy)return p.predecessors(v).find(E=>p.node(E).dummy)}function s(p,v,E){if(v>E){let y=v;v=E,E=y}let _=p[v];_||(p[v]=_={}),_[E]=!0}function o(p,v,E){if(v>E){let _=v;v=E,E=_}return!!p[v]&&Object.hasOwn(p[v],E)}function a(p,v,E,_){let y={},S={},N={};return v.forEach(D=>{D.forEach((k,I)=>{y[k]=k,S[k]=k,N[k]=I})}),v.forEach(D=>{let k=-1;D.forEach(I=>{let A=_(I);if(A.length){A=A.sort((x,M)=>N[x]-N[M]);let w=(A.length-1)/2;for(let x=Math.floor(w),M=Math.ceil(w);x<=M;++x){let m=A[x];S[I]===I&&k<N[m]&&!o(E,I,m)&&(S[m]=I,S[I]=y[I]=y[m],k=N[m])}}})}),{root:y,align:S}}function l(p,v,E,_,y){let S={},N=c(p,v,E,y),D=y?"borderLeft":"borderRight";function k(w,x){let M=N.nodes(),m=M.pop(),P={};for(;m;)P[m]?w(m):(P[m]=!0,M.push(m),M=M.concat(x(m))),m=M.pop()}function I(w){S[w]=N.inEdges(w).reduce((x,M)=>Math.max(x,S[M.v]+N.edge(M)),0)}function A(w){let x=N.outEdges(w).reduce((m,P)=>Math.min(m,S[P.w]-N.edge(P)),Number.POSITIVE_INFINITY),M=p.node(w);x!==Number.POSITIVE_INFINITY&&M.borderType!==D&&(S[w]=Math.max(S[w],x))}return k(I,N.predecessors.bind(N)),k(A,N.successors.bind(N)),Object.keys(_).forEach(w=>S[w]=S[E[w]]),S}function c(p,v,E,_){let y=new e,S=p.graph(),N=g(S.nodesep,S.edgesep,_);return v.forEach(D=>{let k;D.forEach(I=>{let A=E[I];if(y.setNode(A),k){var w=E[k],x=y.edge(w,A);y.setEdge(w,A,Math.max(N(p,I,k),x||0))}k=I})}),y}function u(p,v){return Object.values(v).reduce((E,_)=>{let y=Number.NEGATIVE_INFINITY,S=Number.POSITIVE_INFINITY;Object.entries(_).forEach(([D,k])=>{let I=b(p,D)/2;y=Math.max(k+I,y),S=Math.min(k-I,S)});const N=y-S;return N<E[0]&&(E=[N,_]),E},[Number.POSITIVE_INFINITY,null])[1]}function d(p,v){let E=Object.values(v),_=t.applyWithChunking(Math.min,E),y=t.applyWithChunking(Math.max,E);["u","d"].forEach(S=>{["l","r"].forEach(N=>{let D=S+N,k=p[D];if(k===v)return;let I=Object.values(k),A=_-t.applyWithChunking(Math.min,I);N!=="l"&&(A=y-t.applyWithChunking(Math.max,I)),A&&(p[D]=t.mapValues(k,w=>w+A))})})}function f(p,v){return t.mapValues(p.ul,(E,_)=>{if(v)return p[v.toLowerCase()][_];{let y=Object.values(p).map(S=>S[_]).sort((S,N)=>S-N);return(y[1]+y[2])/2}})}function h(p){let v=t.buildLayerMatrix(p),E=Object.assign(n(p,v),r(p,v)),_={},y;["u","d"].forEach(N=>{y=N==="u"?v:Object.values(v).reverse(),["l","r"].forEach(D=>{D==="r"&&(y=y.map(w=>Object.values(w).reverse()));let k=(N==="u"?p.predecessors:p.successors).bind(p),I=a(p,y,E,k),A=l(p,y,I.root,I.align,D==="r");D==="r"&&(A=t.mapValues(A,w=>-w)),_[N+D]=A})});let S=u(p,_);return d(_,S),f(_,p.graph().align)}function g(p,v,E){return(_,y,S)=>{let N=_.node(y),D=_.node(S),k=0,I;if(k+=N.width/2,Object.hasOwn(N,"labelpos"))switch(N.labelpos.toLowerCase()){case"l":I=-N.width/2;break;case"r":I=N.width/2;break}if(I&&(k+=E?I:-I),I=0,k+=(N.dummy?v:p)/2,k+=(D.dummy?v:p)/2,k+=D.width/2,Object.hasOwn(D,"labelpos"))switch(D.labelpos.toLowerCase()){case"l":I=D.width/2;break;case"r":I=-D.width/2;break}return I&&(k+=E?I:-I),I=0,k}}function b(p,v){return p.node(v).width}return Wi}var Xi,Qs;function Zd(){if(Qs)return Xi;Qs=1;let e=ze(),t=Gd().positionX;Xi=n;function n(i){i=e.asNonCompoundGraph(i),r(i),Object.entries(t(i)).forEach(([s,o])=>i.node(s).x=o)}function r(i){let s=e.buildLayerMatrix(i),o=i.graph().ranksep,a=0;s.forEach(l=>{const c=l.reduce((u,d)=>{const f=i.node(d).height;return u>f?u:f},0);l.forEach(u=>i.node(u).y=a+c/2),a+=c+o})}return Xi}var Ki,Js;function Ud(){if(Js)return Ki;Js=1;let e=Ad(),t=Md(),n=Dd(),r=ze().normalizeRanks,i=Rd(),s=ze().removeEmptyRanks,o=zd(),a=Hd(),l=Ld(),c=jd(),u=Zd(),d=ze(),f=st().Graph;Ki=h;function h(R,z){let O=z&&z.debugTiming?d.time:d.notime;O("layout",()=>{let H=O("  buildLayoutGraph",()=>k(R));O("  runLayout",()=>g(H,O,z)),O("  updateInputGraph",()=>b(R,H))})}function g(R,z,O){z("    makeSpaceForEdgeLabels",()=>I(R)),z("    removeSelfEdges",()=>W(R)),z("    acyclic",()=>e.run(R)),z("    nestingGraph.run",()=>o.run(R)),z("    rank",()=>n(d.asNonCompoundGraph(R))),z("    injectEdgeLabelProxies",()=>A(R)),z("    removeEmptyRanks",()=>s(R)),z("    nestingGraph.cleanup",()=>o.cleanup(R)),z("    normalizeRanks",()=>r(R)),z("    assignRankMinMax",()=>w(R)),z("    removeEdgeLabelProxies",()=>x(R)),z("    normalize.run",()=>t.run(R)),z("    parentDummyChains",()=>i(R)),z("    addBorderSegments",()=>a(R)),z("    order",()=>c(R,O)),z("    insertSelfEdges",()=>j(R)),z("    adjustCoordinateSystem",()=>l.adjust(R)),z("    position",()=>u(R)),z("    positionSelfEdges",()=>Z(R)),z("    removeBorderNodes",()=>L(R)),z("    normalize.undo",()=>t.undo(R)),z("    fixupEdgeLabelCoords",()=>P(R)),z("    undoCoordinateSystem",()=>l.undo(R)),z("    translateGraph",()=>M(R)),z("    assignNodeIntersects",()=>m(R)),z("    reversePoints",()=>T(R)),z("    acyclic.undo",()=>e.undo(R))}function b(R,z){R.nodes().forEach(O=>{let H=R.node(O),Y=z.node(O);H&&(H.x=Y.x,H.y=Y.y,H.rank=Y.rank,z.children(O).length&&(H.width=Y.width,H.height=Y.height))}),R.edges().forEach(O=>{let H=R.edge(O),Y=z.edge(O);H.points=Y.points,Object.hasOwn(Y,"x")&&(H.x=Y.x,H.y=Y.y)}),R.graph().width=z.graph().width,R.graph().height=z.graph().height}let p=["nodesep","edgesep","ranksep","marginx","marginy"],v={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},E=["acyclicer","ranker","rankdir","align"],_=["width","height"],y={width:0,height:0},S=["minlen","weight","width","height","labeloffset"],N={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},D=["labelpos"];function k(R){let z=new f({multigraph:!0,compound:!0}),O=se(R.graph());return z.setGraph(Object.assign({},v,te(O,p),d.pick(O,E))),R.nodes().forEach(H=>{let Y=se(R.node(H));const V=te(Y,_);Object.keys(y).forEach(K=>{V[K]===void 0&&(V[K]=y[K])}),z.setNode(H,V),z.setParent(H,R.parent(H))}),R.edges().forEach(H=>{let Y=se(R.edge(H));z.setEdge(H,Object.assign({},N,te(Y,S),d.pick(Y,D)))}),z}function I(R){let z=R.graph();z.ranksep/=2,R.edges().forEach(O=>{let H=R.edge(O);H.minlen*=2,H.labelpos.toLowerCase()!=="c"&&(z.rankdir==="TB"||z.rankdir==="BT"?H.width+=H.labeloffset:H.height+=H.labeloffset)})}function A(R){R.edges().forEach(z=>{let O=R.edge(z);if(O.width&&O.height){let H=R.node(z.v),V={rank:(R.node(z.w).rank-H.rank)/2+H.rank,e:z};d.addDummyNode(R,"edge-proxy",V,"_ep")}})}function w(R){let z=0;R.nodes().forEach(O=>{let H=R.node(O);H.borderTop&&(H.minRank=R.node(H.borderTop).rank,H.maxRank=R.node(H.borderBottom).rank,z=Math.max(z,H.maxRank))}),R.graph().maxRank=z}function x(R){R.nodes().forEach(z=>{let O=R.node(z);O.dummy==="edge-proxy"&&(R.edge(O.e).labelRank=O.rank,R.removeNode(z))})}function M(R){let z=Number.POSITIVE_INFINITY,O=0,H=Number.POSITIVE_INFINITY,Y=0,V=R.graph(),K=V.marginx||0,U=V.marginy||0;function ee(Q){let F=Q.x,q=Q.y,ne=Q.width,re=Q.height;z=Math.min(z,F-ne/2),O=Math.max(O,F+ne/2),H=Math.min(H,q-re/2),Y=Math.max(Y,q+re/2)}R.nodes().forEach(Q=>ee(R.node(Q))),R.edges().forEach(Q=>{let F=R.edge(Q);Object.hasOwn(F,"x")&&ee(F)}),z-=K,H-=U,R.nodes().forEach(Q=>{let F=R.node(Q);F.x-=z,F.y-=H}),R.edges().forEach(Q=>{let F=R.edge(Q);F.points.forEach(q=>{q.x-=z,q.y-=H}),Object.hasOwn(F,"x")&&(F.x-=z),Object.hasOwn(F,"y")&&(F.y-=H)}),V.width=O-z+K,V.height=Y-H+U}function m(R){R.edges().forEach(z=>{let O=R.edge(z),H=R.node(z.v),Y=R.node(z.w),V,K;O.points?(V=O.points[0],K=O.points[O.points.length-1]):(O.points=[],V=Y,K=H),O.points.unshift(d.intersectRect(H,V)),O.points.push(d.intersectRect(Y,K))})}function P(R){R.edges().forEach(z=>{let O=R.edge(z);if(Object.hasOwn(O,"x"))switch((O.labelpos==="l"||O.labelpos==="r")&&(O.width-=O.labeloffset),O.labelpos){case"l":O.x-=O.width/2+O.labeloffset;break;case"r":O.x+=O.width/2+O.labeloffset;break}})}function T(R){R.edges().forEach(z=>{let O=R.edge(z);O.reversed&&O.points.reverse()})}function L(R){R.nodes().forEach(z=>{if(R.children(z).length){let O=R.node(z),H=R.node(O.borderTop),Y=R.node(O.borderBottom),V=R.node(O.borderLeft[O.borderLeft.length-1]),K=R.node(O.borderRight[O.borderRight.length-1]);O.width=Math.abs(K.x-V.x),O.height=Math.abs(Y.y-H.y),O.x=V.x+O.width/2,O.y=H.y+O.height/2}}),R.nodes().forEach(z=>{R.node(z).dummy==="border"&&R.removeNode(z)})}function W(R){R.edges().forEach(z=>{if(z.v===z.w){var O=R.node(z.v);O.selfEdges||(O.selfEdges=[]),O.selfEdges.push({e:z,label:R.edge(z)}),R.removeEdge(z)}})}function j(R){var z=d.buildLayerMatrix(R);z.forEach(O=>{var H=0;O.forEach((Y,V)=>{var K=R.node(Y);K.order=V+H,(K.selfEdges||[]).forEach(U=>{d.addDummyNode(R,"selfedge",{width:U.label.width,height:U.label.height,rank:K.rank,order:V+ ++H,e:U.e,label:U.label},"_se")}),delete K.selfEdges})})}function Z(R){R.nodes().forEach(z=>{var O=R.node(z);if(O.dummy==="selfedge"){var H=R.node(O.e.v),Y=H.x+H.width/2,V=H.y,K=O.x-Y,U=H.height/2;R.setEdge(O.e,O.label),R.removeNode(z),O.label.points=[{x:Y+2*K/3,y:V-U},{x:Y+5*K/6,y:V-U},{x:Y+K,y:V},{x:Y+5*K/6,y:V+U},{x:Y+2*K/3,y:V+U}],O.label.x=O.x,O.label.y=O.y}})}function te(R,z){return d.mapValues(d.pick(R,z),Number)}function se(R){var z={};return R&&Object.entries(R).forEach(([O,H])=>{typeof O=="string"&&(O=O.toLowerCase()),z[O]=H}),z}return Ki}var ji,ea;function Qd(){if(ea)return ji;ea=1;let e=ze(),t=st().Graph;ji={debugOrdering:n};function n(r){let i=e.buildLayerMatrix(r),s=new t({compound:!0,multigraph:!0}).setGraph({});return r.nodes().forEach(o=>{s.setNode(o,{label:o}),s.setParent(o,"layer"+r.node(o).rank)}),r.edges().forEach(o=>s.setEdge(o.v,o.w,{},o.name)),i.forEach((o,a)=>{let l="layer"+a;s.setNode(l,{rank:"same"}),o.reduce((c,u)=>(s.setEdge(c,u,{style:"invis"}),u))}),s}return ji}var Gi,ta;function Jd(){return ta||(ta=1,Gi="1.1.4"),Gi}var Zi,na;function ef(){return na||(na=1,Zi={graphlib:st(),layout:Ud(),debug:Qd(),util:{time:ze().time,notime:ze().notime},version:Jd()}),Zi}var tf=ef();const ra=md(tf);var nf={value:()=>{}};function Br(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new sr(n)}function sr(e){this._=e}function rf(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}sr.prototype=Br.prototype={constructor:sr,on:function(e,t){var n=this._,r=rf(e+"",n),i,s=-1,o=r.length;if(arguments.length<2){for(;++s<o;)if((i=(e=r[s]).type)&&(i=of(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<o;)if(i=(e=r[s]).type)n[i]=ia(n[i],e.name,t);else if(t==null)for(i in n)n[i]=ia(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new sr(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],r=0,i=s.length;r<i;++r)s[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,s=r.length;i<s;++i)r[i].value.apply(t,n)}};function of(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function ia(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=nf,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var fo="http://www.w3.org/1999/xhtml";const oa={svg:"http://www.w3.org/2000/svg",xhtml:fo,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Wr(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),oa.hasOwnProperty(t)?{space:oa[t],local:e}:e}function sf(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===fo&&t.documentElement.namespaceURI===fo?t.createElement(e):t.createElementNS(n,e)}}function af(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Vl(e){var t=Wr(e);return(t.local?af:sf)(t)}function lf(){}function Lo(e){return e==null?lf:function(){return this.querySelector(e)}}function uf(e){typeof e!="function"&&(e=Lo(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],o=s.length,a=r[i]=new Array(o),l,c,u=0;u<o;++u)(l=s[u])&&(c=e.call(l,l.__data__,u,s))&&("__data__"in l&&(c.__data__=l.__data__),a[u]=c);return new Ue(r,this._parents)}function cf(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function df(){return[]}function Yl(e){return e==null?df:function(){return this.querySelectorAll(e)}}function ff(e){return function(){return cf(e.apply(this,arguments))}}function hf(e){typeof e=="function"?e=ff(e):e=Yl(e);for(var t=this._groups,n=t.length,r=[],i=[],s=0;s<n;++s)for(var o=t[s],a=o.length,l,c=0;c<a;++c)(l=o[c])&&(r.push(e.call(l,l.__data__,c,o)),i.push(l));return new Ue(r,i)}function Fl(e){return function(){return this.matches(e)}}function ql(e){return function(t){return t.matches(e)}}var $f=Array.prototype.find;function gf(e){return function(){return $f.call(this.children,e)}}function pf(){return this.firstElementChild}function mf(e){return this.select(e==null?pf:gf(typeof e=="function"?e:ql(e)))}var vf=Array.prototype.filter;function yf(){return Array.from(this.children)}function bf(e){return function(){return vf.call(this.children,e)}}function wf(e){return this.selectAll(e==null?yf:bf(typeof e=="function"?e:ql(e)))}function _f(e){typeof e!="function"&&(e=Fl(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],o=s.length,a=r[i]=[],l,c=0;c<o;++c)(l=s[c])&&e.call(l,l.__data__,c,s)&&a.push(l);return new Ue(r,this._parents)}function Bl(e){return new Array(e.length)}function xf(){return new Ue(this._enter||this._groups.map(Bl),this._parents)}function br(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}br.prototype={constructor:br,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Ef(e){return function(){return e}}function kf(e,t,n,r,i,s){for(var o=0,a,l=t.length,c=s.length;o<c;++o)(a=t[o])?(a.__data__=s[o],r[o]=a):n[o]=new br(e,s[o]);for(;o<l;++o)(a=t[o])&&(i[o]=a)}function Nf(e,t,n,r,i,s,o){var a,l,c=new Map,u=t.length,d=s.length,f=new Array(u),h;for(a=0;a<u;++a)(l=t[a])&&(f[a]=h=o.call(l,l.__data__,a,t)+"",c.has(h)?i[a]=l:c.set(h,l));for(a=0;a<d;++a)h=o.call(e,s[a],a,s)+"",(l=c.get(h))?(r[a]=l,l.__data__=s[a],c.delete(h)):n[a]=new br(e,s[a]);for(a=0;a<u;++a)(l=t[a])&&c.get(f[a])===l&&(i[a]=l)}function Sf(e){return e.__data__}function Pf(e,t){if(!arguments.length)return Array.from(this,Sf);var n=t?Nf:kf,r=this._parents,i=this._groups;typeof e!="function"&&(e=Ef(e));for(var s=i.length,o=new Array(s),a=new Array(s),l=new Array(s),c=0;c<s;++c){var u=r[c],d=i[c],f=d.length,h=Cf(e.call(u,u&&u.__data__,c,r)),g=h.length,b=a[c]=new Array(g),p=o[c]=new Array(g),v=l[c]=new Array(f);n(u,d,b,p,v,h,t);for(var E=0,_=0,y,S;E<g;++E)if(y=b[E]){for(E>=_&&(_=E+1);!(S=p[_])&&++_<g;);y._next=S||null}}return o=new Ue(o,r),o._enter=a,o._exit=l,o}function Cf(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function If(){return new Ue(this._exit||this._groups.map(Bl),this._parents)}function Of(e,t,n){var r=this.enter(),i=this,s=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function Af(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,s=r.length,o=Math.min(i,s),a=new Array(i),l=0;l<o;++l)for(var c=n[l],u=r[l],d=c.length,f=a[l]=new Array(d),h,g=0;g<d;++g)(h=c[g]||u[g])&&(f[g]=h);for(;l<i;++l)a[l]=n[l];return new Ue(a,this._parents)}function Mf(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,s=r[i],o;--i>=0;)(o=r[i])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function Tf(e){e||(e=Df);function t(d,f){return d&&f?e(d.__data__,f.__data__):!d-!f}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var o=n[s],a=o.length,l=i[s]=new Array(a),c,u=0;u<a;++u)(c=o[u])&&(l[u]=c);l.sort(t)}return new Ue(i,this._parents).order()}function Df(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Rf(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function zf(){return Array.from(this)}function Hf(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,s=r.length;i<s;++i){var o=r[i];if(o)return o}return null}function Lf(){let e=0;for(const t of this)++e;return e}function Vf(){return!this.node()}function Yf(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],s=0,o=i.length,a;s<o;++s)(a=i[s])&&e.call(a,a.__data__,s,i);return this}function Ff(e){return function(){this.removeAttribute(e)}}function qf(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Bf(e,t){return function(){this.setAttribute(e,t)}}function Wf(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Xf(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function Kf(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function jf(e,t){var n=Wr(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?qf:Ff:typeof t=="function"?n.local?Kf:Xf:n.local?Wf:Bf)(n,t))}function Wl(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Gf(e){return function(){this.style.removeProperty(e)}}function Zf(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Uf(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function Qf(e,t,n){return arguments.length>1?this.each((t==null?Gf:typeof t=="function"?Uf:Zf)(e,t,n??"")):ln(this.node(),e)}function ln(e,t){return e.style.getPropertyValue(t)||Wl(e).getComputedStyle(e,null).getPropertyValue(t)}function Jf(e){return function(){delete this[e]}}function eh(e,t){return function(){this[e]=t}}function th(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function nh(e,t){return arguments.length>1?this.each((t==null?Jf:typeof t=="function"?th:eh)(e,t)):this.node()[e]}function Xl(e){return e.trim().split(/^|\s+/)}function Vo(e){return e.classList||new Kl(e)}function Kl(e){this._node=e,this._names=Xl(e.getAttribute("class")||"")}Kl.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function jl(e,t){for(var n=Vo(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function Gl(e,t){for(var n=Vo(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function rh(e){return function(){jl(this,e)}}function ih(e){return function(){Gl(this,e)}}function oh(e,t){return function(){(t.apply(this,arguments)?jl:Gl)(this,e)}}function sh(e,t){var n=Xl(e+"");if(arguments.length<2){for(var r=Vo(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?oh:t?rh:ih)(n,t))}function ah(){this.textContent=""}function lh(e){return function(){this.textContent=e}}function uh(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function ch(e){return arguments.length?this.each(e==null?ah:(typeof e=="function"?uh:lh)(e)):this.node().textContent}function dh(){this.innerHTML=""}function fh(e){return function(){this.innerHTML=e}}function hh(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function $h(e){return arguments.length?this.each(e==null?dh:(typeof e=="function"?hh:fh)(e)):this.node().innerHTML}function gh(){this.nextSibling&&this.parentNode.appendChild(this)}function ph(){return this.each(gh)}function mh(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function vh(){return this.each(mh)}function yh(e){var t=typeof e=="function"?e:Vl(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function bh(){return null}function wh(e,t){var n=typeof e=="function"?e:Vl(e),r=t==null?bh:typeof t=="function"?t:Lo(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function _h(){var e=this.parentNode;e&&e.removeChild(this)}function xh(){return this.each(_h)}function Eh(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function kh(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Nh(e){return this.select(e?kh:Eh)}function Sh(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Ph(e){return function(t){e.call(this,t,this.__data__)}}function Ch(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function Ih(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,s;n<i;++n)s=t[n],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++r]=s;++r?t.length=r:delete this.__on}}}function Oh(e,t,n){return function(){var r=this.__on,i,s=Ph(t);if(r){for(var o=0,a=r.length;o<a;++o)if((i=r[o]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=t;return}}this.addEventListener(e.type,s,n),i={type:e.type,name:e.name,value:t,listener:s,options:n},r?r.push(i):this.__on=[i]}}function Ah(e,t,n){var r=Ch(e+""),i,s=r.length,o;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,c=a.length,u;l<c;++l)for(i=0,u=a[l];i<s;++i)if((o=r[i]).type===u.type&&o.name===u.name)return u.value}return}for(a=t?Oh:Ih,i=0;i<s;++i)this.each(a(r[i],t,n));return this}function Zl(e,t,n){var r=Wl(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function Mh(e,t){return function(){return Zl(this,e,t)}}function Th(e,t){return function(){return Zl(this,e,t.apply(this,arguments))}}function Dh(e,t){return this.each((typeof t=="function"?Th:Mh)(e,t))}function*Rh(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,s=r.length,o;i<s;++i)(o=r[i])&&(yield o)}var Ul=[null];function Ue(e,t){this._groups=e,this._parents=t}function Kn(){return new Ue([[document.documentElement]],Ul)}function zh(){return this}Ue.prototype=Kn.prototype={constructor:Ue,select:uf,selectAll:hf,selectChild:mf,selectChildren:wf,filter:_f,data:Pf,enter:xf,exit:If,join:Of,merge:Af,selection:zh,order:Mf,sort:Tf,call:Rf,nodes:zf,node:Hf,size:Lf,empty:Vf,each:Yf,attr:jf,style:Qf,property:nh,classed:sh,text:ch,html:$h,raise:ph,lower:vh,append:yh,insert:wh,remove:xh,clone:Nh,datum:Sh,on:Ah,dispatch:Dh,[Symbol.iterator]:Rh};function nt(e){return typeof e=="string"?new Ue([[document.querySelector(e)]],[document.documentElement]):new Ue([[e]],Ul)}function Hh(e){let t;for(;t=e.sourceEvent;)e=t;return e}function ut(e,t){if(e=Hh(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}const Lh={passive:!1},An={capture:!0,passive:!1};function Ui(e){e.stopImmediatePropagation()}function tn(e){e.preventDefault(),e.stopImmediatePropagation()}function Ql(e){var t=e.document.documentElement,n=nt(e).on("dragstart.drag",tn,An);"onselectstart"in t?n.on("selectstart.drag",tn,An):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Jl(e,t){var n=e.document.documentElement,r=nt(e).on("dragstart.drag",null);t&&(r.on("click.drag",tn,An),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Qn=e=>()=>e;function ho(e,{sourceEvent:t,subject:n,target:r,identifier:i,active:s,x:o,y:a,dx:l,dy:c,dispatch:u}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:u}})}ho.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function Vh(e){return!e.ctrlKey&&!e.button}function Yh(){return this.parentNode}function Fh(e,t){return t??{x:e.x,y:e.y}}function qh(){return navigator.maxTouchPoints||"ontouchstart"in this}function Bh(){var e=Vh,t=Yh,n=Fh,r=qh,i={},s=Br("start","drag","end"),o=0,a,l,c,u,d=0;function f(y){y.on("mousedown.drag",h).filter(r).on("touchstart.drag",p).on("touchmove.drag",v,Lh).on("touchend.drag touchcancel.drag",E).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(y,S){if(!(u||!e.call(this,y,S))){var N=_(this,t.call(this,y,S),y,S,"mouse");N&&(nt(y.view).on("mousemove.drag",g,An).on("mouseup.drag",b,An),Ql(y.view),Ui(y),c=!1,a=y.clientX,l=y.clientY,N("start",y))}}function g(y){if(tn(y),!c){var S=y.clientX-a,N=y.clientY-l;c=S*S+N*N>d}i.mouse("drag",y)}function b(y){nt(y.view).on("mousemove.drag mouseup.drag",null),Jl(y.view,c),tn(y),i.mouse("end",y)}function p(y,S){if(e.call(this,y,S)){var N=y.changedTouches,D=t.call(this,y,S),k=N.length,I,A;for(I=0;I<k;++I)(A=_(this,D,y,S,N[I].identifier,N[I]))&&(Ui(y),A("start",y,N[I]))}}function v(y){var S=y.changedTouches,N=S.length,D,k;for(D=0;D<N;++D)(k=i[S[D].identifier])&&(tn(y),k("drag",y,S[D]))}function E(y){var S=y.changedTouches,N=S.length,D,k;for(u&&clearTimeout(u),u=setTimeout(function(){u=null},500),D=0;D<N;++D)(k=i[S[D].identifier])&&(Ui(y),k("end",y,S[D]))}function _(y,S,N,D,k,I){var A=s.copy(),w=ut(I||N,S),x,M,m;if((m=n.call(y,new ho("beforestart",{sourceEvent:N,target:f,identifier:k,active:o,x:w[0],y:w[1],dx:0,dy:0,dispatch:A}),D))!=null)return x=m.x-w[0]||0,M=m.y-w[1]||0,function P(T,L,W){var j=w,Z;switch(T){case"start":i[k]=P,Z=o++;break;case"end":delete i[k],--o;case"drag":w=ut(W||L,S),Z=o;break}A.call(T,y,new ho(T,{sourceEvent:L,subject:m,target:f,identifier:k,active:Z,x:w[0]+x,y:w[1]+M,dx:w[0]-j[0],dy:w[1]-j[1],dispatch:A}),D)}}return f.filter=function(y){return arguments.length?(e=typeof y=="function"?y:Qn(!!y),f):e},f.container=function(y){return arguments.length?(t=typeof y=="function"?y:Qn(y),f):t},f.subject=function(y){return arguments.length?(n=typeof y=="function"?y:Qn(y),f):n},f.touchable=function(y){return arguments.length?(r=typeof y=="function"?y:Qn(!!y),f):r},f.on=function(){var y=s.on.apply(s,arguments);return y===s?f:y},f.clickDistance=function(y){return arguments.length?(d=(y=+y)*y,f):Math.sqrt(d)},f}function Yo(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function eu(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function jn(){}var Mn=.7,wr=1/Mn,nn="\\s*([+-]?\\d+)\\s*",Tn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ct="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Wh=/^#([0-9a-f]{3,8})$/,Xh=new RegExp(`^rgb\\(${nn},${nn},${nn}\\)$`),Kh=new RegExp(`^rgb\\(${ct},${ct},${ct}\\)$`),jh=new RegExp(`^rgba\\(${nn},${nn},${nn},${Tn}\\)$`),Gh=new RegExp(`^rgba\\(${ct},${ct},${ct},${Tn}\\)$`),Zh=new RegExp(`^hsl\\(${Tn},${ct},${ct}\\)$`),Uh=new RegExp(`^hsla\\(${Tn},${ct},${ct},${Tn}\\)$`),sa={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Yo(jn,Dn,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:aa,formatHex:aa,formatHex8:Qh,formatHsl:Jh,formatRgb:la,toString:la});function aa(){return this.rgb().formatHex()}function Qh(){return this.rgb().formatHex8()}function Jh(){return tu(this).formatHsl()}function la(){return this.rgb().formatRgb()}function Dn(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Wh.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?ua(t):n===3?new We(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Jn(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Jn(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Xh.exec(e))?new We(t[1],t[2],t[3],1):(t=Kh.exec(e))?new We(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=jh.exec(e))?Jn(t[1],t[2],t[3],t[4]):(t=Gh.exec(e))?Jn(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Zh.exec(e))?fa(t[1],t[2]/100,t[3]/100,1):(t=Uh.exec(e))?fa(t[1],t[2]/100,t[3]/100,t[4]):sa.hasOwnProperty(e)?ua(sa[e]):e==="transparent"?new We(NaN,NaN,NaN,0):null}function ua(e){return new We(e>>16&255,e>>8&255,e&255,1)}function Jn(e,t,n,r){return r<=0&&(e=t=n=NaN),new We(e,t,n,r)}function e$(e){return e instanceof jn||(e=Dn(e)),e?(e=e.rgb(),new We(e.r,e.g,e.b,e.opacity)):new We}function $o(e,t,n,r){return arguments.length===1?e$(e):new We(e,t,n,r??1)}function We(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Yo(We,$o,eu(jn,{brighter(e){return e=e==null?wr:Math.pow(wr,e),new We(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Mn:Math.pow(Mn,e),new We(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new We(Bt(this.r),Bt(this.g),Bt(this.b),_r(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ca,formatHex:ca,formatHex8:t$,formatRgb:da,toString:da}));function ca(){return`#${Ft(this.r)}${Ft(this.g)}${Ft(this.b)}`}function t$(){return`#${Ft(this.r)}${Ft(this.g)}${Ft(this.b)}${Ft((isNaN(this.opacity)?1:this.opacity)*255)}`}function da(){const e=_r(this.opacity);return`${e===1?"rgb(":"rgba("}${Bt(this.r)}, ${Bt(this.g)}, ${Bt(this.b)}${e===1?")":`, ${e})`}`}function _r(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Bt(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ft(e){return e=Bt(e),(e<16?"0":"")+e.toString(16)}function fa(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new rt(e,t,n,r)}function tu(e){if(e instanceof rt)return new rt(e.h,e.s,e.l,e.opacity);if(e instanceof jn||(e=Dn(e)),!e)return new rt;if(e instanceof rt)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),s=Math.max(t,n,r),o=NaN,a=s-i,l=(s+i)/2;return a?(t===s?o=(n-r)/a+(n<r)*6:n===s?o=(r-t)/a+2:o=(t-n)/a+4,a/=l<.5?s+i:2-s-i,o*=60):a=l>0&&l<1?0:o,new rt(o,a,l,e.opacity)}function n$(e,t,n,r){return arguments.length===1?tu(e):new rt(e,t,n,r??1)}function rt(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Yo(rt,n$,eu(jn,{brighter(e){return e=e==null?wr:Math.pow(wr,e),new rt(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Mn:Math.pow(Mn,e),new rt(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new We(Qi(e>=240?e-240:e+120,i,r),Qi(e,i,r),Qi(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new rt(ha(this.h),er(this.s),er(this.l),_r(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=_r(this.opacity);return`${e===1?"hsl(":"hsla("}${ha(this.h)}, ${er(this.s)*100}%, ${er(this.l)*100}%${e===1?")":`, ${e})`}`}}));function ha(e){return e=(e||0)%360,e<0?e+360:e}function er(e){return Math.max(0,Math.min(1,e||0))}function Qi(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const nu=e=>()=>e;function r$(e,t){return function(n){return e+n*t}}function i$(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function o$(e){return(e=+e)==1?ru:function(t,n){return n-t?i$(t,n,e):nu(isNaN(t)?n:t)}}function ru(e,t){var n=t-e;return n?r$(e,n):nu(isNaN(e)?t:e)}const $a=function e(t){var n=o$(t);function r(i,s){var o=n((i=$o(i)).r,(s=$o(s)).r),a=n(i.g,s.g),l=n(i.b,s.b),c=ru(i.opacity,s.opacity);return function(u){return i.r=o(u),i.g=a(u),i.b=l(u),i.opacity=c(u),i+""}}return r.gamma=e,r}(1);function Ot(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var go=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ji=new RegExp(go.source,"g");function s$(e){return function(){return e}}function a$(e){return function(t){return e(t)+""}}function l$(e,t){var n=go.lastIndex=Ji.lastIndex=0,r,i,s,o=-1,a=[],l=[];for(e=e+"",t=t+"";(r=go.exec(e))&&(i=Ji.exec(t));)(s=i.index)>n&&(s=t.slice(n,s),a[o]?a[o]+=s:a[++o]=s),(r=r[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,l.push({i:o,x:Ot(r,i)})),n=Ji.lastIndex;return n<t.length&&(s=t.slice(n),a[o]?a[o]+=s:a[++o]=s),a.length<2?l[0]?a$(l[0].x):s$(t):(t=l.length,function(c){for(var u=0,d;u<t;++u)a[(d=l[u]).i]=d.x(c);return a.join("")})}var ga=180/Math.PI,po={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function iu(e,t,n,r,i,s){var o,a,l;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),e*r<t*n&&(e=-e,t=-t,l=-l,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(t,e)*ga,skewX:Math.atan(l)*ga,scaleX:o,scaleY:a}}var tr;function u$(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?po:iu(t.a,t.b,t.c,t.d,t.e,t.f)}function c$(e){return e==null||(tr||(tr=document.createElementNS("http://www.w3.org/2000/svg","g")),tr.setAttribute("transform",e),!(e=tr.transform.baseVal.consolidate()))?po:(e=e.matrix,iu(e.a,e.b,e.c,e.d,e.e,e.f))}function ou(e,t,n,r){function i(c){return c.length?c.pop()+" ":""}function s(c,u,d,f,h,g){if(c!==d||u!==f){var b=h.push("translate(",null,t,null,n);g.push({i:b-4,x:Ot(c,d)},{i:b-2,x:Ot(u,f)})}else(d||f)&&h.push("translate("+d+t+f+n)}function o(c,u,d,f){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),f.push({i:d.push(i(d)+"rotate(",null,r)-2,x:Ot(c,u)})):u&&d.push(i(d)+"rotate("+u+r)}function a(c,u,d,f){c!==u?f.push({i:d.push(i(d)+"skewX(",null,r)-2,x:Ot(c,u)}):u&&d.push(i(d)+"skewX("+u+r)}function l(c,u,d,f,h,g){if(c!==d||u!==f){var b=h.push(i(h)+"scale(",null,",",null,")");g.push({i:b-4,x:Ot(c,d)},{i:b-2,x:Ot(u,f)})}else(d!==1||f!==1)&&h.push(i(h)+"scale("+d+","+f+")")}return function(c,u){var d=[],f=[];return c=e(c),u=e(u),s(c.translateX,c.translateY,u.translateX,u.translateY,d,f),o(c.rotate,u.rotate,d,f),a(c.skewX,u.skewX,d,f),l(c.scaleX,c.scaleY,u.scaleX,u.scaleY,d,f),c=u=null,function(h){for(var g=-1,b=f.length,p;++g<b;)d[(p=f[g]).i]=p.x(h);return d.join("")}}}var d$=ou(u$,"px, ","px)","deg)"),f$=ou(c$,", ",")",")"),h$=1e-12;function pa(e){return((e=Math.exp(e))+1/e)/2}function $$(e){return((e=Math.exp(e))-1/e)/2}function g$(e){return((e=Math.exp(2*e))-1)/(e+1)}const p$=function e(t,n,r){function i(s,o){var a=s[0],l=s[1],c=s[2],u=o[0],d=o[1],f=o[2],h=u-a,g=d-l,b=h*h+g*g,p,v;if(b<h$)v=Math.log(f/c)/t,p=function(D){return[a+D*h,l+D*g,c*Math.exp(t*D*v)]};else{var E=Math.sqrt(b),_=(f*f-c*c+r*b)/(2*c*n*E),y=(f*f-c*c-r*b)/(2*f*n*E),S=Math.log(Math.sqrt(_*_+1)-_),N=Math.log(Math.sqrt(y*y+1)-y);v=(N-S)/t,p=function(D){var k=D*v,I=pa(S),A=c/(n*E)*(I*g$(t*k+S)-$$(S));return[a+A*h,l+A*g,c*I/pa(t*k+S)]}}return p.duration=v*1e3*t/Math.SQRT2,p}return i.rho=function(s){var o=Math.max(.001,+s),a=o*o,l=a*a;return e(o,a,l)},i}(Math.SQRT2,2,4);var un=0,kn=0,_n=0,su=1e3,xr,Nn,Er=0,Xt=0,Xr=0,Rn=typeof performance=="object"&&performance.now?performance:Date,au=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Fo(){return Xt||(au(m$),Xt=Rn.now()+Xr)}function m$(){Xt=0}function kr(){this._call=this._time=this._next=null}kr.prototype=lu.prototype={constructor:kr,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Fo():+n)+(t==null?0:+t),!this._next&&Nn!==this&&(Nn?Nn._next=this:xr=this,Nn=this),this._call=e,this._time=n,mo()},stop:function(){this._call&&(this._call=null,this._time=1/0,mo())}};function lu(e,t,n){var r=new kr;return r.restart(e,t,n),r}function v$(){Fo(),++un;for(var e=xr,t;e;)(t=Xt-e._time)>=0&&e._call.call(void 0,t),e=e._next;--un}function ma(){Xt=(Er=Rn.now())+Xr,un=kn=0;try{v$()}finally{un=0,b$(),Xt=0}}function y$(){var e=Rn.now(),t=e-Er;t>su&&(Xr-=t,Er=e)}function b$(){for(var e,t=xr,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:xr=n);Nn=e,mo(r)}function mo(e){if(!un){kn&&(kn=clearTimeout(kn));var t=e-Xt;t>24?(e<1/0&&(kn=setTimeout(ma,e-Rn.now()-Xr)),_n&&(_n=clearInterval(_n))):(_n||(Er=Rn.now(),_n=setInterval(y$,su)),un=1,au(ma))}}function va(e,t,n){var r=new kr;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var w$=Br("start","end","cancel","interrupt"),_$=[],uu=0,ya=1,vo=2,ar=3,ba=4,yo=5,lr=6;function Kr(e,t,n,r,i,s){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;x$(e,n,{name:t,index:r,group:i,on:w$,tween:_$,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:uu})}function qo(e,t){var n=at(e,t);if(n.state>uu)throw new Error("too late; already scheduled");return n}function mt(e,t){var n=at(e,t);if(n.state>ar)throw new Error("too late; already running");return n}function at(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function x$(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=lu(s,0,n.time);function s(c){n.state=ya,n.timer.restart(o,n.delay,n.time),n.delay<=c&&o(c-n.delay)}function o(c){var u,d,f,h;if(n.state!==ya)return l();for(u in r)if(h=r[u],h.name===n.name){if(h.state===ar)return va(o);h.state===ba?(h.state=lr,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete r[u]):+u<t&&(h.state=lr,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete r[u])}if(va(function(){n.state===ar&&(n.state=ba,n.timer.restart(a,n.delay,n.time),a(c))}),n.state=vo,n.on.call("start",e,e.__data__,n.index,n.group),n.state===vo){for(n.state=ar,i=new Array(f=n.tween.length),u=0,d=-1;u<f;++u)(h=n.tween[u].value.call(e,e.__data__,n.index,n.group))&&(i[++d]=h);i.length=d+1}}function a(c){for(var u=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(l),n.state=yo,1),d=-1,f=i.length;++d<f;)i[d].call(e,u);n.state===yo&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=lr,n.timer.stop(),delete r[t];for(var c in r)return;delete e.__transition}}function ur(e,t){var n=e.__transition,r,i,s=!0,o;if(n){t=t==null?null:t+"";for(o in n){if((r=n[o]).name!==t){s=!1;continue}i=r.state>vo&&r.state<yo,r.state=lr,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[o]}s&&delete e.__transition}}function E$(e){return this.each(function(){ur(this,e)})}function k$(e,t){var n,r;return function(){var i=mt(this,e),s=i.tween;if(s!==n){r=n=s;for(var o=0,a=r.length;o<a;++o)if(r[o].name===t){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function N$(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=mt(this,e),o=s.tween;if(o!==r){i=(r=o).slice();for(var a={name:t,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===t){i[l]=a;break}l===c&&i.push(a)}s.tween=i}}function S$(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=at(this.node(),n).tween,i=0,s=r.length,o;i<s;++i)if((o=r[i]).name===e)return o.value;return null}return this.each((t==null?k$:N$)(n,e,t))}function Bo(e,t,n){var r=e._id;return e.each(function(){var i=mt(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return at(i,r).value[t]}}function cu(e,t){var n;return(typeof t=="number"?Ot:t instanceof Dn?$a:(n=Dn(t))?(t=n,$a):l$)(e,t)}function P$(e){return function(){this.removeAttribute(e)}}function C$(e){return function(){this.removeAttributeNS(e.space,e.local)}}function I$(e,t,n){var r,i=n+"",s;return function(){var o=this.getAttribute(e);return o===i?null:o===r?s:s=t(r=o,n)}}function O$(e,t,n){var r,i=n+"",s;return function(){var o=this.getAttributeNS(e.space,e.local);return o===i?null:o===r?s:s=t(r=o,n)}}function A$(e,t,n){var r,i,s;return function(){var o,a=n(this),l;return a==null?void this.removeAttribute(e):(o=this.getAttribute(e),l=a+"",o===l?null:o===r&&l===i?s:(i=l,s=t(r=o,a)))}}function M$(e,t,n){var r,i,s;return function(){var o,a=n(this),l;return a==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),l=a+"",o===l?null:o===r&&l===i?s:(i=l,s=t(r=o,a)))}}function T$(e,t){var n=Wr(e),r=n==="transform"?f$:cu;return this.attrTween(e,typeof t=="function"?(n.local?M$:A$)(n,r,Bo(this,"attr."+e,t)):t==null?(n.local?C$:P$)(n):(n.local?O$:I$)(n,r,t))}function D$(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function R$(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function z$(e,t){var n,r;function i(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&R$(e,s)),n}return i._value=t,i}function H$(e,t){var n,r;function i(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&D$(e,s)),n}return i._value=t,i}function L$(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Wr(e);return this.tween(n,(r.local?z$:H$)(r,t))}function V$(e,t){return function(){qo(this,e).delay=+t.apply(this,arguments)}}function Y$(e,t){return t=+t,function(){qo(this,e).delay=t}}function F$(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?V$:Y$)(t,e)):at(this.node(),t).delay}function q$(e,t){return function(){mt(this,e).duration=+t.apply(this,arguments)}}function B$(e,t){return t=+t,function(){mt(this,e).duration=t}}function W$(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?q$:B$)(t,e)):at(this.node(),t).duration}function X$(e,t){if(typeof t!="function")throw new Error;return function(){mt(this,e).ease=t}}function K$(e){var t=this._id;return arguments.length?this.each(X$(t,e)):at(this.node(),t).ease}function j$(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;mt(this,e).ease=n}}function G$(e){if(typeof e!="function")throw new Error;return this.each(j$(this._id,e))}function Z$(e){typeof e!="function"&&(e=Fl(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],o=s.length,a=r[i]=[],l,c=0;c<o;++c)(l=s[c])&&e.call(l,l.__data__,c,s)&&a.push(l);return new St(r,this._parents,this._name,this._id)}function U$(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,s=Math.min(r,i),o=new Array(r),a=0;a<s;++a)for(var l=t[a],c=n[a],u=l.length,d=o[a]=new Array(u),f,h=0;h<u;++h)(f=l[h]||c[h])&&(d[h]=f);for(;a<r;++a)o[a]=t[a];return new St(o,this._parents,this._name,this._id)}function Q$(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function J$(e,t,n){var r,i,s=Q$(t)?qo:mt;return function(){var o=s(this,e),a=o.on;a!==r&&(i=(r=a).copy()).on(t,n),o.on=i}}function eg(e,t){var n=this._id;return arguments.length<2?at(this.node(),n).on.on(e):this.each(J$(n,e,t))}function tg(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function ng(){return this.on("end.remove",tg(this._id))}function rg(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Lo(e));for(var r=this._groups,i=r.length,s=new Array(i),o=0;o<i;++o)for(var a=r[o],l=a.length,c=s[o]=new Array(l),u,d,f=0;f<l;++f)(u=a[f])&&(d=e.call(u,u.__data__,f,a))&&("__data__"in u&&(d.__data__=u.__data__),c[f]=d,Kr(c[f],t,n,f,c,at(u,n)));return new St(s,this._parents,t,n)}function ig(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Yl(e));for(var r=this._groups,i=r.length,s=[],o=[],a=0;a<i;++a)for(var l=r[a],c=l.length,u,d=0;d<c;++d)if(u=l[d]){for(var f=e.call(u,u.__data__,d,l),h,g=at(u,n),b=0,p=f.length;b<p;++b)(h=f[b])&&Kr(h,t,n,b,f,g);s.push(f),o.push(u)}return new St(s,o,t,n)}var og=Kn.prototype.constructor;function sg(){return new og(this._groups,this._parents)}function ag(e,t){var n,r,i;return function(){var s=ln(this,e),o=(this.style.removeProperty(e),ln(this,e));return s===o?null:s===n&&o===r?i:i=t(n=s,r=o)}}function du(e){return function(){this.style.removeProperty(e)}}function lg(e,t,n){var r,i=n+"",s;return function(){var o=ln(this,e);return o===i?null:o===r?s:s=t(r=o,n)}}function ug(e,t,n){var r,i,s;return function(){var o=ln(this,e),a=n(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(e),ln(this,e))),o===l?null:o===r&&l===i?s:(i=l,s=t(r=o,a))}}function cg(e,t){var n,r,i,s="style."+t,o="end."+s,a;return function(){var l=mt(this,e),c=l.on,u=l.value[s]==null?a||(a=du(t)):void 0;(c!==n||i!==u)&&(r=(n=c).copy()).on(o,i=u),l.on=r}}function dg(e,t,n){var r=(e+="")=="transform"?d$:cu;return t==null?this.styleTween(e,ag(e,r)).on("end.style."+e,du(e)):typeof t=="function"?this.styleTween(e,ug(e,r,Bo(this,"style."+e,t))).each(cg(this._id,e)):this.styleTween(e,lg(e,r,t),n).on("end.style."+e,null)}function fg(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function hg(e,t,n){var r,i;function s(){var o=t.apply(this,arguments);return o!==i&&(r=(i=o)&&fg(e,o,n)),r}return s._value=t,s}function $g(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,hg(e,t,n??""))}function gg(e){return function(){this.textContent=e}}function pg(e){return function(){var t=e(this);this.textContent=t??""}}function mg(e){return this.tween("text",typeof e=="function"?pg(Bo(this,"text",e)):gg(e==null?"":e+""))}function vg(e){return function(t){this.textContent=e.call(this,t)}}function yg(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&vg(i)),t}return r._value=e,r}function bg(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,yg(e))}function wg(){for(var e=this._name,t=this._id,n=fu(),r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,l,c=0;c<a;++c)if(l=o[c]){var u=at(l,t);Kr(l,e,n,c,o,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new St(r,this._parents,e,n)}function _g(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(s,o){var a={value:o},l={value:function(){--i===0&&s()}};n.each(function(){var c=mt(this,r),u=c.on;u!==e&&(t=(e=u).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),c.on=t}),i===0&&s()})}var xg=0;function St(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function fu(){return++xg}var vt=Kn.prototype;St.prototype={constructor:St,select:rg,selectAll:ig,selectChild:vt.selectChild,selectChildren:vt.selectChildren,filter:Z$,merge:U$,selection:sg,transition:wg,call:vt.call,nodes:vt.nodes,node:vt.node,size:vt.size,empty:vt.empty,each:vt.each,on:eg,attr:T$,attrTween:L$,style:dg,styleTween:$g,text:mg,textTween:bg,remove:ng,tween:S$,delay:F$,duration:W$,ease:K$,easeVarying:G$,end:_g,[Symbol.iterator]:vt[Symbol.iterator]};function Eg(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var kg={time:null,delay:0,duration:250,ease:Eg};function Ng(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function Sg(e){var t,n;e instanceof St?(t=e._id,e=e._name):(t=fu(),(n=kg).time=Fo(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,l,c=0;c<a;++c)(l=o[c])&&Kr(l,e,t,c,o,n||Ng(l,t));return new St(r,this._parents,e,t)}Kn.prototype.interrupt=E$;Kn.prototype.transition=Sg;const nr=e=>()=>e;function Pg(e,{sourceEvent:t,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function _t(e,t,n){this.k=e,this.x=t,this.y=n}_t.prototype={constructor:_t,scale:function(e){return e===1?this:new _t(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new _t(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var jr=new _t(1,0,0);hu.prototype=_t.prototype;function hu(e){for(;!e.__zoom;)if(!(e=e.parentNode))return jr;return e.__zoom}function eo(e){e.stopImmediatePropagation()}function xn(e){e.preventDefault(),e.stopImmediatePropagation()}function Cg(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function Ig(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function wa(){return this.__zoom||jr}function Og(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function Ag(){return navigator.maxTouchPoints||"ontouchstart"in this}function Mg(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],s=e.invertY(t[0][1])-n[0][1],o=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>s?(s+o)/2:Math.min(0,s)||Math.max(0,o))}function Tg(){var e=Cg,t=Ig,n=Mg,r=Og,i=Ag,s=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],a=250,l=p$,c=Br("start","zoom","end"),u,d,f,h=500,g=150,b=0,p=10;function v(m){m.property("__zoom",wa).on("wheel.zoom",k,{passive:!1}).on("mousedown.zoom",I).on("dblclick.zoom",A).filter(i).on("touchstart.zoom",w).on("touchmove.zoom",x).on("touchend.zoom touchcancel.zoom",M).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}v.transform=function(m,P,T,L){var W=m.selection?m.selection():m;W.property("__zoom",wa),m!==W?S(m,P,T,L):W.interrupt().each(function(){N(this,arguments).event(L).start().zoom(null,typeof P=="function"?P.apply(this,arguments):P).end()})},v.scaleBy=function(m,P,T,L){v.scaleTo(m,function(){var W=this.__zoom.k,j=typeof P=="function"?P.apply(this,arguments):P;return W*j},T,L)},v.scaleTo=function(m,P,T,L){v.transform(m,function(){var W=t.apply(this,arguments),j=this.__zoom,Z=T==null?y(W):typeof T=="function"?T.apply(this,arguments):T,te=j.invert(Z),se=typeof P=="function"?P.apply(this,arguments):P;return n(_(E(j,se),Z,te),W,o)},T,L)},v.translateBy=function(m,P,T,L){v.transform(m,function(){return n(this.__zoom.translate(typeof P=="function"?P.apply(this,arguments):P,typeof T=="function"?T.apply(this,arguments):T),t.apply(this,arguments),o)},null,L)},v.translateTo=function(m,P,T,L,W){v.transform(m,function(){var j=t.apply(this,arguments),Z=this.__zoom,te=L==null?y(j):typeof L=="function"?L.apply(this,arguments):L;return n(jr.translate(te[0],te[1]).scale(Z.k).translate(typeof P=="function"?-P.apply(this,arguments):-P,typeof T=="function"?-T.apply(this,arguments):-T),j,o)},L,W)};function E(m,P){return P=Math.max(s[0],Math.min(s[1],P)),P===m.k?m:new _t(P,m.x,m.y)}function _(m,P,T){var L=P[0]-T[0]*m.k,W=P[1]-T[1]*m.k;return L===m.x&&W===m.y?m:new _t(m.k,L,W)}function y(m){return[(+m[0][0]+ +m[1][0])/2,(+m[0][1]+ +m[1][1])/2]}function S(m,P,T,L){m.on("start.zoom",function(){N(this,arguments).event(L).start()}).on("interrupt.zoom end.zoom",function(){N(this,arguments).event(L).end()}).tween("zoom",function(){var W=this,j=arguments,Z=N(W,j).event(L),te=t.apply(W,j),se=T==null?y(te):typeof T=="function"?T.apply(W,j):T,R=Math.max(te[1][0]-te[0][0],te[1][1]-te[0][1]),z=W.__zoom,O=typeof P=="function"?P.apply(W,j):P,H=l(z.invert(se).concat(R/z.k),O.invert(se).concat(R/O.k));return function(Y){if(Y===1)Y=O;else{var V=H(Y),K=R/V[2];Y=new _t(K,se[0]-V[0]*K,se[1]-V[1]*K)}Z.zoom(null,Y)}})}function N(m,P,T){return!T&&m.__zooming||new D(m,P)}function D(m,P){this.that=m,this.args=P,this.active=0,this.sourceEvent=null,this.extent=t.apply(m,P),this.taps=0}D.prototype={event:function(m){return m&&(this.sourceEvent=m),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(m,P){return this.mouse&&m!=="mouse"&&(this.mouse[1]=P.invert(this.mouse[0])),this.touch0&&m!=="touch"&&(this.touch0[1]=P.invert(this.touch0[0])),this.touch1&&m!=="touch"&&(this.touch1[1]=P.invert(this.touch1[0])),this.that.__zoom=P,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(m){var P=nt(this.that).datum();c.call(m,this.that,new Pg(m,{sourceEvent:this.sourceEvent,target:v,transform:this.that.__zoom,dispatch:c}),P)}};function k(m,...P){if(!e.apply(this,arguments))return;var T=N(this,P).event(m),L=this.__zoom,W=Math.max(s[0],Math.min(s[1],L.k*Math.pow(2,r.apply(this,arguments)))),j=ut(m);if(T.wheel)(T.mouse[0][0]!==j[0]||T.mouse[0][1]!==j[1])&&(T.mouse[1]=L.invert(T.mouse[0]=j)),clearTimeout(T.wheel);else{if(L.k===W)return;T.mouse=[j,L.invert(j)],ur(this),T.start()}xn(m),T.wheel=setTimeout(Z,g),T.zoom("mouse",n(_(E(L,W),T.mouse[0],T.mouse[1]),T.extent,o));function Z(){T.wheel=null,T.end()}}function I(m,...P){if(f||!e.apply(this,arguments))return;var T=m.currentTarget,L=N(this,P,!0).event(m),W=nt(m.view).on("mousemove.zoom",se,!0).on("mouseup.zoom",R,!0),j=ut(m,T),Z=m.clientX,te=m.clientY;Ql(m.view),eo(m),L.mouse=[j,this.__zoom.invert(j)],ur(this),L.start();function se(z){if(xn(z),!L.moved){var O=z.clientX-Z,H=z.clientY-te;L.moved=O*O+H*H>b}L.event(z).zoom("mouse",n(_(L.that.__zoom,L.mouse[0]=ut(z,T),L.mouse[1]),L.extent,o))}function R(z){W.on("mousemove.zoom mouseup.zoom",null),Jl(z.view,L.moved),xn(z),L.event(z).end()}}function A(m,...P){if(e.apply(this,arguments)){var T=this.__zoom,L=ut(m.changedTouches?m.changedTouches[0]:m,this),W=T.invert(L),j=T.k*(m.shiftKey?.5:2),Z=n(_(E(T,j),L,W),t.apply(this,P),o);xn(m),a>0?nt(this).transition().duration(a).call(S,Z,L,m):nt(this).call(v.transform,Z,L,m)}}function w(m,...P){if(e.apply(this,arguments)){var T=m.touches,L=T.length,W=N(this,P,m.changedTouches.length===L).event(m),j,Z,te,se;for(eo(m),Z=0;Z<L;++Z)te=T[Z],se=ut(te,this),se=[se,this.__zoom.invert(se),te.identifier],W.touch0?!W.touch1&&W.touch0[2]!==se[2]&&(W.touch1=se,W.taps=0):(W.touch0=se,j=!0,W.taps=1+!!u);u&&(u=clearTimeout(u)),j&&(W.taps<2&&(d=se[0],u=setTimeout(function(){u=null},h)),ur(this),W.start())}}function x(m,...P){if(this.__zooming){var T=N(this,P).event(m),L=m.changedTouches,W=L.length,j,Z,te,se;for(xn(m),j=0;j<W;++j)Z=L[j],te=ut(Z,this),T.touch0&&T.touch0[2]===Z.identifier?T.touch0[0]=te:T.touch1&&T.touch1[2]===Z.identifier&&(T.touch1[0]=te);if(Z=T.that.__zoom,T.touch1){var R=T.touch0[0],z=T.touch0[1],O=T.touch1[0],H=T.touch1[1],Y=(Y=O[0]-R[0])*Y+(Y=O[1]-R[1])*Y,V=(V=H[0]-z[0])*V+(V=H[1]-z[1])*V;Z=E(Z,Math.sqrt(Y/V)),te=[(R[0]+O[0])/2,(R[1]+O[1])/2],se=[(z[0]+H[0])/2,(z[1]+H[1])/2]}else if(T.touch0)te=T.touch0[0],se=T.touch0[1];else return;T.zoom("touch",n(_(Z,te,se),T.extent,o))}}function M(m,...P){if(this.__zooming){var T=N(this,P).event(m),L=m.changedTouches,W=L.length,j,Z;for(eo(m),f&&clearTimeout(f),f=setTimeout(function(){f=null},h),j=0;j<W;++j)Z=L[j],T.touch0&&T.touch0[2]===Z.identifier?delete T.touch0:T.touch1&&T.touch1[2]===Z.identifier&&delete T.touch1;if(T.touch1&&!T.touch0&&(T.touch0=T.touch1,delete T.touch1),T.touch0)T.touch0[1]=this.__zoom.invert(T.touch0[0]);else if(T.end(),T.taps===2&&(Z=ut(Z,this),Math.hypot(d[0]-Z[0],d[1]-Z[1])<p)){var te=nt(this).on("dblclick.zoom");te&&te.apply(this,arguments)}}}return v.wheelDelta=function(m){return arguments.length?(r=typeof m=="function"?m:nr(+m),v):r},v.filter=function(m){return arguments.length?(e=typeof m=="function"?m:nr(!!m),v):e},v.touchable=function(m){return arguments.length?(i=typeof m=="function"?m:nr(!!m),v):i},v.extent=function(m){return arguments.length?(t=typeof m=="function"?m:nr([[+m[0][0],+m[0][1]],[+m[1][0],+m[1][1]]]),v):t},v.scaleExtent=function(m){return arguments.length?(s[0]=+m[0],s[1]=+m[1],v):[s[0],s[1]]},v.translateExtent=function(m){return arguments.length?(o[0][0]=+m[0][0],o[1][0]=+m[1][0],o[0][1]=+m[0][1],o[1][1]=+m[1][1],v):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},v.constrain=function(m){return arguments.length?(n=m,v):n},v.duration=function(m){return arguments.length?(a=+m,v):a},v.interpolate=function(m){return arguments.length?(l=m,v):l},v.on=function(){var m=c.on.apply(c,arguments);return m===c?v:m},v.clickDistance=function(m){return arguments.length?(b=(m=+m)*m,v):Math.sqrt(b)},v.tapDistance=function(m){return arguments.length?(p=+m,v):p},v}const zn={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${e} handle id: "${e==="source"?n:r}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},bo=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],$u=["Enter"," ","Escape"];var cn;(function(e){e.Strict="strict",e.Loose="loose"})(cn||(cn={}));var Rt;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(Rt||(Rt={}));var Nr;(function(e){e.Partial="partial",e.Full="full"})(Nr||(Nr={}));const wo={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};var wt;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(wt||(wt={}));var Sr;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Sr||(Sr={}));var ye;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(ye||(ye={}));const _a={[ye.Left]:ye.Right,[ye.Right]:ye.Left,[ye.Top]:ye.Bottom,[ye.Bottom]:ye.Top};function Dg(e,t){if(!e&&!t)return!0;if(!e||!t||e.size!==t.size)return!1;if(!e.size&&!t.size)return!0;for(const n of e.keys())if(!t.has(n))return!1;return!0}function xa(e,t,n){if(!n)return;const r=[];e.forEach((i,s)=>{t?.has(s)||r.push(i)}),r.length&&n(r)}function Rg(e){return e===null?null:e?"valid":"invalid"}const gu=e=>"id"in e&&"source"in e&&"target"in e,zg=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),Wo=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),Gn=(e,t=[0,0])=>{const{width:n,height:r}=Gt(e),i=e.origin??t,s=n*i[0],o=r*i[1];return{x:e.position.x-s,y:e.position.y-o}},Hg=(e,t={nodeOrigin:[0,0]})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,i)=>{const s=typeof i=="string";let o=!t.nodeLookup&&!s?i:void 0;t.nodeLookup&&(o=s?t.nodeLookup.get(i):Wo(i)?i:t.nodeLookup.get(i.id));const a=o?Pr(o,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return Zr(r,a)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Ur(n)},Gr=(e,t={})=>{if(e.size===0)return{x:0,y:0,width:0,height:0};let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0};return e.forEach(r=>{if(t.filter===void 0||t.filter(r)){const i=Pr(r);n=Zr(n,i)}}),Ur(n)},pu=(e,t,[n,r,i]=[0,0,1],s=!1,o=!1)=>{const a={...Zn(t,[n,r,i]),width:t.width/i,height:t.height/i},l=[];for(const c of e.values()){const{measured:u,selectable:d=!0,hidden:f=!1}=c;if(o&&!d||f)continue;const h=u.width??c.width??c.initialWidth??null,g=u.height??c.height??c.initialHeight??null,b=Hn(a,fn(c)),p=(h??0)*(g??0),v=s&&b>0;(!c.internals.handleBounds||v||b>=p||c.dragging)&&l.push(c)}return l},Lg=(e,t)=>{const n=new Set;return e.forEach(r=>{n.add(r.id)}),t.filter(r=>n.has(r.source)||n.has(r.target))};function Vg(e,t){const n=new Map,r=t?.nodes?new Set(t.nodes.map(i=>i.id)):null;return e.forEach(i=>{i.measured.width&&i.measured.height&&(t?.includeHiddenNodes||!i.hidden)&&(!r||r.has(i.id))&&n.set(i.id,i)}),n}async function Yg({nodes:e,width:t,height:n,panZoom:r,minZoom:i,maxZoom:s},o){if(e.size===0)return Promise.resolve(!0);const a=Vg(e,o),l=Gr(a),c=Xo(l,t,n,o?.minZoom??i,o?.maxZoom??s,o?.padding??.1);return await r.setViewport(c,{duration:o?.duration}),Promise.resolve(!0)}function mu({nodeId:e,nextPosition:t,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:i,onError:s}){const o=n.get(e),a=o.parentId?n.get(o.parentId):void 0,{x:l,y:c}=a?a.internals.positionAbsolute:{x:0,y:0},u=o.origin??r;let d=i;if(o.extent==="parent"&&!o.expandParent)if(!a)s?.("005",zn.error005());else{const h=a.measured.width,g=a.measured.height;h&&g&&(d=[[l,c],[l+h,c+g]])}else a&&hn(o.extent)&&(d=[[o.extent[0][0]+l,o.extent[0][1]+c],[o.extent[1][0]+l,o.extent[1][1]+c]]);const f=hn(d)?Kt(t,d,o.measured):t;return(o.measured.width===void 0||o.measured.height===void 0)&&s?.("015",zn.error015()),{position:{x:f.x-l+(o.measured.width??0)*u[0],y:f.y-c+(o.measured.height??0)*u[1]},positionAbsolute:f}}async function Fg({nodesToRemove:e=[],edgesToRemove:t=[],nodes:n,edges:r,onBeforeDelete:i}){const s=new Set(e.map(f=>f.id)),o=[];for(const f of n){if(f.deletable===!1)continue;const h=s.has(f.id),g=!h&&f.parentId&&o.find(b=>b.id===f.parentId);(h||g)&&o.push(f)}const a=new Set(t.map(f=>f.id)),l=r.filter(f=>f.deletable!==!1),u=Lg(o,l);for(const f of l)a.has(f.id)&&!u.find(g=>g.id===f.id)&&u.push(f);if(!i)return{edges:u,nodes:o};const d=await i({nodes:o,edges:u});return typeof d=="boolean"?d?{edges:u,nodes:o}:{edges:[],nodes:[]}:d}const dn=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),Kt=(e={x:0,y:0},t,n)=>({x:dn(e.x,t[0][0],t[1][0]-(n?.width??0)),y:dn(e.y,t[0][1],t[1][1]-(n?.height??0))});function vu(e,t,n){const{width:r,height:i}=Gt(n),{x:s,y:o}=n.internals.positionAbsolute;return Kt(e,[[s,o],[s+r,o+i]],t)}const Ea=(e,t,n)=>e<t?dn(Math.abs(e-t),1,t)/t:e>n?-dn(Math.abs(e-n),1,t)/t:0,yu=(e,t,n=15,r=40)=>{const i=Ea(e.x,r,t.width-r)*n,s=Ea(e.y,r,t.height-r)*n;return[i,s]},Zr=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),_o=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),Ur=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),fn=(e,t=[0,0])=>{const{x:n,y:r}=Wo(e)?e.internals.positionAbsolute:Gn(e,t);return{x:n,y:r,width:e.measured?.width??e.width??e.initialWidth??0,height:e.measured?.height??e.height??e.initialHeight??0}},Pr=(e,t=[0,0])=>{const{x:n,y:r}=Wo(e)?e.internals.positionAbsolute:Gn(e,t);return{x:n,y:r,x2:n+(e.measured?.width??e.width??e.initialWidth??0),y2:r+(e.measured?.height??e.height??e.initialHeight??0)}},qg=(e,t)=>Ur(Zr(_o(e),_o(t))),Hn=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},ka=e=>xt(e.width)&&xt(e.height)&&xt(e.x)&&xt(e.y),xt=e=>!isNaN(e)&&isFinite(e),Bg=(e,t)=>{},Qr=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),Zn=({x:e,y:t},[n,r,i],s=!1,o=[1,1])=>{const a={x:(e-n)/i,y:(t-r)/i};return s?Qr(a,o):a},Cr=({x:e,y:t},[n,r,i])=>({x:e*i+n,y:t*i+r});function Qt(e,t){if(typeof e=="number")return Math.floor((t-t/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(n)}if(typeof e=="string"&&e.endsWith("%")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(t*n*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function Wg(e,t,n){if(typeof e=="string"||typeof e=="number"){const r=Qt(e,n),i=Qt(e,t);return{top:r,right:i,bottom:r,left:i,x:i*2,y:r*2}}if(typeof e=="object"){const r=Qt(e.top??e.y??0,n),i=Qt(e.bottom??e.y??0,n),s=Qt(e.left??e.x??0,t),o=Qt(e.right??e.x??0,t);return{top:r,right:o,bottom:i,left:s,x:s+o,y:r+i}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function Xg(e,t,n,r,i,s){const{x:o,y:a}=Cr(e,[t,n,r]),{x:l,y:c}=Cr({x:e.x+e.width,y:e.y+e.height},[t,n,r]),u=i-l,d=s-c;return{left:Math.floor(o),top:Math.floor(a),right:Math.floor(u),bottom:Math.floor(d)}}const Xo=(e,t,n,r,i,s)=>{const o=Wg(s,t,n),a=(t-o.x)/e.width,l=(n-o.y)/e.height,c=Math.min(a,l),u=dn(c,r,i),d=e.x+e.width/2,f=e.y+e.height/2,h=t/2-d*u,g=n/2-f*u,b=Xg(e,h,g,u,t,n),p={left:Math.min(b.left-o.left,0),top:Math.min(b.top-o.top,0),right:Math.min(b.right-o.right,0),bottom:Math.min(b.bottom-o.bottom,0)};return{x:h-p.left+p.right,y:g-p.top+p.bottom,zoom:u}},Ir=()=>typeof navigator<"u"&&navigator?.userAgent?.indexOf("Mac")>=0;function hn(e){return e!==void 0&&e!=="parent"}function Gt(e){return{width:e.measured?.width??e.width??e.initialWidth??0,height:e.measured?.height??e.height??e.initialHeight??0}}function Kg(e){return(e.measured?.width??e.width??e.initialWidth)!==void 0&&(e.measured?.height??e.height??e.initialHeight)!==void 0}function jg(e,t={width:0,height:0},n,r,i){const s={...e},o=r.get(n);if(o){const a=o.origin||i;s.x+=o.internals.positionAbsolute.x-(t.width??0)*a[0],s.y+=o.internals.positionAbsolute.y-(t.height??0)*a[1]}return s}function to(e,{snapGrid:t=[0,0],snapToGrid:n=!1,transform:r,containerBounds:i}){const{x:s,y:o}=Nt(e),a=Zn({x:s-(i?.left??0),y:o-(i?.top??0)},r),{x:l,y:c}=n?Qr(a,t):a;return{xSnapped:l,ySnapped:c,...a}}const bu=e=>({width:e.offsetWidth,height:e.offsetHeight}),wu=e=>e?.getRootNode?.()||window?.document,Gg=["INPUT","SELECT","TEXTAREA"];function _u(e){const t=e.composedPath?.()?.[0]||e.target;return t?.nodeType!==1?!1:Gg.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey")}const xu=e=>"clientX"in e,Nt=(e,t)=>{const n=xu(e),r=n?e.clientX:e.touches?.[0].clientX,i=n?e.clientY:e.touches?.[0].clientY;return{x:r-(t?.left??0),y:i-(t?.top??0)}},Na=(e,t,n,r,i)=>{const s=t.querySelectorAll(`.${e}`);return!s||!s.length?null:Array.from(s).map(o=>{const a=o.getBoundingClientRect();return{id:o.getAttribute("data-handleid"),type:e,nodeId:i,position:o.getAttribute("data-handlepos"),x:(a.left-n.left)/r,y:(a.top-n.top)/r,...bu(o)}})};function Zg({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:i,sourceControlY:s,targetControlX:o,targetControlY:a}){const l=e*.125+i*.375+o*.375+n*.125,c=t*.125+s*.375+a*.375+r*.125,u=Math.abs(l-e),d=Math.abs(c-t);return[l,c,u,d]}function rr(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function Sa({pos:e,x1:t,y1:n,x2:r,y2:i,c:s}){switch(e){case ye.Left:return[t-rr(t-r,s),n];case ye.Right:return[t+rr(r-t,s),n];case ye.Top:return[t,n-rr(n-i,s)];case ye.Bottom:return[t,n+rr(i-n,s)]}}function Eu({sourceX:e,sourceY:t,sourcePosition:n=ye.Bottom,targetX:r,targetY:i,targetPosition:s=ye.Top,curvature:o=.25}){const[a,l]=Sa({pos:n,x1:e,y1:t,x2:r,y2:i,c:o}),[c,u]=Sa({pos:s,x1:r,y1:i,x2:e,y2:t,c:o}),[d,f,h,g]=Zg({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:a,sourceControlY:l,targetControlX:c,targetControlY:u});return[`M${e},${t} C${a},${l} ${c},${u} ${r},${i}`,d,f,h,g]}function ku({sourceX:e,sourceY:t,targetX:n,targetY:r}){const i=Math.abs(n-e)/2,s=n<e?n+i:n-i,o=Math.abs(r-t)/2,a=r<t?r+o:r-o;return[s,a,i,o]}function Ug({sourceNode:e,targetNode:t,selected:n=!1,zIndex:r=0,elevateOnSelect:i=!1}){if(!i)return r;const s=n||t.selected||e.selected,o=Math.max(e.internals.z||0,t.internals.z||0,1e3);return r+(s?o:0)}function Qg({sourceNode:e,targetNode:t,width:n,height:r,transform:i}){const s=Zr(Pr(e),Pr(t));s.x===s.x2&&(s.x2+=1),s.y===s.y2&&(s.y2+=1);const o={x:-i[0]/i[2],y:-i[1]/i[2],width:n/i[2],height:r/i[2]};return Hn(o,Ur(s))>0}const Jg=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`xy-edge__${e}${t||""}-${n}${r||""}`,ep=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),tp=(e,t)=>{if(!e.source||!e.target)return t;let n;return gu(e)?n={...e}:n={...e,id:Jg(e)},ep(n,t)?t:(n.sourceHandle===null&&delete n.sourceHandle,n.targetHandle===null&&delete n.targetHandle,t.concat(n))};function Nu({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[i,s,o,a]=ku({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,i,s,o,a]}const Pa={[ye.Left]:{x:-1,y:0},[ye.Right]:{x:1,y:0},[ye.Top]:{x:0,y:-1},[ye.Bottom]:{x:0,y:1}},np=({source:e,sourcePosition:t=ye.Bottom,target:n})=>t===ye.Left||t===ye.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},Ca=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function rp({source:e,sourcePosition:t=ye.Bottom,target:n,targetPosition:r=ye.Top,center:i,offset:s}){const o=Pa[t],a=Pa[r],l={x:e.x+o.x*s,y:e.y+o.y*s},c={x:n.x+a.x*s,y:n.y+a.y*s},u=np({source:l,sourcePosition:t,target:c}),d=u.x!==0?"x":"y",f=u[d];let h=[],g,b;const p={x:0,y:0},v={x:0,y:0},[E,_,y,S]=ku({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(o[d]*a[d]===-1){g=i.x??E,b=i.y??_;const D=[{x:g,y:l.y},{x:g,y:c.y}],k=[{x:l.x,y:b},{x:c.x,y:b}];o[d]===f?h=d==="x"?D:k:h=d==="x"?k:D}else{const D=[{x:l.x,y:c.y}],k=[{x:c.x,y:l.y}];if(d==="x"?h=o.x===f?k:D:h=o.y===f?D:k,t===r){const M=Math.abs(e[d]-n[d]);if(M<=s){const m=Math.min(s-1,s-M);o[d]===f?p[d]=(l[d]>e[d]?-1:1)*m:v[d]=(c[d]>n[d]?-1:1)*m}}if(t!==r){const M=d==="x"?"y":"x",m=o[d]===a[M],P=l[M]>c[M],T=l[M]<c[M];(o[d]===1&&(!m&&P||m&&T)||o[d]!==1&&(!m&&T||m&&P))&&(h=d==="x"?D:k)}const I={x:l.x+p.x,y:l.y+p.y},A={x:c.x+v.x,y:c.y+v.y},w=Math.max(Math.abs(I.x-h[0].x),Math.abs(A.x-h[0].x)),x=Math.max(Math.abs(I.y-h[0].y),Math.abs(A.y-h[0].y));w>=x?(g=(I.x+A.x)/2,b=h[0].y):(g=h[0].x,b=(I.y+A.y)/2)}return[[e,{x:l.x+p.x,y:l.y+p.y},...h,{x:c.x+v.x,y:c.y+v.y},n],g,b,y,S]}function ip(e,t,n,r){const i=Math.min(Ca(e,t)/2,Ca(t,n)/2,r),{x:s,y:o}=t;if(e.x===s&&s===n.x||e.y===o&&o===n.y)return`L${s} ${o}`;if(e.y===o){const c=e.x<n.x?-1:1,u=e.y<n.y?1:-1;return`L ${s+i*c},${o}Q ${s},${o} ${s},${o+i*u}`}const a=e.x<n.x?1:-1,l=e.y<n.y?-1:1;return`L ${s},${o+i*l}Q ${s},${o} ${s+i*a},${o}`}function Ko({sourceX:e,sourceY:t,sourcePosition:n=ye.Bottom,targetX:r,targetY:i,targetPosition:s=ye.Top,borderRadius:o=5,centerX:a,centerY:l,offset:c=20}){const[u,d,f,h,g]=rp({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:i},targetPosition:s,center:{x:a,y:l},offset:c});return[u.reduce((p,v,E)=>{let _="";return E>0&&E<u.length-1?_=ip(u[E-1],v,u[E+1],o):_=`${E===0?"M":"L"}${v.x} ${v.y}`,p+=_,p},""),d,f,h,g]}function Ia(e){return e&&!!(e.internals.handleBounds||e.handles?.length)&&!!(e.measured.width||e.width||e.initialWidth)}function op(e){const{sourceNode:t,targetNode:n}=e;if(!Ia(t)||!Ia(n))return null;const r=t.internals.handleBounds||Oa(t.handles),i=n.internals.handleBounds||Oa(n.handles),s=Aa(r?.source??[],e.sourceHandle),o=Aa(e.connectionMode===cn.Strict?i?.target??[]:(i?.target??[]).concat(i?.source??[]),e.targetHandle);if(!s||!o)return e.onError?.("008",zn.error008(s?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const a=s?.position||ye.Bottom,l=o?.position||ye.Top,c=Ln(t,s,a),u=Ln(n,o,l);return{sourceX:c.x,sourceY:c.y,targetX:u.x,targetY:u.y,sourcePosition:a,targetPosition:l}}function Oa(e){if(!e)return null;const t=[],n=[];for(const r of e)r.width=r.width??1,r.height=r.height??1,r.type==="source"?t.push(r):r.type==="target"&&n.push(r);return{source:t,target:n}}function Ln(e,t,n=ye.Left,r=!1){const i=(t?.x??0)+e.internals.positionAbsolute.x,s=(t?.y??0)+e.internals.positionAbsolute.y,{width:o,height:a}=t??Gt(e);if(r)return{x:i+o/2,y:s+a/2};switch(t?.position??n){case ye.Top:return{x:i+o/2,y:s};case ye.Right:return{x:i+o,y:s+a/2};case ye.Bottom:return{x:i+o/2,y:s+a};case ye.Left:return{x:i,y:s+a/2}}}function Aa(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function xo(e,t){return e?typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`:""}function sp(e,{id:t,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:i}){const s=new Set;return e.reduce((o,a)=>([a.markerStart||r,a.markerEnd||i].forEach(l=>{if(l&&typeof l=="object"){const c=xo(l,t);s.has(c)||(o.push({id:c,color:l.color||n,...l}),s.add(c))}}),o),[]).sort((o,a)=>o.id.localeCompare(a.id))}const jo={nodeOrigin:[0,0],nodeExtent:bo,elevateNodesOnSelect:!0,defaults:{}},ap={...jo,checkEquality:!0};function Go(e,t){const n={...e};for(const r in t)t[r]!==void 0&&(n[r]=t[r]);return n}function lp(e,t,n){const r=Go(jo,n);for(const i of e.values())if(i.parentId)Zo(i,e,t,r);else{const s=Gn(i,r.nodeOrigin),o=hn(i.extent)?i.extent:r.nodeExtent,a=Kt(s,o,Gt(i));i.internals.positionAbsolute=a}}function up(e,t,n,r){const i=Go(ap,r);let s=e.length>0;const o=new Map(t),a=i?.elevateNodesOnSelect?1e3:0;t.clear(),n.clear();for(const l of e){let c=o.get(l.id);if(i.checkEquality&&l===c?.internals.userNode)t.set(l.id,c);else{const u=Gn(l,i.nodeOrigin),d=hn(l.extent)?l.extent:i.nodeExtent,f=Kt(u,d,Gt(l));c={...i.defaults,...l,measured:{width:l.measured?.width,height:l.measured?.height},internals:{positionAbsolute:f,handleBounds:l.measured?c?.internals.handleBounds:void 0,z:Su(l,a),userNode:l}},t.set(l.id,c)}(c.measured===void 0||c.measured.width===void 0||c.measured.height===void 0)&&!c.hidden&&(s=!1),l.parentId&&Zo(c,t,n,r)}return s}function cp(e,t){if(!e.parentId)return;const n=t.get(e.parentId);n?n.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}function Zo(e,t,n,r){const{elevateNodesOnSelect:i,nodeOrigin:s,nodeExtent:o}=Go(jo,r),a=e.parentId,l=t.get(a);if(!l){console.warn(`Parent node ${a} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}cp(e,n);const c=i?1e3:0,{x:u,y:d,z:f}=dp(e,l,s,o,c),{positionAbsolute:h}=e.internals,g=u!==h.x||d!==h.y;(g||f!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:g?{x:u,y:d}:h,z:f}})}function Su(e,t){return(xt(e.zIndex)?e.zIndex:0)+(e.selected?t:0)}function dp(e,t,n,r,i){const{x:s,y:o}=t.internals.positionAbsolute,a=Gt(e),l=Gn(e,n),c=hn(e.extent)?Kt(l,e.extent,a):l;let u=Kt({x:s+c.x,y:o+c.y},r,a);e.extent==="parent"&&(u=vu(u,a,t));const d=Su(e,i),f=t.internals.z??0;return{x:u.x,y:u.y,z:f>d?f:d}}function fp(e,t,n,r=[0,0]){const i=[],s=new Map;for(const o of e){const a=t.get(o.parentId);if(!a)continue;const l=s.get(o.parentId)?.expandedRect??fn(a),c=qg(l,o.rect);s.set(o.parentId,{expandedRect:c,parent:a})}return s.size>0&&s.forEach(({expandedRect:o,parent:a},l)=>{const c=a.internals.positionAbsolute,u=Gt(a),d=a.origin??r,f=o.x<c.x?Math.round(Math.abs(c.x-o.x)):0,h=o.y<c.y?Math.round(Math.abs(c.y-o.y)):0,g=Math.max(u.width,Math.round(o.width)),b=Math.max(u.height,Math.round(o.height)),p=(g-u.width)*d[0],v=(b-u.height)*d[1];(f>0||h>0||p||v)&&(i.push({id:l,type:"position",position:{x:a.position.x-f+p,y:a.position.y-h+v}}),n.get(l)?.forEach(E=>{e.some(_=>_.id===E.id)||i.push({id:E.id,type:"position",position:{x:E.position.x+f,y:E.position.y+h}})})),(u.width<o.width||u.height<o.height||f||h)&&i.push({id:l,type:"dimensions",setAttributes:!0,dimensions:{width:g+(f?d[0]*f-p:0),height:b+(h?d[1]*h-v:0)}})}),i}function hp(e,t,n,r,i,s){const o=r?.querySelector(".xyflow__viewport");let a=!1;if(!o)return{changes:[],updatedInternals:a};const l=[],c=window.getComputedStyle(o),{m22:u}=new window.DOMMatrixReadOnly(c.transform),d=[];for(const f of e.values()){const h=t.get(f.id);if(!h)continue;if(h.hidden){t.set(h.id,{...h,internals:{...h.internals,handleBounds:void 0}}),a=!0;continue}const g=bu(f.nodeElement),b=h.measured.width!==g.width||h.measured.height!==g.height;if(!!(g.width&&g.height&&(b||!h.internals.handleBounds||f.force))){const v=f.nodeElement.getBoundingClientRect(),E=hn(h.extent)?h.extent:s;let{positionAbsolute:_}=h.internals;h.parentId&&h.extent==="parent"?_=vu(_,g,t.get(h.parentId)):E&&(_=Kt(_,E,g));const y={...h,measured:g,internals:{...h.internals,positionAbsolute:_,handleBounds:{source:Na("source",f.nodeElement,v,u,h.id),target:Na("target",f.nodeElement,v,u,h.id)}}};t.set(h.id,y),h.parentId&&Zo(y,t,n,{nodeOrigin:i}),a=!0,b&&(l.push({id:h.id,type:"dimensions",dimensions:g}),h.expandParent&&h.parentId&&d.push({id:h.id,parentId:h.parentId,rect:fn(y,i)}))}}if(d.length>0){const f=fp(d,t,n,i);l.push(...f)}return{changes:l,updatedInternals:a}}async function $p({delta:e,panZoom:t,transform:n,translateExtent:r,width:i,height:s}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const o=await t.setViewportConstrained({x:n[0]+e.x,y:n[1]+e.y,zoom:n[2]},[[0,0],[i,s]],r),a=!!o&&(o.x!==n[0]||o.y!==n[1]||o.k!==n[2]);return Promise.resolve(a)}function Ma(e,t,n,r,i,s){let o=i;const a=r.get(o)||new Map;r.set(o,a.set(n,t)),o=`${i}-${e}`;const l=r.get(o)||new Map;if(r.set(o,l.set(n,t)),s){o=`${i}-${e}-${s}`;const c=r.get(o)||new Map;r.set(o,c.set(n,t))}}function gp(e,t,n){e.clear(),t.clear();for(const r of n){const{source:i,target:s,sourceHandle:o=null,targetHandle:a=null}=r,l={edgeId:r.id,source:i,target:s,sourceHandle:o,targetHandle:a},c=`${i}-${o}--${s}-${a}`,u=`${s}-${a}--${i}-${o}`;Ma("source",l,u,e,i,o),Ma("target",l,c,e,s,a),t.set(r.id,r)}}function Pu(e,t){if(!e.parentId)return!1;const n=t.get(e.parentId);return n?n.selected?!0:Pu(n,t):!1}function Ta(e,t,n){let r=e;do{if(r?.matches?.(t))return!0;if(r===n)return!1;r=r?.parentElement}while(r);return!1}function pp(e,t,n,r){const i=new Map;for(const[s,o]of e)if((o.selected||o.id===r)&&(!o.parentId||!Pu(o,e))&&(o.draggable||t&&typeof o.draggable>"u")){const a=e.get(s);a&&i.set(s,{id:s,position:a.position||{x:0,y:0},distance:{x:n.x-a.internals.positionAbsolute.x,y:n.y-a.internals.positionAbsolute.y},extent:a.extent,parentId:a.parentId,origin:a.origin,expandParent:a.expandParent,internals:{positionAbsolute:a.internals.positionAbsolute||{x:0,y:0}},measured:{width:a.measured.width??0,height:a.measured.height??0}})}return i}function no({nodeId:e,dragItems:t,nodeLookup:n,dragging:r=!0}){const i=[];for(const[o,a]of t){const l=n.get(o)?.internals.userNode;l&&i.push({...l,position:a.position,dragging:r})}if(!e)return[i[0],i];const s=n.get(e)?.internals.userNode;return[s?{...s,position:t.get(e)?.position||s.position,dragging:r}:i[0],i]}function mp({onNodeMouseDown:e,getStoreItems:t,onDragStart:n,onDrag:r,onDragStop:i}){let s={x:null,y:null},o=0,a=new Map,l=!1,c={x:0,y:0},u=null,d=!1,f=null,h=!1;function g({noDragClassName:p,handleSelector:v,domNode:E,isSelectable:_,nodeId:y,nodeClickDistance:S=0}){f=nt(E);function N({x:A,y:w},x){const{nodeLookup:M,nodeExtent:m,snapGrid:P,snapToGrid:T,nodeOrigin:L,onNodeDrag:W,onSelectionDrag:j,onError:Z,updateNodePositions:te}=t();s={x:A,y:w};let se=!1,R={x:0,y:0,x2:0,y2:0};if(a.size>1&&m){const z=Gr(a);R=_o(z)}for(const[z,O]of a){if(!M.has(z))continue;let H={x:A-O.distance.x,y:w-O.distance.y};T&&(H=Qr(H,P));let Y=[[m[0][0],m[0][1]],[m[1][0],m[1][1]]];if(a.size>1&&m&&!O.extent){const{positionAbsolute:U}=O.internals,ee=U.x-R.x+m[0][0],Q=U.x+O.measured.width-R.x2+m[1][0],F=U.y-R.y+m[0][1],q=U.y+O.measured.height-R.y2+m[1][1];Y=[[ee,F],[Q,q]]}const{position:V,positionAbsolute:K}=mu({nodeId:z,nextPosition:H,nodeLookup:M,nodeExtent:Y,nodeOrigin:L,onError:Z});se=se||O.position.x!==V.x||O.position.y!==V.y,O.position=V,O.internals.positionAbsolute=K}if(se&&(te(a,!0),x&&(r||W||!y&&j))){const[z,O]=no({nodeId:y,dragItems:a,nodeLookup:M});r?.(x,a,z,O),W?.(x,z,O),y||j?.(x,O)}}async function D(){if(!u)return;const{transform:A,panBy:w,autoPanSpeed:x,autoPanOnNodeDrag:M}=t();if(!M){l=!1,cancelAnimationFrame(o);return}const[m,P]=yu(c,u,x);(m!==0||P!==0)&&(s.x=(s.x??0)-m/A[2],s.y=(s.y??0)-P/A[2],await w({x:m,y:P})&&N(s,null)),o=requestAnimationFrame(D)}function k(A){const{nodeLookup:w,multiSelectionActive:x,nodesDraggable:M,transform:m,snapGrid:P,snapToGrid:T,selectNodesOnDrag:L,onNodeDragStart:W,onSelectionDragStart:j,unselectNodesAndEdges:Z}=t();d=!0,(!L||!_)&&!x&&y&&(w.get(y)?.selected||Z()),_&&L&&y&&e?.(y);const te=to(A.sourceEvent,{transform:m,snapGrid:P,snapToGrid:T,containerBounds:u});if(s=te,a=pp(w,M,te,y),a.size>0&&(n||W||!y&&j)){const[se,R]=no({nodeId:y,dragItems:a,nodeLookup:w});n?.(A.sourceEvent,a,se,R),W?.(A.sourceEvent,se,R),y||j?.(A.sourceEvent,R)}}const I=Bh().clickDistance(S).on("start",A=>{const{domNode:w,nodeDragThreshold:x,transform:M,snapGrid:m,snapToGrid:P}=t();u=w?.getBoundingClientRect()||null,h=!1,x===0&&k(A),s=to(A.sourceEvent,{transform:M,snapGrid:m,snapToGrid:P,containerBounds:u}),c=Nt(A.sourceEvent,u)}).on("drag",A=>{const{autoPanOnNodeDrag:w,transform:x,snapGrid:M,snapToGrid:m,nodeDragThreshold:P,nodeLookup:T}=t(),L=to(A.sourceEvent,{transform:x,snapGrid:M,snapToGrid:m,containerBounds:u});if((A.sourceEvent.type==="touchmove"&&A.sourceEvent.touches.length>1||y&&!T.has(y))&&(h=!0),!h){if(!l&&w&&d&&(l=!0,D()),!d){const W=L.xSnapped-(s.x??0),j=L.ySnapped-(s.y??0);Math.sqrt(W*W+j*j)>P&&k(A)}(s.x!==L.xSnapped||s.y!==L.ySnapped)&&a&&d&&(c=Nt(A.sourceEvent,u),N(L,A.sourceEvent))}}).on("end",A=>{if(!(!d||h)&&(l=!1,d=!1,cancelAnimationFrame(o),a.size>0)){const{nodeLookup:w,updateNodePositions:x,onNodeDragStop:M,onSelectionDragStop:m}=t();if(x(a,!1),i||M||!y&&m){const[P,T]=no({nodeId:y,dragItems:a,nodeLookup:w,dragging:!1});i?.(A.sourceEvent,a,P,T),M?.(A.sourceEvent,P,T),y||m?.(A.sourceEvent,T)}}}).filter(A=>{const w=A.target;return!A.button&&(!p||!Ta(w,`.${p}`,E))&&(!v||Ta(w,v,E))});f.call(I)}function b(){f?.on(".drag",null)}return{update:g,destroy:b}}function vp(e,t,n){const r=[],i={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const s of t.values())Hn(i,fn(s))>0&&r.push(s);return r}const yp=250;function bp(e,t,n,r){let i=[],s=1/0;const o=vp(e,n,t+yp);for(const a of o){const l=[...a.internals.handleBounds?.source??[],...a.internals.handleBounds?.target??[]];for(const c of l){if(r.nodeId===c.nodeId&&r.type===c.type&&r.id===c.id)continue;const{x:u,y:d}=Ln(a,c,c.position,!0),f=Math.sqrt(Math.pow(u-e.x,2)+Math.pow(d-e.y,2));f>t||(f<s?(i=[{...c,x:u,y:d}],s=f):f===s&&i.push({...c,x:u,y:d}))}}if(!i.length)return null;if(i.length>1){const a=r.type==="source"?"target":"source";return i.find(l=>l.type===a)??i[0]}return i[0]}function Cu(e,t,n,r,i,s=!1){const o=r.get(e);if(!o)return null;const a=i==="strict"?o.internals.handleBounds?.[t]:[...o.internals.handleBounds?.source??[],...o.internals.handleBounds?.target??[]],l=(n?a?.find(c=>c.id===n):a?.[0])??null;return l&&s?{...l,...Ln(o,l,l.position,!0)}:l}function Iu(e,t){return e||(t?.classList.contains("target")?"target":t?.classList.contains("source")?"source":null)}function wp(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}const Ou=()=>!0;function _p(e,{connectionMode:t,connectionRadius:n,handleId:r,nodeId:i,edgeUpdaterType:s,isTarget:o,domNode:a,nodeLookup:l,lib:c,autoPanOnConnect:u,flowId:d,panBy:f,cancelConnection:h,onConnectStart:g,onConnect:b,onConnectEnd:p,isValidConnection:v=Ou,onReconnectEnd:E,updateConnection:_,getTransform:y,getFromHandle:S,autoPanSpeed:N}){const D=wu(e.target);let k=0,I;const{x:A,y:w}=Nt(e),x=D?.elementFromPoint(A,w),M=Iu(s,x),m=a?.getBoundingClientRect();if(!m||!M)return;const P=Cu(i,M,r,l,t);if(!P)return;let T=Nt(e,m),L=!1,W=null,j=!1,Z=null;function te(){if(!u||!m)return;const[K,U]=yu(T,m,N);f({x:K,y:U}),k=requestAnimationFrame(te)}const se={...P,nodeId:i,type:M,position:P.position},R=l.get(i),O={inProgress:!0,isValid:null,from:Ln(R,se,ye.Left,!0),fromHandle:se,fromPosition:se.position,fromNode:R,to:T,toHandle:null,toPosition:_a[se.position],toNode:null};_(O);let H=O;g?.(e,{nodeId:i,handleId:r,handleType:M});function Y(K){if(!S()||!se){V(K);return}const U=y();T=Nt(K,m),I=bp(Zn(T,U,!1,[1,1]),n,l,se),L||(te(),L=!0);const ee=Au(K,{handle:I,connectionMode:t,fromNodeId:i,fromHandleId:r,fromType:o?"target":"source",isValidConnection:v,doc:D,lib:c,flowId:d,nodeLookup:l});Z=ee.handleDomNode,W=ee.connection,j=wp(!!I,ee.isValid);const Q={...H,isValid:j,to:ee.toHandle&&j?Cr({x:ee.toHandle.x,y:ee.toHandle.y},U):T,toHandle:ee.toHandle,toPosition:j&&ee.toHandle?ee.toHandle.position:_a[se.position],toNode:ee.toHandle?l.get(ee.toHandle.nodeId):null};j&&I&&H.toHandle&&Q.toHandle&&H.toHandle.type===Q.toHandle.type&&H.toHandle.nodeId===Q.toHandle.nodeId&&H.toHandle.id===Q.toHandle.id&&H.to.x===Q.to.x&&H.to.y===Q.to.y||(_(Q),H=Q)}function V(K){(I||Z)&&W&&j&&b?.(W);const{inProgress:U,...ee}=H,Q={...ee,toPosition:H.toHandle?H.toPosition:null};p?.(K,Q),s&&E?.(K,Q),h(),cancelAnimationFrame(k),L=!1,j=!1,W=null,Z=null,D.removeEventListener("mousemove",Y),D.removeEventListener("mouseup",V),D.removeEventListener("touchmove",Y),D.removeEventListener("touchend",V)}D.addEventListener("mousemove",Y),D.addEventListener("mouseup",V),D.addEventListener("touchmove",Y),D.addEventListener("touchend",V)}function Au(e,{handle:t,connectionMode:n,fromNodeId:r,fromHandleId:i,fromType:s,doc:o,lib:a,flowId:l,isValidConnection:c=Ou,nodeLookup:u}){const d=s==="target",f=t?o.querySelector(`.${a}-flow__handle[data-id="${l}-${t?.nodeId}-${t?.id}-${t?.type}"]`):null,{x:h,y:g}=Nt(e),b=o.elementFromPoint(h,g),p=b?.classList.contains(`${a}-flow__handle`)?b:f,v={handleDomNode:p,isValid:!1,connection:null,toHandle:null};if(p){const E=Iu(void 0,p),_=p.getAttribute("data-nodeid"),y=p.getAttribute("data-handleid"),S=p.classList.contains("connectable"),N=p.classList.contains("connectableend");if(!_||!E)return v;const D={source:d?_:r,sourceHandle:d?y:i,target:d?r:_,targetHandle:d?i:y};v.connection=D;const I=S&&N&&(n===cn.Strict?d&&E==="source"||!d&&E==="target":_!==r||y!==i);v.isValid=I&&c(D),v.toHandle=Cu(_,E,y,u,n,!0)}return v}const Da={onPointerDown:_p,isValid:Au},xp=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,Jr=e=>({x:e.x,y:e.y,zoom:e.k}),ro=({x:e,y:t,zoom:n})=>jr.translate(e,t).scale(n),en=(e,t)=>e.target.closest(`.${t}`),Mu=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),io=(e,t=0,n=()=>{})=>{const r=typeof t=="number"&&t>0;return r||n(),r?e.transition().duration(t).on("end",n):e},Tu=e=>{const t=e.ctrlKey&&Ir()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function Ep({zoomPanValues:e,noWheelClassName:t,d3Selection:n,d3Zoom:r,panOnScrollMode:i,panOnScrollSpeed:s,zoomOnPinch:o,onPanZoomStart:a,onPanZoom:l,onPanZoomEnd:c}){return u=>{if(en(u,t))return!1;u.preventDefault(),u.stopImmediatePropagation();const d=n.property("__zoom").k||1;if(u.ctrlKey&&o){const p=ut(u),v=Tu(u),E=d*Math.pow(2,v);r.scaleTo(n,E,p,u);return}const f=u.deltaMode===1?20:1;let h=i===Rt.Vertical?0:u.deltaX*f,g=i===Rt.Horizontal?0:u.deltaY*f;!Ir()&&u.shiftKey&&i!==Rt.Vertical&&(h=u.deltaY*f,g=0),r.translateBy(n,-(h/d)*s,-(g/d)*s,{internal:!0});const b=Jr(n.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling||(e.isPanScrolling=!0,a?.(u,b)),e.isPanScrolling&&(l?.(u,b),e.panScrollTimeout=setTimeout(()=>{c?.(u,b),e.isPanScrolling=!1},150))}}function kp({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:n}){return function(r,i){const s=r.type==="wheel",o=!t&&s&&!r.ctrlKey,a=en(r,e);if(r.ctrlKey&&s&&a&&r.preventDefault(),o||a)return null;r.preventDefault(),n.call(this,r,i)}}function Np({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:n}){return r=>{if(r.sourceEvent?.internal)return;const i=Jr(r.transform);e.mouseButton=r.sourceEvent?.button||0,e.isZoomingOrPanning=!0,e.prevViewport=i,r.sourceEvent?.type==="mousedown"&&t(!0),n&&n?.(r.sourceEvent,i)}}function Sp({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:n,onTransformChange:r,onPanZoom:i}){return s=>{e.usedRightMouseButton=!!(n&&Mu(t,e.mouseButton??0)),s.sourceEvent?.sync||r([s.transform.x,s.transform.y,s.transform.k]),i&&!s.sourceEvent?.internal&&i?.(s.sourceEvent,Jr(s.transform))}}function Pp({zoomPanValues:e,panOnDrag:t,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:i,onPaneContextMenu:s}){return o=>{if(!o.sourceEvent?.internal&&(e.isZoomingOrPanning=!1,s&&Mu(t,e.mouseButton??0)&&!e.usedRightMouseButton&&o.sourceEvent&&s(o.sourceEvent),e.usedRightMouseButton=!1,r(!1),i&&xp(e.prevViewport,o.transform))){const a=Jr(o.transform);e.prevViewport=a,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{i?.(o.sourceEvent,a)},n?150:0)}}}function Cp({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:n,panOnDrag:r,panOnScroll:i,zoomOnDoubleClick:s,userSelectionActive:o,noWheelClassName:a,noPanClassName:l,lib:c}){return u=>{const d=e||t,f=n&&u.ctrlKey;if(u.button===1&&u.type==="mousedown"&&(en(u,`${c}-flow__node`)||en(u,`${c}-flow__edge`)))return!0;if(!r&&!d&&!i&&!s&&!n||o||en(u,a)&&u.type==="wheel"||en(u,l)&&(u.type!=="wheel"||i&&u.type==="wheel"&&!e)||!n&&u.ctrlKey&&u.type==="wheel")return!1;if(!n&&u.type==="touchstart"&&u.touches?.length>1)return u.preventDefault(),!1;if(!d&&!i&&!f&&u.type==="wheel"||!r&&(u.type==="mousedown"||u.type==="touchstart")||Array.isArray(r)&&!r.includes(u.button)&&u.type==="mousedown")return!1;const h=Array.isArray(r)&&r.includes(u.button)||!u.button||u.button<=1;return(!u.ctrlKey||u.type==="wheel")&&h}}function Ip({domNode:e,minZoom:t,maxZoom:n,paneClickDistance:r,translateExtent:i,viewport:s,onPanZoom:o,onPanZoomStart:a,onPanZoomEnd:l,onDraggingChange:c}){const u={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},d=e.getBoundingClientRect(),f=Tg().clickDistance(!xt(r)||r<0?0:r).scaleExtent([t,n]).translateExtent(i),h=nt(e).call(f);_({x:s.x,y:s.y,zoom:dn(s.zoom,t,n)},[[0,0],[d.width,d.height]],i);const g=h.on("wheel.zoom"),b=h.on("dblclick.zoom");f.wheelDelta(Tu);function p(x,M){return h?new Promise(m=>{f?.transform(io(h,M?.duration,()=>m(!0)),x)}):Promise.resolve(!1)}function v({noWheelClassName:x,noPanClassName:M,onPaneContextMenu:m,userSelectionActive:P,panOnScroll:T,panOnDrag:L,panOnScrollMode:W,panOnScrollSpeed:j,preventScrolling:Z,zoomOnPinch:te,zoomOnScroll:se,zoomOnDoubleClick:R,zoomActivationKeyPressed:z,lib:O,onTransformChange:H}){P&&!u.isZoomingOrPanning&&E();const V=T&&!z&&!P?Ep({zoomPanValues:u,noWheelClassName:x,d3Selection:h,d3Zoom:f,panOnScrollMode:W,panOnScrollSpeed:j,zoomOnPinch:te,onPanZoomStart:a,onPanZoom:o,onPanZoomEnd:l}):kp({noWheelClassName:x,preventScrolling:Z,d3ZoomHandler:g});if(h.on("wheel.zoom",V,{passive:!1}),!P){const U=Np({zoomPanValues:u,onDraggingChange:c,onPanZoomStart:a});f.on("start",U);const ee=Sp({zoomPanValues:u,panOnDrag:L,onPaneContextMenu:!!m,onPanZoom:o,onTransformChange:H});f.on("zoom",ee);const Q=Pp({zoomPanValues:u,panOnDrag:L,panOnScroll:T,onPaneContextMenu:m,onPanZoomEnd:l,onDraggingChange:c});f.on("end",Q)}const K=Cp({zoomActivationKeyPressed:z,panOnDrag:L,zoomOnScroll:se,panOnScroll:T,zoomOnDoubleClick:R,zoomOnPinch:te,userSelectionActive:P,noPanClassName:M,noWheelClassName:x,lib:O});f.filter(K),R?h.on("dblclick.zoom",b):h.on("dblclick.zoom",null)}function E(){f.on("zoom",null)}async function _(x,M,m){const P=ro(x),T=f?.constrain()(P,M,m);return T&&await p(T),new Promise(L=>L(T))}async function y(x,M){const m=ro(x);return await p(m,M),new Promise(P=>P(m))}function S(x){if(h){const M=ro(x),m=h.property("__zoom");(m.k!==x.zoom||m.x!==x.x||m.y!==x.y)&&f?.transform(h,M,null,{sync:!0})}}function N(){const x=h?hu(h.node()):{x:0,y:0,k:1};return{x:x.x,y:x.y,zoom:x.k}}function D(x,M){return h?new Promise(m=>{f?.scaleTo(io(h,M?.duration,()=>m(!0)),x)}):Promise.resolve(!1)}function k(x,M){return h?new Promise(m=>{f?.scaleBy(io(h,M?.duration,()=>m(!0)),x)}):Promise.resolve(!1)}function I(x){f?.scaleExtent(x)}function A(x){f?.translateExtent(x)}function w(x){const M=!xt(x)||x<0?0:x;f?.clickDistance(M)}return{update:v,destroy:E,setViewport:y,setViewportConstrained:_,getViewport:N,scaleTo:D,scaleBy:k,setScaleExtent:I,setTranslateExtent:A,syncViewport:S,setClickDistance:w}}var Ra;(function(e){e.Line="line",e.Handle="handle"})(Ra||(Ra={}));var Op=De("<div><!></div>");function Or(e,t){we(t,!0);let n=J(t,"id",3,null),r=J(t,"type",3,"source"),i=J(t,"position",19,()=>ye.Top),s=J(t,"isConnectableStart",3,!0),o=J(t,"isConnectableEnd",3,!0),a=Xn(t,["$$slots","$$events","$$legacy","id","type","position","style","class","isConnectable","isConnectableStart","isConnectableEnd","isValidConnection","onconnect","ondisconnect","children"]);const l=Pn("svelteflow__node_id"),c=Pn("svelteflow__node_connectable");let u=C(()=>r()==="target"),d=C(()=>t.isConnectable!==void 0?t.isConnectable:c.value),f=Zt(),h=null;fl(()=>{if(t.onconnect||t.ondisconnect){f.edges;let w=f.connectionLookup.get(`${l}-${r()}${n()?`-${n()}`:""}`);if(h&&!Dg(w,h)){const x=w??new Map;xa(h,x,t.ondisconnect),xa(x,h,t.onconnect)}h=new Map(w)}});let g=C(()=>{if(!f.connection.inProgress)return[!1,!1,!1,!1,null];const{fromHandle:w,toHandle:x,isValid:M}=f.connection,m=w&&w.nodeId===l&&w.type===r()&&w.id===n(),P=x&&x.nodeId===l&&x.type===r()&&x.id===n(),T=f.connectionMode===cn.Strict?w?.type!==r():l!==w?.nodeId||n()!==w?.id;return[!0,m,P,T,P&&M]}),b=C(()=>{let[w,x,M,m,P]=$(g);return w}),p=C(()=>{let[w,x,M,m,P]=$(g);return x}),v=C(()=>{let[w,x,M,m,P]=$(g);return M}),E=C(()=>{let[w,x,M,m,P]=$(g);return m}),_=C(()=>{let[w,x,M,m,P]=$(g);return P});function y(w){const x=f.onbeforeconnect?.(w)??w;x&&(f.addEdge(x),f.onconnect?.(w))}function S(w){const x=xu(w);(x&&w.button===0||!x)&&Da.onPointerDown(w,{handleId:n(),nodeId:l,isTarget:$(u),connectionRadius:f.connectionRadius,domNode:f.domNode,nodeLookup:f.nodeLookup,connectionMode:f.connectionMode,lib:"svelte",autoPanOnConnect:f.autoPanOnConnect,flowId:f.flowId,isValidConnection:t.isValidConnection??f.isValidConnection,updateConnection:f.updateConnection,cancelConnection:f.cancelConnection,panBy:f.panBy,onConnect:y,onConnectStart:(M,m)=>{f.onconnectstart?.(M,{nodeId:m.nodeId,handleId:m.handleId,handleType:m.handleType})},onConnectEnd:(M,m)=>{f.onconnectend?.(M,m)},getTransform:()=>[f.viewport.x,f.viewport.y,f.viewport.zoom],getFromHandle:()=>f.connection.fromHandle})}function N(w){if(!l||!f.clickConnectStartHandle&&!s())return;if(!f.clickConnectStartHandle){f.onclickconnectstart?.(w,{nodeId:l,handleId:n(),handleType:r()}),f.clickConnectStartHandle={nodeId:l,type:r(),id:n()};return}const x=wu(w.target),M=t.isValidConnection??f.isValidConnection,{connectionMode:m,clickConnectStartHandle:P,flowId:T,nodeLookup:L}=f,{connection:W,isValid:j}=Da.isValid(w,{handle:{nodeId:l,id:n(),type:r()},connectionMode:m,fromNodeId:P.nodeId,fromHandleId:P.id??null,fromType:P.type,isValidConnection:M,flowId:T,doc:x,lib:"svelte",nodeLookup:L});j&&W&&y(W);const Z=structuredClone(Ja(f.connection));delete Z.inProgress,Z.toPosition=Z.toHandle?Z.toHandle.position:null,f.onclickconnectend?.(w,Z),f.clickConnectStartHandle=null}var D=Op(),k=()=>{};let I;var A=He(D);Yt(A,()=>t.children??$n),Te(w=>I=Bn(D,I,{"data-handleid":n(),"data-nodeid":l,"data-handlepos":i(),"data-id":`${f.flowId??""}-${l??""}-${n()??"null"??""}-${r()??""}`,class:["svelte-flow__handle",`svelte-flow__handle-${i()}`,f.noDragClass,f.noPanClass,i(),t.class],onmousedown:S,ontouchstart:S,onclick:f.clickConnect?N:void 0,onkeypress:k,style:t.style,role:"button",tabindex:"-1",...a,[Jt]:w}),[()=>({valid:$(_),connectingto:$(v),connectingfrom:$(p),source:!$(u),target:$(u),connectablestart:s(),connectableend:o(),connectable:$(d),connectionindicator:$(d)&&(!$(b)||$(E))&&($(b)||f.clickConnectStartHandle?o():s())})]),be(e,D),_e()}var Ap=De("<!> <!>",1);function Du(e,t){we(t,!0);let n=J(t,"targetPosition",19,()=>ye.Top),r=J(t,"sourcePosition",19,()=>ye.Bottom);var i=Ap(),s=Le(i);Or(s,{type:"target",get position(){return n()}});var o=Re(s),a=Re(o);Or(a,{type:"source",get position(){return r()}}),Te(()=>qn(o,` ${t.data?.label??""} `)),be(e,i),_e()}var Mp=De(" <!>",1);function Tp(e,t){we(t,!0);let n=J(t,"data",19,()=>({label:"Node"})),r=J(t,"sourcePosition",19,()=>ye.Bottom);var i=Mp(),s=Le(i),o=Re(s);Or(o,{type:"source",get position(){return r()}}),Te(()=>qn(s,`${n()?.label??""} `)),be(e,i),_e()}var Dp=De(" <!>",1);function Rp(e,t){we(t,!0);let n=J(t,"data",19,()=>({label:"Node"})),r=J(t,"targetPosition",19,()=>ye.Top);var i=Dp(),s=Le(i),o=Re(s);Or(o,{type:"target",get position(){return r()}}),Te(()=>qn(s,`${n()?.label??""} `)),be(e,i),_e()}function zp(e,t){}function za(e,t,n){if(!n||!t)return;const r=n==="root"?t:t.querySelector(`.svelte-flow__${n}`);r&&r.appendChild(e)}function Hp(e,t){const n=Zt();let r=t;return za(e,n.domNode,t),{async update(i){i!==r&&(e.parentNode?.removeChild(e),r=i),za(e,n.domNode,i)},destroy(){e.parentNode&&e.parentNode.removeChild(e)}}}const Ha=e=>zg(e),Lp=e=>gu(e);function gt(e){return e===void 0?void 0:`${e}px`}const Ar={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var Vp=De("<div><!></div>");function Yp(e,t){we(t,!0);let n=J(t,"x",3,0),r=J(t,"y",3,0),i=J(t,"selectEdgeOnClick",3,!1),s=J(t,"transparent",3,!1),o=Xn(t,["$$slots","$$events","$$legacy","x","y","width","height","selectEdgeOnClick","transparent","class","children"]);const a=Zt(),l=Pn("svelteflow__edge_id");let c=C(()=>a.visible.edges.get(l)?.zIndex);var u=Vp(),d=()=>{i()&&l&&a.handleEdgeSelection(l)};let f;var h=He(u);Yt(h,()=>t.children??$n),qe(u,(g,b)=>Hp?.(g,b),()=>"edge-labels"),Te((g,b)=>f=Bn(u,f,{class:["svelte-flow__edge-label",{transparent:s()},t.class],role:"button",tabindex:"-1",onclick:d,...o,[At]:{cursor:i()?"pointer":void 0,transform:`translate(-50%, -50%) translate(${n()??""}px,${r()??""}px)`,"pointer-events":"all",width:g,height:b,"z-index":$(c)}},"svelte-w2n27y"),[()=>gt(t.width),()=>gt(t.height)]),be(e,u),_e()}var Fp=Je("<path></path>"),qp=Je('<path fill="none"></path><!><!>',1);function ei(e,t){let n=J(t,"interactionWidth",3,20),r=Xn(t,["$$slots","$$events","$$legacy","id","path","label","labelX","labelY","labelStyle","markerStart","markerEnd","style","interactionWidth","class"]);var i=qp(),s=Le(i),o=Re(s);{var a=u=>{var d=Fp();let f;Te(()=>f=Bn(d,f,{d:t.path,"stroke-opacity":0,"stroke-width":n(),fill:"none",class:"svelte-flow__edge-interaction",...r})),be(u,d)};Ke(o,u=>{n()>0&&u(a)})}var l=Re(o);{var c=u=>{Yp(u,{get x(){return t.labelX},get y(){return t.labelY},get style(){return t.labelStyle},selectEdgeOnClick:!0,children:(d,f)=>{var h=Pl();Te(()=>qn(h,t.label)),be(d,h)},$$slots:{default:!0}})};Ke(l,u=>{t.label&&u(c)})}Te(()=>{ve(s,"id",t.id),ve(s,"d",t.path),pt(s,0,Ct(["svelte-flow__edge-path",t.class])),ve(s,"marker-start",t.markerStart),ve(s,"marker-end",t.markerEnd),$t(s,t.style)}),be(e,i)}function Ru(e,t){we(t,!0);let n=C(()=>Eu({sourceX:t.sourceX,sourceY:t.sourceY,targetX:t.targetX,targetY:t.targetY,sourcePosition:t.sourcePosition,targetPosition:t.targetPosition,curvature:t.pathOptions?.curvature})),r=C(()=>{let[o,a,l]=$(n);return o}),i=C(()=>{let[o,a,l]=$(n);return a}),s=C(()=>{let[o,a,l]=$(n);return l});ei(e,{get id(){return t.id},get path(){return $(r)},get labelX(){return $(i)},get labelY(){return $(s)},get label(){return t.label},get labelStyle(){return t.labelStyle},get markerStart(){return t.markerStart},get markerEnd(){return t.markerEnd},get interactionWidth(){return t.interactionWidth},get style(){return t.style}}),_e()}function Bp(e,t){we(t,!0);let n=C(()=>Ko({sourceX:t.sourceX,sourceY:t.sourceY,targetX:t.targetX,targetY:t.targetY,sourcePosition:t.sourcePosition,targetPosition:t.targetPosition})),r=C(()=>{let[o,a,l]=$(n);return o}),i=C(()=>{let[o,a,l]=$(n);return a}),s=C(()=>{let[o,a,l]=$(n);return l});ei(e,{get path(){return $(r)},get labelX(){return $(i)},get labelY(){return $(s)},get label(){return t.label},get labelStyle(){return t.labelStyle},get markerStart(){return t.markerStart},get markerEnd(){return t.markerEnd},get interactionWidth(){return t.interactionWidth},get style(){return t.style}}),_e()}function Wp(e,t){we(t,!0);let n=C(()=>Nu({sourceX:t.sourceX,sourceY:t.sourceY,targetX:t.targetX,targetY:t.targetY})),r=C(()=>{let[o,a,l]=$(n);return o}),i=C(()=>{let[o,a,l]=$(n);return a}),s=C(()=>{let[o,a,l]=$(n);return l});ei(e,{get path(){return $(r)},get labelX(){return $(i)},get labelY(){return $(s)},get label(){return t.label},get labelStyle(){return t.labelStyle},get markerStart(){return t.markerStart},get markerEnd(){return t.markerEnd},get interactionWidth(){return t.interactionWidth},get style(){return t.style}}),_e()}function Xp(e,t){we(t,!0);let n=C(()=>Ko({sourceX:t.sourceX,sourceY:t.sourceY,targetX:t.targetX,targetY:t.targetY,sourcePosition:t.sourcePosition,targetPosition:t.targetPosition,borderRadius:0})),r=C(()=>{let[o,a,l]=$(n);return o}),i=C(()=>{let[o,a,l]=$(n);return a}),s=C(()=>{let[o,a,l]=$(n);return l});ei(e,{get path(){return $(r)},get labelX(){return $(i)},get labelY(){return $(s)},get label(){return t.label},get labelStyle(){return t.labelStyle},get markerStart(){return t.markerStart},get markerEnd(){return t.markerEnd},get interactionWidth(){return t.interactionWidth},get style(){return t.style}}),_e()}function Kp(e){B(e,e.v+1)}function jp(e){let t=0,n=on(0),r;return()=>{kc()&&($(n),Vr(()=>(t===0&&(r=Be(()=>e(()=>Kp(n)))),t+=1,()=>{Hc().then(()=>{t-=1,t===0&&(r?.(),r=void 0)})})))}}class Gp{#e;#t;constructor(t,n){this.#e=t,this.#t=jp(n)}get current(){return this.#t(),this.#e()}}const Zp=/\(.+\)/,Up=new Set(["all","print","screen","and","or","not","only"]);class Qp extends Gp{constructor(t,n){let r=Zp.test(t)||t.split(/[\s,]+/).some(s=>Up.has(s.trim()))?t:`(${t})`;const i=window.matchMedia(r);super(()=>i.matches,s=>co(i,"change",s))}}function Jp(e,t,n,r){const i=new Map;return pu(e,{x:0,y:0,width:n,height:r},t,!0).forEach(s=>{i.set(s.id,s)}),i}function La(e){const{edges:t,defaultEdgeOptions:n,nodeLookup:r,previousEdges:i,connectionMode:s,onerror:o,onlyRenderVisible:a,elevateEdgesOnSelect:l}=e,c=new Map;for(const u of t){const d=r.get(u.source),f=r.get(u.target);if(!d||!f)continue;if(a){const{visibleNodes:b,transform:p,width:v,height:E}=e;if(Qg({sourceNode:d,targetNode:f,width:v,height:E,transform:p}))b.set(d.id,d),b.set(f.id,f);else continue}const h=i.get(u.id);if(h&&u===h.edge&&d==h.sourceNode&&f==h.targetNode){c.set(u.id,h);continue}const g=op({id:u.id,sourceNode:d,targetNode:f,sourceHandle:u.sourceHandle||null,targetHandle:u.targetHandle||null,connectionMode:s,onError:o});g&&c.set(u.id,{...n,...u,...g,zIndex:Ug({selected:u.selected,zIndex:u.zIndex??n.zIndex,sourceNode:d,targetNode:f,elevateOnSelect:l}),sourceNode:d,targetNode:f,edge:u})}return c}const zu={input:Tp,output:Rp,default:Du,group:zp},Hu={straight:Wp,smoothstep:Bp,default:Ru,step:Xp};function em(e){class t{#e=C(()=>e.props.id??"1");get flowId(){return $(this.#e)}set flowId(r){B(this.#e,r)}#t=Pe(null);get domNode(){return $(this.#t)}set domNode(r){B(this.#t,r,!0)}#n=Pe(null);get panZoom(){return $(this.#n)}set panZoom(r){B(this.#n,r,!0)}#r=Pe(Ge(e.width??0));get width(){return $(this.#r)}set width(r){B(this.#r,r,!0)}#i=Pe(Ge(e.height??0));get height(){return $(this.#i)}set height(r){B(this.#i,r,!0)}#o=C(()=>{const r=up(e.nodes,this.nodeLookup,this.parentLookup,{nodeExtent:this.nodeExtent,nodeOrigin:this.nodeOrigin,elevateNodesOnSelect:e.props.elevateNodesOnSelect??!0,checkEquality:!0});return this.fitViewQueued&&r&&(this.fitViewOptions?.duration?this.resolveFitView():queueMicrotask(()=>{this.resolveFitView()})),r});get nodesInitialized(){return $(this.#o)}set nodesInitialized(r){B(this.#o,r)}#s=C(()=>this.panZoom!==null);get viewportInitialized(){return $(this.#s)}set viewportInitialized(r){B(this.#s,r)}#a=C(()=>(gp(this.connectionLookup,this.edgeLookup,e.edges),e.edges));get _edges(){return $(this.#a)}set _edges(r){B(this.#a,r)}get nodes(){return this.nodesInitialized,e.nodes}set nodes(r){e.nodes=r}get edges(){return this._edges}set edges(r){e.edges=r}_prevSelectedNodes=[];_prevSelectedNodeIds=new Set;#l=C(()=>{const r=this._prevSelectedNodeIds.size,i=new Set,s=this.nodes.filter(o=>(o.selected&&(i.add(o.id),this._prevSelectedNodeIds.delete(o.id)),o.selected));return(r!==i.size||this._prevSelectedNodeIds.size>0)&&(this._prevSelectedNodes=s),this._prevSelectedNodeIds=i,this._prevSelectedNodes});get selectedNodes(){return $(this.#l)}set selectedNodes(r){B(this.#l,r)}_prevSelectedEdges=[];_prevSelectedEdgeIds=new Set;#u=C(()=>{const r=this._prevSelectedEdgeIds.size,i=new Set,s=this.edges.filter(o=>(o.selected&&(i.add(o.id),this._prevSelectedEdgeIds.delete(o.id)),o.selected));return(r!==i.size||this._prevSelectedEdgeIds.size>0)&&(this._prevSelectedEdges=s),this._prevSelectedEdgeIds=i,this._prevSelectedEdges});get selectedEdges(){return $(this.#u)}set selectedEdges(r){B(this.#u,r)}selectionChangeHandlers=new Map;nodeLookup=new Map;parentLookup=new Map;connectionLookup=new Map;edgeLookup=new Map;_prevVisibleEdges=new Map;#c=C(()=>{const{nodes:r,_edges:i,_prevVisibleEdges:s,nodeLookup:o,connectionMode:a,onerror:l,onlyRenderVisibleElements:c,defaultEdgeOptions:u}=this;let d,f;const h={edges:i,defaultEdgeOptions:u,previousEdges:s,nodeLookup:o,connectionMode:a,elevateEdgesOnSelect:e.props.elevateEdgesOnSelect??!0,onerror:l};if(c){const{viewport:g,width:b,height:p}=this,v=[g.x,g.y,g.zoom];d=Jp(o,v,b,p),f=La({...h,onlyRenderVisible:!0,visibleNodes:d,transform:v,width:b,height:p})}else d=this.nodeLookup,f=La(h);return{nodes:d,edges:f}});get visible(){return $(this.#c)}set visible(r){B(this.#c,r)}#d=C(()=>e.props.nodesDraggable??!0);get nodesDraggable(){return $(this.#d)}set nodesDraggable(r){B(this.#d,r)}#f=C(()=>e.props.nodesConnectable??!0);get nodesConnectable(){return $(this.#f)}set nodesConnectable(r){B(this.#f,r)}#h=C(()=>e.props.elementsSelectable??!0);get elementsSelectable(){return $(this.#h)}set elementsSelectable(r){B(this.#h,r)}#$=C(()=>e.props.nodesFocusable??!0);get nodesFocusable(){return $(this.#$)}set nodesFocusable(r){B(this.#$,r)}#g=C(()=>e.props.edgesFocusable??!0);get edgesFocusable(){return $(this.#g)}set edgesFocusable(r){B(this.#g,r)}#p=C(()=>e.props.disableKeyboardA11y??!1);get disableKeyboardA11y(){return $(this.#p)}set disableKeyboardA11y(r){B(this.#p,r)}#m=C(()=>e.props.minZoom??.5);get minZoom(){return $(this.#m)}set minZoom(r){B(this.#m,r)}#v=C(()=>e.props.maxZoom??2);get maxZoom(){return $(this.#v)}set maxZoom(r){B(this.#v,r)}#y=C(()=>e.props.nodeOrigin??[0,0]);get nodeOrigin(){return $(this.#y)}set nodeOrigin(r){B(this.#y,r)}#b=C(()=>e.props.nodeExtent??bo);get nodeExtent(){return $(this.#b)}set nodeExtent(r){B(this.#b,r)}#w=C(()=>e.props.translateExtent??bo);get translateExtent(){return $(this.#w)}set translateExtent(r){B(this.#w,r)}#_=C(()=>e.props.defaultEdgeOptions??{});get defaultEdgeOptions(){return $(this.#_)}set defaultEdgeOptions(r){B(this.#_,r)}#x=C(()=>e.props.nodeDragThreshold??1);get nodeDragThreshold(){return $(this.#x)}set nodeDragThreshold(r){B(this.#x,r)}#E=C(()=>e.props.autoPanOnNodeDrag??!0);get autoPanOnNodeDrag(){return $(this.#E)}set autoPanOnNodeDrag(r){B(this.#E,r)}#k=C(()=>e.props.autoPanOnConnect??!0);get autoPanOnConnect(){return $(this.#k)}set autoPanOnConnect(r){B(this.#k,r)}fitViewQueued=e.props.fitView??!1;fitViewOptions=e.props.fitViewOptions;fitViewResolver=null;#N=C(()=>e.props.snapGrid??null);get snapGrid(){return $(this.#N)}set snapGrid(r){B(this.#N,r)}#S=Pe(!1);get dragging(){return $(this.#S)}set dragging(r){B(this.#S,r,!0)}#P=Pe(null);get selectionRect(){return $(this.#P)}set selectionRect(r){B(this.#P,r,!0)}#C=Pe(!1);get selectionKeyPressed(){return $(this.#C)}set selectionKeyPressed(r){B(this.#C,r,!0)}#I=Pe(!1);get multiselectionKeyPressed(){return $(this.#I)}set multiselectionKeyPressed(r){B(this.#I,r,!0)}#O=Pe(!1);get deleteKeyPressed(){return $(this.#O)}set deleteKeyPressed(r){B(this.#O,r,!0)}#A=Pe(!1);get panActivationKeyPressed(){return $(this.#A)}set panActivationKeyPressed(r){B(this.#A,r,!0)}#M=Pe(!1);get zoomActivationKeyPressed(){return $(this.#M)}set zoomActivationKeyPressed(r){B(this.#M,r,!0)}#T=Pe(null);get selectionRectMode(){return $(this.#T)}set selectionRectMode(r){B(this.#T,r,!0)}#D=Pe("");get ariaLiveMessage(){return $(this.#D)}set ariaLiveMessage(r){B(this.#D,r,!0)}#R=C(()=>e.props.selectionMode??Nr.Partial);get selectionMode(){return $(this.#R)}set selectionMode(r){B(this.#R,r)}#z=C(()=>({...zu,...e.props.nodeTypes}));get nodeTypes(){return $(this.#z)}set nodeTypes(r){B(this.#z,r)}#H=C(()=>({...Hu,...e.props.edgeTypes}));get edgeTypes(){return $(this.#H)}set edgeTypes(r){B(this.#H,r)}#L=C(()=>e.props.noPanClass??"nopan");get noPanClass(){return $(this.#L)}set noPanClass(r){B(this.#L,r)}#V=C(()=>e.props.noDragClass??"nodrag");get noDragClass(){return $(this.#V)}set noDragClass(r){B(this.#V,r)}#Y=C(()=>e.props.noWheelClass??"nowheel");get noWheelClass(){return $(this.#Y)}set noWheelClass(r){B(this.#Y,r)}#F=Pe(Ge(e.props.initialViewport??{x:0,y:0,zoom:1}));get _viewport(){return $(this.#F)}set _viewport(r){B(this.#F,r,!0)}get viewport(){return e.viewport??this._viewport}set viewport(r){e.viewport&&(e.viewport=r),this._viewport=r}#q=Pe(Ge(wo));get _connection(){return $(this.#q)}set _connection(r){B(this.#q,r,!0)}#B=C(()=>this._connection.inProgress?{...this._connection,to:Zn(this._connection.to,[this.viewport.x,this.viewport.y,this.viewport.zoom])}:this._connection);get connection(){return $(this.#B)}set connection(r){B(this.#B,r)}#W=C(()=>e.props.connectionMode??cn.Strict);get connectionMode(){return $(this.#W)}set connectionMode(r){B(this.#W,r)}#X=C(()=>e.props.connectionRadius??20);get connectionRadius(){return $(this.#X)}set connectionRadius(r){B(this.#X,r)}#K=C(()=>e.props.isValidConnection??(()=>!0));get isValidConnection(){return $(this.#K)}set isValidConnection(r){B(this.#K,r)}#j=C(()=>e.props.selectNodesOnDrag??!0);get selectNodesOnDrag(){return $(this.#j)}set selectNodesOnDrag(r){B(this.#j,r)}#G=C(()=>e.props.defaultMarkerColor??"#b1b1b7");get defaultMarkerColor(){return $(this.#G)}set defaultMarkerColor(r){B(this.#G,r)}#Z=C(()=>sp(e.edges,{defaultColor:this.defaultMarkerColor,id:this.flowId,defaultMarkerStart:this.defaultEdgeOptions.markerStart,defaultMarkerEnd:this.defaultEdgeOptions.markerEnd}));get markers(){return $(this.#Z)}set markers(r){B(this.#Z,r)}#U=C(()=>e.props.onlyRenderVisibleElements??!1);get onlyRenderVisibleElements(){return $(this.#U)}set onlyRenderVisibleElements(r){B(this.#U,r)}#Q=C(()=>e.props.onflowerror??Bg);get onerror(){return $(this.#Q)}set onerror(r){B(this.#Q,r)}#J=C(()=>e.props.ondelete);get ondelete(){return $(this.#J)}set ondelete(r){B(this.#J,r)}#ee=C(()=>e.props.onbeforedelete);get onbeforedelete(){return $(this.#ee)}set onbeforedelete(r){B(this.#ee,r)}#te=C(()=>e.props.onbeforeconnect);get onbeforeconnect(){return $(this.#te)}set onbeforeconnect(r){B(this.#te,r)}#ne=C(()=>e.props.onconnect);get onconnect(){return $(this.#ne)}set onconnect(r){B(this.#ne,r)}#re=C(()=>e.props.onconnectstart);get onconnectstart(){return $(this.#re)}set onconnectstart(r){B(this.#re,r)}#ie=C(()=>e.props.onconnectend);get onconnectend(){return $(this.#ie)}set onconnectend(r){B(this.#ie,r)}#oe=C(()=>e.props.onbeforereconnect);get onbeforereconnect(){return $(this.#oe)}set onbeforereconnect(r){B(this.#oe,r)}#se=C(()=>e.props.onreconnect);get onreconnect(){return $(this.#se)}set onreconnect(r){B(this.#se,r)}#ae=C(()=>e.props.onreconnectstart);get onreconnectstart(){return $(this.#ae)}set onreconnectstart(r){B(this.#ae,r)}#le=C(()=>e.props.onreconnectend);get onreconnectend(){return $(this.#le)}set onreconnectend(r){B(this.#le,r)}#ue=C(()=>e.props.clickConnect??!0);get clickConnect(){return $(this.#ue)}set clickConnect(r){B(this.#ue,r)}#ce=C(()=>e.props.onclickconnectstart);get onclickconnectstart(){return $(this.#ce)}set onclickconnectstart(r){B(this.#ce,r)}#de=C(()=>e.props.onclickconnectend);get onclickconnectend(){return $(this.#de)}set onclickconnectend(r){B(this.#de,r)}#fe=Pe(null);get clickConnectStartHandle(){return $(this.#fe)}set clickConnectStartHandle(r){B(this.#fe,r,!0)}#he=C(()=>e.props.onselectiondrag);get onselectiondrag(){return $(this.#he)}set onselectiondrag(r){B(this.#he,r)}#$e=C(()=>e.props.onselectiondragstart);get onselectiondragstart(){return $(this.#$e)}set onselectiondragstart(r){B(this.#$e,r)}#ge=C(()=>e.props.onselectiondragstop);get onselectiondragstop(){return $(this.#ge)}set onselectiondragstop(r){B(this.#ge,r)}resolveFitView=async()=>{this.panZoom&&(await Yg({nodes:this.nodeLookup,width:this.width,height:this.height,panZoom:this.panZoom,minZoom:this.minZoom,maxZoom:this.maxZoom},this.fitViewOptions),this.fitViewResolver?.resolve(!0),this.fitViewQueued=!1,this.fitViewOptions=void 0,this.fitViewResolver=null)};_prefersDark=new Qp("(prefers-color-scheme: dark)",e.props.colorModeSSR==="dark");#pe=C(()=>e.props.colorMode==="system"?this._prefersDark.current?"dark":"light":e.props.colorMode??"light");get colorMode(){return $(this.#pe)}set colorMode(r){B(this.#pe,r)}constructor(){if(e.props.fitView&&!e.props.initialViewport&&this.width&&this.height){const r=Gr(this.nodeLookup,{filter:i=>!!((i.width||i.initialWidth)&&(i.height||i.initialHeight))});this.viewport=Xo(r,this.width,this.height,.5,2,.1)}}resetStoreValues(){this.dragging=!1,this.selectionRect=null,this.selectionRectMode=null,this.selectionKeyPressed=!1,this.multiselectionKeyPressed=!1,this.deleteKeyPressed=!1,this.panActivationKeyPressed=!1,this.zoomActivationKeyPressed=!1,this._connection=wo,this.clickConnectStartHandle=null,this.viewport=e.props.initialViewport??{x:0,y:0,zoom:1},this.ariaLiveMessage=""}}return new t}function Zt(){const e=Pn(Eo);if(!e)throw new Error("To call useStore outside of <SvelteFlow /> you need to wrap your component in a <SvelteFlowProvider />");return e.getStore()}const Eo=Symbol();function tm(e){const t=em(e);function n(w){t.nodeTypes={...zu,...w}}function r(w){t.edgeTypes={...Hu,...w}}function i(w){t.edges=tp(w,t.edges)}const s=(w,x=!1)=>{t.nodes=t.nodes.map(M=>{const m=w.get(M.id);return m?{...M,position:m.position,dragging:x}:M})};function o(w){const{changes:x,updatedInternals:M}=hp(w,t.nodeLookup,t.parentLookup,t.domNode,t.nodeOrigin);if(!M)return;lp(t.nodeLookup,t.parentLookup,{nodeOrigin:t.nodeOrigin,nodeExtent:t.nodeExtent}),t.fitViewQueued&&t.resolveFitView();const m=new Map;for(const P of x){const T=t.nodeLookup.get(P.id)?.internals.userNode;if(!T)continue;const L={...T};switch(P.type){case"dimensions":{const W={...L.measured,...P.dimensions};P.setAttributes&&(L.width=P.dimensions?.width??L.width,L.height=P.dimensions?.height??L.height),L.measured=W;break}case"position":L.position=P.position??L.position;break}m.set(P.id,L)}t.nodes=t.nodes.map(P=>m.get(P.id)??P),t.nodesInitialized||(t.nodesInitialized=!0)}function a(w){const x=t.fitViewResolver??Promise.withResolvers();return t.fitViewQueued=!0,t.fitViewOptions=w,t.fitViewResolver=x,t.nodes=[...t.nodes],x.promise}function l(w,x){const M=t.panZoom;return M?M.scaleBy(w,x):Promise.resolve(!1)}function c(w){return l(1.2,w)}function u(w){return l(1/1.2,w)}function d(w){const x=t.panZoom;x&&(x.setScaleExtent([w,t.maxZoom]),t.minZoom=w)}function f(w){const x=t.panZoom;x&&(x.setScaleExtent([t.minZoom,w]),t.maxZoom=w)}function h(w){const x=t.panZoom;x&&(x.setTranslateExtent(w),t.translateExtent=w)}function g(w){t.panZoom?.setClickDistance(w)}function b(w,x=null){let M=!1;const m=w.map(P=>(x?x.has(P.id):!0)&&P.selected?(M=!0,{...P,selected:!1}):P);return[M,m]}function p(w){const x=w?.nodes?new Set(w.nodes.map(W=>W.id)):null,[M,m]=b(t.nodes,x);M&&(t.nodes=m);const P=w?.edges?new Set(w.edges.map(W=>W.id)):null,[T,L]=b(t.edges,P);T&&(t.edges=L)}function v(w){const x=t.multiselectionKeyPressed;t.nodes=t.nodes.map(M=>{const m=w.includes(M.id),P=x&&M.selected||m;if(M.selected!==P){const T=t.nodeLookup.get(M.id);return T&&(T.selected=P),M.selected=P,{...M}}return M}),x||p({nodes:[]})}function E(w){const x=t.multiselectionKeyPressed;t.edges=t.edges.map(M=>{const m=w.includes(M.id),P=x&&M.selected||m;return M.selected!==P?{...M,selected:P}:M}),x||p({edges:[]})}function _(w,x,M){const m=t.nodeLookup.get(w);if(!m){console.warn("012",zn.error012(w));return}t.selectionRect=null,t.selectionRectMode=null,m.selected?(x||m.selected&&t.multiselectionKeyPressed)&&(p({nodes:[m],edges:[]}),requestAnimationFrame(()=>M?.blur())):v([w])}function y(w){const x=t.edgeLookup.get(w);if(!x){console.warn("012",zn.error012(w));return}(x.selectable||t.elementsSelectable&&typeof x.selectable>"u")&&(t.selectionRect=null,t.selectionRectMode=null,x.selected?x.selected&&t.multiselectionKeyPressed&&p({nodes:[],edges:[x]}):E([w]))}function S(w,x){const{nodeExtent:M,snapGrid:m,nodeOrigin:P,nodeLookup:T,nodesDraggable:L,onerror:W}=t,j=new Map,Z=m?.[0]??5,te=m?.[1]??5,se=w.x*Z*x,R=w.y*te*x;for(const z of T.values()){if(!(z.selected&&(z.draggable||L&&typeof z.draggable>"u")))continue;let H={x:z.internals.positionAbsolute.x+se,y:z.internals.positionAbsolute.y+R};m&&(H=Qr(H,m));const{position:Y,positionAbsolute:V}=mu({nodeId:z.id,nextPosition:H,nodeLookup:T,nodeExtent:M,nodeOrigin:P,onError:W});z.position=Y,z.internals.positionAbsolute=V,j.set(z.id,z)}s(j)}function N(w){return $p({delta:w,panZoom:t.panZoom,transform:[t.viewport.x,t.viewport.y,t.viewport.zoom],translateExtent:t.translateExtent,width:t.width,height:t.height})}const D=w=>{t._connection={...w}};function k(){t._connection=wo}function I(){t.resetStoreValues(),p()}return Object.assign(t,{setNodeTypes:n,setEdgeTypes:r,addEdge:i,updateNodePositions:s,updateNodeInternals:o,zoomIn:c,zoomOut:u,fitView:a,setMinZoom:d,setMaxZoom:f,setTranslateExtent:h,setPaneClickDistance:g,unselectNodesAndEdges:p,addSelectedNodes:v,addSelectedEdges:E,handleNodeSelection:_,handleEdgeSelection:y,moveSelectedNodes:S,panBy:N,updateConnection:D,cancelConnection:k,reset:I})}function nm(e,t){const{minZoom:n,maxZoom:r,initialViewport:i,translateExtent:s,paneClickDistance:o,setPanZoomInstance:a,onDraggingChange:l,onTransformChange:c}=t,u=Ip({domNode:e,minZoom:n,maxZoom:r,translateExtent:s,viewport:i,paneClickDistance:o,onDraggingChange:l}),d=u.getViewport();return(i.x!==d.x||i.y!==d.y||i.zoom!==d.zoom)&&c([d.x,d.y,d.zoom]),a(u),u.update(t),{update(f){u.update(f)}}}var rm=De('<div class="svelte-flow__zoom svelte-flow__container"><!></div>');function im(e,t){we(t,!0);let n=J(t,"store",15),r=J(t,"panOnScrollMode",19,()=>Rt.Free),i=J(t,"preventScrolling",3,!0),s=J(t,"zoomOnScroll",3,!0),o=J(t,"zoomOnDoubleClick",3,!0),a=J(t,"zoomOnPinch",3,!0),l=J(t,"panOnDrag",3,!0),c=J(t,"panOnScroll",3,!1),u=J(t,"paneClickDistance",3,1),d=C(()=>n().panActivationKeyPressed||l()),f=C(()=>n().panActivationKeyPressed||c());const{viewport:h}=n();let g=!1;Ht(()=>{!g&&n().viewportInitialized&&(t.oninit?.(),g=!0)});var b=rm(),p=He(b);Yt(p,()=>t.children),qe(b,(v,E)=>nm?.(v,E),()=>({viewport:n().viewport,minZoom:n().minZoom,maxZoom:n().maxZoom,initialViewport:h,onDraggingChange:v=>{n(n().dragging=v,!0)},setPanZoomInstance:v=>{n(n().panZoom=v,!0)},onPanZoomStart:t.onmovestart,onPanZoom:t.onmove,onPanZoomEnd:t.onmoveend,zoomOnScroll:s(),zoomOnDoubleClick:o(),zoomOnPinch:a(),panOnScroll:$(f),panOnDrag:$(d),panOnScrollSpeed:.5,panOnScrollMode:r()||Rt.Free,zoomActivationKeyPressed:n().zoomActivationKeyPressed,preventScrolling:typeof i()=="boolean"?i():!0,noPanClassName:n().noPanClass,noWheelClassName:n().noWheelClass,userSelectionActive:!!n().selectionRect,translateExtent:n().translateExtent,lib:"svelte",paneClickDistance:u(),onTransformChange:v=>{n(n().viewport={x:v[0],y:v[1],zoom:v[2]},!0)}})),be(e,b),_e()}function Va(e,t){return n=>{n.target===t&&e?.(n)}}function Ya(e){return t=>{const n=e.has(t.id);return!!t.selected!==n?{...t,selected:n}:t}}function Fa(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}var om=De("<div><!></div>");function sm(e,t){we(t,!0);let n=J(t,"store",15),r=J(t,"panOnDrag",3,!0),i,s=null,o=new Set,a=new Set,l=C(()=>n().panActivationKeyPressed||r()),c=C(()=>n().selectionKeyPressed||n().selectionRect||t.selectionOnDrag&&$(l)!==!0),u=C(()=>n().elementsSelectable&&($(c)||n().selectionRectMode==="user")),d=!1;function f(N){if(d||n().connection.inProgress){d=!1;return}t.onpaneclick?.({event:N}),n().unselectNodesAndEdges(),n(n().selectionRectMode=null,!0)}function h(N){if(s=i?.getBoundingClientRect(),!n().elementsSelectable||!$(c)||N.button!==0||N.target!==i||!s)return;N.target?.setPointerCapture?.(N.pointerId);const{x:D,y:k}=Nt(N,s);n().unselectNodesAndEdges(),n(n().selectionRect={width:0,height:0,startX:D,startY:k,x:D,y:k},!0),t.onselectionstart?.(N)}function g(N){if(!$(c)||!s||!n().selectionRect)return;d=!0;const D=Nt(N,s),{startX:k=0,startY:I=0}=n().selectionRect,A={...n().selectionRect,x:D.x<k?D.x:k,y:D.y<I?D.y:I,width:Math.abs(D.x-k),height:Math.abs(D.y-I)},w=o,x=a;o=new Set(pu(n().nodeLookup,A,[n().viewport.x,n().viewport.y,n().viewport.zoom],n().selectionMode===Nr.Partial,!0).map(m=>m.id));const M=n().defaultEdgeOptions.selectable??!0;a=new Set;for(const m of o){const P=n().connectionLookup.get(m);if(P)for(const{edgeId:T}of P.values()){const L=n().edgeLookup.get(T);L&&(L.selectable??M)&&a.add(T)}}Fa(w,o)||n(n().nodes=n().nodes.map(Ya(o)),!0),Fa(x,a)||n(n().edges=n().edges.map(Ya(a)),!0),n(n().selectionRectMode="user",!0),n(n().selectionRect=A,!0)}function b(N){N.button===0&&(N.target?.releasePointerCapture?.(N.pointerId),!$(c)&&n().selectionRectMode==="user"&&N.target===i&&f?.(N),n(n().selectionRect=null,!0),o.size>0&&n(n().selectionRectMode="nodes",!0),n().selectionKeyPressed&&(d=!1),t.onselectionend?.(N))}const p=N=>{if(Array.isArray($(l))&&$(l).includes(2)){N.preventDefault();return}t.onpanecontextmenu?.({event:N})};var v=om();let E;var _=C(()=>$(u)?void 0:Va(f,i));v.__click=function(...N){$(_)?.apply(this,N)},v.__pointerdown=function(...N){($(u)?h:void 0)?.apply(this,N)},v.__pointermove=function(...N){($(u)?g:void 0)?.apply(this,N)},v.__pointerup=function(...N){($(u)?b:void 0)?.apply(this,N)};var y=C(()=>Va(p,i));v.__contextmenu=function(...N){$(y)?.apply(this,N)};var S=He(v);Yt(S,()=>t.children),Wn(v,N=>i=N,()=>i),Te(N=>E=pt(v,1,"svelte-flow__pane svelte-flow__container",null,E,N),[()=>({draggable:r()===!0||Array.isArray(r())&&r().includes(0),dragging:n().dragging,selection:$(c)})]),be(e,v),_e()}bn(["click","pointerdown","pointermove","pointerup","contextmenu"]);var am=De('<div class="svelte-flow__viewport xyflow__viewport svelte-flow__container"><!></div>');function lm(e,t){we(t,!0);var n=am();let r;var i=He(n);Yt(i,()=>t.children),Te(()=>r=$t(n,"",r,{transform:`translate(${t.store.viewport.x??""}px, ${t.store.viewport.y??""}px) scale(${t.store.viewport.zoom??""})`})),be(e,n),_e()}function Lu(e,t){const{store:n,onDrag:r,onDragStart:i,onDragStop:s,onNodeMouseDown:o}=t,a=mp({onDrag:r,onDragStart:i,onDragStop:s,onNodeMouseDown:o,getStoreItems:()=>{const{snapGrid:c,viewport:u}=n;return{nodes:n.nodes,nodeLookup:n.nodeLookup,edges:n.edges,nodeExtent:n.nodeExtent,snapGrid:c||[0,0],snapToGrid:!!c,nodeOrigin:n.nodeOrigin,multiSelectionActive:n.multiselectionKeyPressed,domNode:n.domNode,transform:[u.x,u.y,u.zoom],autoPanOnNodeDrag:n.autoPanOnNodeDrag,nodesDraggable:n.nodesDraggable,selectNodesOnDrag:n.selectNodesOnDrag,nodeDragThreshold:n.nodeDragThreshold,unselectNodesAndEdges:n.unselectNodesAndEdges,updateNodePositions:n.updateNodePositions,onSelectionDrag:n.onselectiondrag,onSelectionDragStart:n.onselectiondragstart,onSelectionDragStop:n.onselectiondragstop,panBy:n.panBy}}});function l(c,u){if(u.disabled){a.destroy();return}a.update({domNode:c,noDragClassName:u.noDragClass,handleSelector:u.handleSelector,nodeId:u.nodeId,isSelectable:u.isSelectable,nodeClickDistance:u.nodeClickDistance})}return l(e,t),{update(c){l(e,c)},destroy(){a.destroy()}}}var um=De('<div aria-live="assertive" aria-atomic="true" style="position: absolute; width: 1px; height: 1px; margin: -1px; border: 0; padding: 0; overflow: hidden; clip: rect(0px, 0px, 0px, 0px); clip-path: inset(100%);"> </div>'),cm=De(`<div style="display: none;">Press enter or space to select a node. <!> Press delete to remove it and escape to cancel.</div> <div style="display: none;">Press enter or space to select an edge. You can then press delete to remove it or escape to
  cancel.</div> <!>`,1);function dm(e,t){we(t,!0);var n=cm(),r=Le(n),i=Re(He(r));{var s=c=>{var u=Pl("You can then use the arrow keys to move the node around.");be(c,u)};Ke(i,c=>{t.store.disableKeyboardA11y||c(s)})}var o=Re(r,2),a=Re(o,2);{var l=c=>{var u=um(),d=He(u);Te(()=>{ve(u,"id",`${fm}-${t.store.flowId}`),qn(d,t.store.ariaLiveMessage)}),be(c,u)};Ke(a,c=>{t.store.disableKeyboardA11y||c(l)})}Te(()=>{ve(r,"id",`${Vu}-${t.store.flowId}`),ve(o,"id",`${Yu}-${t.store.flowId}`)}),be(e,n),_e()}const Vu="svelte-flow__node-desc",Yu="svelte-flow__edge-desc",fm="svelte-flow__aria-live";function hm(e,t,n,r,i,s,o){$(t)&&(!n().selectNodesOnDrag||!$(r)||n().nodeDragThreshold>0)&&n().handleNodeSelection(i),s.onnodeclick?.({node:$(o),event:e})}var $m=De("<div><!></div>");function gm(e,t){we(t,!0);let n=J(t,"store",15),r=C(()=>{let{data:F={},selected:q=!1,draggable:ne,selectable:re,deletable:ae=!0,connectable:X,focusable:G,hidden:ie=!1,dragging:oe=!1,style:le="",class:ue,type:ce="default",parentId:de,sourcePosition:fe,targetPosition:he,measured:{width:$e,height:ge}={width:0,height:0},initialWidth:pe,initialHeight:me,width:Ee,height:ke,dragHandle:Ne,internals:{z:Se=0,positionAbsolute:{x:xe,y:Ae},userNode:Me}}=t.node;return F}),i=C(()=>{let{data:F={},selected:q=!1,draggable:ne,selectable:re,deletable:ae=!0,connectable:X,focusable:G,hidden:ie=!1,dragging:oe=!1,style:le="",class:ue,type:ce="default",parentId:de,sourcePosition:fe,targetPosition:he,measured:{width:$e,height:ge}={width:0,height:0},initialWidth:pe,initialHeight:me,width:Ee,height:ke,dragHandle:Ne,internals:{z:Se=0,positionAbsolute:{x:xe,y:Ae},userNode:Me}}=t.node;return q}),s=C(()=>{let{data:F={},selected:q=!1,draggable:ne,selectable:re,deletable:ae=!0,connectable:X,focusable:G,hidden:ie=!1,dragging:oe=!1,style:le="",class:ue,type:ce="default",parentId:de,sourcePosition:fe,targetPosition:he,measured:{width:$e,height:ge}={width:0,height:0},initialWidth:pe,initialHeight:me,width:Ee,height:ke,dragHandle:Ne,internals:{z:Se=0,positionAbsolute:{x:xe,y:Ae},userNode:Me}}=t.node;return ne}),o=C(()=>{let{data:F={},selected:q=!1,draggable:ne,selectable:re,deletable:ae=!0,connectable:X,focusable:G,hidden:ie=!1,dragging:oe=!1,style:le="",class:ue,type:ce="default",parentId:de,sourcePosition:fe,targetPosition:he,measured:{width:$e,height:ge}={width:0,height:0},initialWidth:pe,initialHeight:me,width:Ee,height:ke,dragHandle:Ne,internals:{z:Se=0,positionAbsolute:{x:xe,y:Ae},userNode:Me}}=t.node;return re}),a=C(()=>{let{data:F={},selected:q=!1,draggable:ne,selectable:re,deletable:ae=!0,connectable:X,focusable:G,hidden:ie=!1,dragging:oe=!1,style:le="",class:ue,type:ce="default",parentId:de,sourcePosition:fe,targetPosition:he,measured:{width:$e,height:ge}={width:0,height:0},initialWidth:pe,initialHeight:me,width:Ee,height:ke,dragHandle:Ne,internals:{z:Se=0,positionAbsolute:{x:xe,y:Ae},userNode:Me}}=t.node;return ae}),l=C(()=>{let{data:F={},selected:q=!1,draggable:ne,selectable:re,deletable:ae=!0,connectable:X,focusable:G,hidden:ie=!1,dragging:oe=!1,style:le="",class:ue,type:ce="default",parentId:de,sourcePosition:fe,targetPosition:he,measured:{width:$e,height:ge}={width:0,height:0},initialWidth:pe,initialHeight:me,width:Ee,height:ke,dragHandle:Ne,internals:{z:Se=0,positionAbsolute:{x:xe,y:Ae},userNode:Me}}=t.node;return X}),c=C(()=>{let{data:F={},selected:q=!1,draggable:ne,selectable:re,deletable:ae=!0,connectable:X,focusable:G,hidden:ie=!1,dragging:oe=!1,style:le="",class:ue,type:ce="default",parentId:de,sourcePosition:fe,targetPosition:he,measured:{width:$e,height:ge}={width:0,height:0},initialWidth:pe,initialHeight:me,width:Ee,height:ke,dragHandle:Ne,internals:{z:Se=0,positionAbsolute:{x:xe,y:Ae},userNode:Me}}=t.node;return G}),u=C(()=>{let{data:F={},selected:q=!1,draggable:ne,selectable:re,deletable:ae=!0,connectable:X,focusable:G,hidden:ie=!1,dragging:oe=!1,style:le="",class:ue,type:ce="default",parentId:de,sourcePosition:fe,targetPosition:he,measured:{width:$e,height:ge}={width:0,height:0},initialWidth:pe,initialHeight:me,width:Ee,height:ke,dragHandle:Ne,internals:{z:Se=0,positionAbsolute:{x:xe,y:Ae},userNode:Me}}=t.node;return ie}),d=C(()=>{let{data:F={},selected:q=!1,draggable:ne,selectable:re,deletable:ae=!0,connectable:X,focusable:G,hidden:ie=!1,dragging:oe=!1,style:le="",class:ue,type:ce="default",parentId:de,sourcePosition:fe,targetPosition:he,measured:{width:$e,height:ge}={width:0,height:0},initialWidth:pe,initialHeight:me,width:Ee,height:ke,dragHandle:Ne,internals:{z:Se=0,positionAbsolute:{x:xe,y:Ae},userNode:Me}}=t.node;return oe}),f=C(()=>{let{data:F={},selected:q=!1,draggable:ne,selectable:re,deletable:ae=!0,connectable:X,focusable:G,hidden:ie=!1,dragging:oe=!1,style:le="",class:ue,type:ce="default",parentId:de,sourcePosition:fe,targetPosition:he,measured:{width:$e,height:ge}={width:0,height:0},initialWidth:pe,initialHeight:me,width:Ee,height:ke,dragHandle:Ne,internals:{z:Se=0,positionAbsolute:{x:xe,y:Ae},userNode:Me}}=t.node;return le}),h=C(()=>{let{data:F={},selected:q=!1,draggable:ne,selectable:re,deletable:ae=!0,connectable:X,focusable:G,hidden:ie=!1,dragging:oe=!1,style:le="",class:ue,type:ce="default",parentId:de,sourcePosition:fe,targetPosition:he,measured:{width:$e,height:ge}={width:0,height:0},initialWidth:pe,initialHeight:me,width:Ee,height:ke,dragHandle:Ne,internals:{z:Se=0,positionAbsolute:{x:xe,y:Ae},userNode:Me}}=t.node;return ue}),g=C(()=>{let{data:F={},selected:q=!1,draggable:ne,selectable:re,deletable:ae=!0,connectable:X,focusable:G,hidden:ie=!1,dragging:oe=!1,style:le="",class:ue,type:ce="default",parentId:de,sourcePosition:fe,targetPosition:he,measured:{width:$e,height:ge}={width:0,height:0},initialWidth:pe,initialHeight:me,width:Ee,height:ke,dragHandle:Ne,internals:{z:Se=0,positionAbsolute:{x:xe,y:Ae},userNode:Me}}=t.node;return ce}),b=C(()=>{let{data:F={},selected:q=!1,draggable:ne,selectable:re,deletable:ae=!0,connectable:X,focusable:G,hidden:ie=!1,dragging:oe=!1,style:le="",class:ue,type:ce="default",parentId:de,sourcePosition:fe,targetPosition:he,measured:{width:$e,height:ge}={width:0,height:0},initialWidth:pe,initialHeight:me,width:Ee,height:ke,dragHandle:Ne,internals:{z:Se=0,positionAbsolute:{x:xe,y:Ae},userNode:Me}}=t.node;return de}),p=C(()=>{let{data:F={},selected:q=!1,draggable:ne,selectable:re,deletable:ae=!0,connectable:X,focusable:G,hidden:ie=!1,dragging:oe=!1,style:le="",class:ue,type:ce="default",parentId:de,sourcePosition:fe,targetPosition:he,measured:{width:$e,height:ge}={width:0,height:0},initialWidth:pe,initialHeight:me,width:Ee,height:ke,dragHandle:Ne,internals:{z:Se=0,positionAbsolute:{x:xe,y:Ae},userNode:Me}}=t.node;return fe}),v=C(()=>{let{data:F={},selected:q=!1,draggable:ne,selectable:re,deletable:ae=!0,connectable:X,focusable:G,hidden:ie=!1,dragging:oe=!1,style:le="",class:ue,type:ce="default",parentId:de,sourcePosition:fe,targetPosition:he,measured:{width:$e,height:ge}={width:0,height:0},initialWidth:pe,initialHeight:me,width:Ee,height:ke,dragHandle:Ne,internals:{z:Se=0,positionAbsolute:{x:xe,y:Ae},userNode:Me}}=t.node;return he}),E=C(()=>{let{data:F={},selected:q=!1,draggable:ne,selectable:re,deletable:ae=!0,connectable:X,focusable:G,hidden:ie=!1,dragging:oe=!1,style:le="",class:ue,type:ce="default",parentId:de,sourcePosition:fe,targetPosition:he,measured:{width:$e,height:ge}={width:0,height:0},initialWidth:pe,initialHeight:me,width:Ee,height:ke,dragHandle:Ne,internals:{z:Se=0,positionAbsolute:{x:xe,y:Ae},userNode:Me}}=t.node;return $e}),_=C(()=>{let{data:F={},selected:q=!1,draggable:ne,selectable:re,deletable:ae=!0,connectable:X,focusable:G,hidden:ie=!1,dragging:oe=!1,style:le="",class:ue,type:ce="default",parentId:de,sourcePosition:fe,targetPosition:he,measured:{width:$e,height:ge}={width:0,height:0},initialWidth:pe,initialHeight:me,width:Ee,height:ke,dragHandle:Ne,internals:{z:Se=0,positionAbsolute:{x:xe,y:Ae},userNode:Me}}=t.node;return ge}),y=C(()=>{let{data:F={},selected:q=!1,draggable:ne,selectable:re,deletable:ae=!0,connectable:X,focusable:G,hidden:ie=!1,dragging:oe=!1,style:le="",class:ue,type:ce="default",parentId:de,sourcePosition:fe,targetPosition:he,measured:{width:$e,height:ge}={width:0,height:0},initialWidth:pe,initialHeight:me,width:Ee,height:ke,dragHandle:Ne,internals:{z:Se=0,positionAbsolute:{x:xe,y:Ae},userNode:Me}}=t.node;return pe}),S=C(()=>{let{data:F={},selected:q=!1,draggable:ne,selectable:re,deletable:ae=!0,connectable:X,focusable:G,hidden:ie=!1,dragging:oe=!1,style:le="",class:ue,type:ce="default",parentId:de,sourcePosition:fe,targetPosition:he,measured:{width:$e,height:ge}={width:0,height:0},initialWidth:pe,initialHeight:me,width:Ee,height:ke,dragHandle:Ne,internals:{z:Se=0,positionAbsolute:{x:xe,y:Ae},userNode:Me}}=t.node;return me}),N=C(()=>{let{data:F={},selected:q=!1,draggable:ne,selectable:re,deletable:ae=!0,connectable:X,focusable:G,hidden:ie=!1,dragging:oe=!1,style:le="",class:ue,type:ce="default",parentId:de,sourcePosition:fe,targetPosition:he,measured:{width:$e,height:ge}={width:0,height:0},initialWidth:pe,initialHeight:me,width:Ee,height:ke,dragHandle:Ne,internals:{z:Se=0,positionAbsolute:{x:xe,y:Ae},userNode:Me}}=t.node;return Ee}),D=C(()=>{let{data:F={},selected:q=!1,draggable:ne,selectable:re,deletable:ae=!0,connectable:X,focusable:G,hidden:ie=!1,dragging:oe=!1,style:le="",class:ue,type:ce="default",parentId:de,sourcePosition:fe,targetPosition:he,measured:{width:$e,height:ge}={width:0,height:0},initialWidth:pe,initialHeight:me,width:Ee,height:ke,dragHandle:Ne,internals:{z:Se=0,positionAbsolute:{x:xe,y:Ae},userNode:Me}}=t.node;return ke}),k=C(()=>{let{data:F={},selected:q=!1,draggable:ne,selectable:re,deletable:ae=!0,connectable:X,focusable:G,hidden:ie=!1,dragging:oe=!1,style:le="",class:ue,type:ce="default",parentId:de,sourcePosition:fe,targetPosition:he,measured:{width:$e,height:ge}={width:0,height:0},initialWidth:pe,initialHeight:me,width:Ee,height:ke,dragHandle:Ne,internals:{z:Se=0,positionAbsolute:{x:xe,y:Ae},userNode:Me}}=t.node;return Ne}),I=C(()=>{let{data:F={},selected:q=!1,draggable:ne,selectable:re,deletable:ae=!0,connectable:X,focusable:G,hidden:ie=!1,dragging:oe=!1,style:le="",class:ue,type:ce="default",parentId:de,sourcePosition:fe,targetPosition:he,measured:{width:$e,height:ge}={width:0,height:0},initialWidth:pe,initialHeight:me,width:Ee,height:ke,dragHandle:Ne,internals:{z:Se=0,positionAbsolute:{x:xe,y:Ae},userNode:Me}}=t.node;return Se}),A=C(()=>{let{data:F={},selected:q=!1,draggable:ne,selectable:re,deletable:ae=!0,connectable:X,focusable:G,hidden:ie=!1,dragging:oe=!1,style:le="",class:ue,type:ce="default",parentId:de,sourcePosition:fe,targetPosition:he,measured:{width:$e,height:ge}={width:0,height:0},initialWidth:pe,initialHeight:me,width:Ee,height:ke,dragHandle:Ne,internals:{z:Se=0,positionAbsolute:{x:xe,y:Ae},userNode:Me}}=t.node;return xe}),w=C(()=>{let{data:F={},selected:q=!1,draggable:ne,selectable:re,deletable:ae=!0,connectable:X,focusable:G,hidden:ie=!1,dragging:oe=!1,style:le="",class:ue,type:ce="default",parentId:de,sourcePosition:fe,targetPosition:he,measured:{width:$e,height:ge}={width:0,height:0},initialWidth:pe,initialHeight:me,width:Ee,height:ke,dragHandle:Ne,internals:{z:Se=0,positionAbsolute:{x:xe,y:Ae},userNode:Me}}=t.node;return Ae}),x=C(()=>{let{data:F={},selected:q=!1,draggable:ne,selectable:re,deletable:ae=!0,connectable:X,focusable:G,hidden:ie=!1,dragging:oe=!1,style:le="",class:ue,type:ce="default",parentId:de,sourcePosition:fe,targetPosition:he,measured:{width:$e,height:ge}={width:0,height:0},initialWidth:pe,initialHeight:me,width:Ee,height:ke,dragHandle:Ne,internals:{z:Se=0,positionAbsolute:{x:xe,y:Ae},userNode:Me}}=t.node;return Me}),{id:M}=t.node,m=C(()=>$(s)??n().nodesDraggable),P=C(()=>$(o)??n().elementsSelectable),T=C(()=>$(l)??n().nodesConnectable),L=C(()=>Kg(t.node)&&!!t.node.internals.handleBounds),W=C(()=>$(c)??n().nodesFocusable);function j(F){return n().parentLookup.has(F)}let Z=C(()=>j(M)),te=Pe(null),se=null,R=$(g),z=$(p),O=$(v),H=C(()=>n().nodeTypes[$(g)]??Du);hr("svelteflow__node_connectable",{get value(){return $(T)}}),hr("svelteflow__node_id",M);let V=C(()=>{const F=$(E)===void 0?$(N)??$(y):$(N),q=$(_)===void 0?$(D)??$(S):$(D);if(!(F===void 0&&q===void 0&&$(f)===void 0))return`${$(f)};${F?`width:${gt(F)};`:""}${q?`height:${gt(q)};`:""}`});Ht(()=>{($(g)!==R||$(p)!==z||$(v)!==O)&&$(te)!==null&&requestAnimationFrame(()=>{$(te)!==null&&n().updateNodeInternals(new Map([[M,{id:M,nodeElement:$(te),force:!0}]]))}),R=$(g),z=$(p),O=$(v)}),Ht(()=>{t.resizeObserver&&(!$(L)||$(te)!==se)&&(se&&t.resizeObserver.unobserve(se),$(te)&&t.resizeObserver.observe($(te)),se=$(te))}),zo(()=>{se&&t.resizeObserver?.unobserve(se)});function K(F){if(!(_u(F)||n().disableKeyboardA11y))if($u.includes(F.key)&&$(P)){const q=F.key==="Escape";n().handleNodeSelection(M,q,$(te))}else $(m)&&t.node.selected&&Object.prototype.hasOwnProperty.call(Ar,F.key)&&(F.preventDefault(),n(n().ariaLiveMessage=`Moved selected node ${F.key.replace("Arrow","").toLowerCase()}. New position, x: ${t.node.internals.positionAbsolute.x}, y: ${t.node.internals.positionAbsolute.y}`,!0),n().moveSelectedNodes(Ar[F.key],F.shiftKey?4:1))}var U=Wt(),ee=Le(U);{var Q=F=>{var q=$m();ve(q,"data-id",M);let ne,re;q.__click=[hm,P,n,m,M,t,x],q.__pointermove=function(...X){(t.onnodepointermove?G=>t.onnodepointermove({node:$(x),event:G}):void 0)?.apply(this,X)},q.__contextmenu=function(...X){(t.onnodecontextmenu?G=>t.onnodecontextmenu({node:$(x),event:G}):void 0)?.apply(this,X)},q.__keydown=function(...X){($(W)?K:void 0)?.apply(this,X)};var ae=He(q);Do(ae,()=>$(H),(X,G)=>{G(X,{get data(){return $(r)},id:M,get selected(){return $(i)},get selectable(){return $(P)},get deletable(){return $(a)},get sourcePosition(){return $(p)},get targetPosition(){return $(v)},get zIndex(){return $(I)},get dragging(){return $(d)},get draggable(){return $(m)},get dragHandle(){return $(k)},get parentId(){return $(b)},get type(){return $(g)},get isConnectable(){return $(T)},get positionAbsoluteX(){return $(A)},get positionAbsoluteY(){return $(w)},get width(){return $(N)},get height(){return $(D)}})}),qe(q,(X,G)=>Lu?.(X,G),()=>({nodeId:M,isSelectable:$(P),disabled:!$(m),handleSelector:$(k),noDragClass:n().noDragClass,nodeClickDistance:t.nodeClickDistance,onNodeMouseDown:n().handleNodeSelection,onDrag:(X,G,ie,oe)=>{t.onnodedrag?.({event:X,targetNode:ie,nodes:oe})},onDragStart:(X,G,ie,oe)=>{t.onnodedragstart?.({event:X,targetNode:ie,nodes:oe})},onDragStop:(X,G,ie,oe)=>{t.onnodedragstop?.({event:X,targetNode:ie,nodes:oe})},store:n()})),Wn(q,X=>B(te,X),()=>$(te)),Te(X=>{ne=pt(q,1,Ct(["svelte-flow__node",`svelte-flow__node-${$(g)}`,$(h)]),null,ne,X),re=$t(q,$(V),re,{"z-index":$(I),transform:`translate(${$(A)??""}px, ${$(w)??""}px)`,visibility:$(L)?"visible":"hidden"}),ve(q,"tabindex",$(W)?0:void 0),ve(q,"role",$(W)?"button":void 0),ve(q,"aria-describedby",n().disableKeyboardA11y?void 0:`${Vu}-${n().flowId}`)},[()=>({dragging:$(d),selected:$(i),draggable:$(m),connectable:$(T),selectable:$(P),nopan:$(m),parent:$(Z)})]),sn("pointerenter",q,function(...X){(t.onnodepointerenter?G=>t.onnodepointerenter({node:$(x),event:G}):void 0)?.apply(this,X)}),sn("pointerleave",q,function(...X){(t.onnodepointerleave?G=>t.onnodepointerleave({node:$(x),event:G}):void 0)?.apply(this,X)}),be(F,q)};Ke(ee,F=>{$(u)||F(Q)})}be(e,U),_e()}bn(["click","pointermove","contextmenu","keydown"]);var pm=De('<div class="svelte-flow__nodes"></div>');function mm(e,t){we(t,!0);let n=J(t,"store",15);const r=typeof ResizeObserver>"u"?null:new ResizeObserver(s=>{const o=new Map;s.forEach(a=>{const l=a.target.getAttribute("data-id");o.set(l,{id:l,nodeElement:a.target,force:!0})}),n().updateNodeInternals(o)});zo(()=>{r?.disconnect()});var i=pm();To(i,21,()=>n().visible.nodes.values(),s=>s.id,(s,o)=>{gm(s,{get node(){return $(o)},resizeObserver:r,get nodeClickDistance(){return t.nodeClickDistance},get onnodeclick(){return t.onnodeclick},get onnodepointerenter(){return t.onnodepointerenter},get onnodepointermove(){return t.onnodepointermove},get onnodepointerleave(){return t.onnodepointerleave},get onnodedrag(){return t.onnodedrag},get onnodedragstart(){return t.onnodedragstart},get onnodedragstop(){return t.onnodedragstop},get onnodecontextmenu(){return t.onnodecontextmenu},get store(){return n()},set store(a){n(a)}})}),be(e,i),_e()}var vm=Je('<svg class="svelte-flow__edge-wrapper"><g><!></g></svg>');function ym(e,t){we(t,!0);let n=C(()=>{let{source:O,target:H,sourceX:Y,sourceY:V,targetX:K,targetY:U,sourcePosition:ee,targetPosition:Q,animated:F=!1,selected:q=!1,label:ne,labelStyle:re,data:ae={},style:X,interactionWidth:G,type:ie="default",sourceHandle:oe,targetHandle:le,markerStart:ue,markerEnd:ce,selectable:de,focusable:fe,deletable:he=!0,hidden:$e,zIndex:ge,class:pe,ariaLabel:me}=t.edge;return O}),r=C(()=>{let{source:O,target:H,sourceX:Y,sourceY:V,targetX:K,targetY:U,sourcePosition:ee,targetPosition:Q,animated:F=!1,selected:q=!1,label:ne,labelStyle:re,data:ae={},style:X,interactionWidth:G,type:ie="default",sourceHandle:oe,targetHandle:le,markerStart:ue,markerEnd:ce,selectable:de,focusable:fe,deletable:he=!0,hidden:$e,zIndex:ge,class:pe,ariaLabel:me}=t.edge;return H}),i=C(()=>{let{source:O,target:H,sourceX:Y,sourceY:V,targetX:K,targetY:U,sourcePosition:ee,targetPosition:Q,animated:F=!1,selected:q=!1,label:ne,labelStyle:re,data:ae={},style:X,interactionWidth:G,type:ie="default",sourceHandle:oe,targetHandle:le,markerStart:ue,markerEnd:ce,selectable:de,focusable:fe,deletable:he=!0,hidden:$e,zIndex:ge,class:pe,ariaLabel:me}=t.edge;return Y}),s=C(()=>{let{source:O,target:H,sourceX:Y,sourceY:V,targetX:K,targetY:U,sourcePosition:ee,targetPosition:Q,animated:F=!1,selected:q=!1,label:ne,labelStyle:re,data:ae={},style:X,interactionWidth:G,type:ie="default",sourceHandle:oe,targetHandle:le,markerStart:ue,markerEnd:ce,selectable:de,focusable:fe,deletable:he=!0,hidden:$e,zIndex:ge,class:pe,ariaLabel:me}=t.edge;return V}),o=C(()=>{let{source:O,target:H,sourceX:Y,sourceY:V,targetX:K,targetY:U,sourcePosition:ee,targetPosition:Q,animated:F=!1,selected:q=!1,label:ne,labelStyle:re,data:ae={},style:X,interactionWidth:G,type:ie="default",sourceHandle:oe,targetHandle:le,markerStart:ue,markerEnd:ce,selectable:de,focusable:fe,deletable:he=!0,hidden:$e,zIndex:ge,class:pe,ariaLabel:me}=t.edge;return K}),a=C(()=>{let{source:O,target:H,sourceX:Y,sourceY:V,targetX:K,targetY:U,sourcePosition:ee,targetPosition:Q,animated:F=!1,selected:q=!1,label:ne,labelStyle:re,data:ae={},style:X,interactionWidth:G,type:ie="default",sourceHandle:oe,targetHandle:le,markerStart:ue,markerEnd:ce,selectable:de,focusable:fe,deletable:he=!0,hidden:$e,zIndex:ge,class:pe,ariaLabel:me}=t.edge;return U}),l=C(()=>{let{source:O,target:H,sourceX:Y,sourceY:V,targetX:K,targetY:U,sourcePosition:ee,targetPosition:Q,animated:F=!1,selected:q=!1,label:ne,labelStyle:re,data:ae={},style:X,interactionWidth:G,type:ie="default",sourceHandle:oe,targetHandle:le,markerStart:ue,markerEnd:ce,selectable:de,focusable:fe,deletable:he=!0,hidden:$e,zIndex:ge,class:pe,ariaLabel:me}=t.edge;return ee}),c=C(()=>{let{source:O,target:H,sourceX:Y,sourceY:V,targetX:K,targetY:U,sourcePosition:ee,targetPosition:Q,animated:F=!1,selected:q=!1,label:ne,labelStyle:re,data:ae={},style:X,interactionWidth:G,type:ie="default",sourceHandle:oe,targetHandle:le,markerStart:ue,markerEnd:ce,selectable:de,focusable:fe,deletable:he=!0,hidden:$e,zIndex:ge,class:pe,ariaLabel:me}=t.edge;return Q}),u=C(()=>{let{source:O,target:H,sourceX:Y,sourceY:V,targetX:K,targetY:U,sourcePosition:ee,targetPosition:Q,animated:F=!1,selected:q=!1,label:ne,labelStyle:re,data:ae={},style:X,interactionWidth:G,type:ie="default",sourceHandle:oe,targetHandle:le,markerStart:ue,markerEnd:ce,selectable:de,focusable:fe,deletable:he=!0,hidden:$e,zIndex:ge,class:pe,ariaLabel:me}=t.edge;return F}),d=C(()=>{let{source:O,target:H,sourceX:Y,sourceY:V,targetX:K,targetY:U,sourcePosition:ee,targetPosition:Q,animated:F=!1,selected:q=!1,label:ne,labelStyle:re,data:ae={},style:X,interactionWidth:G,type:ie="default",sourceHandle:oe,targetHandle:le,markerStart:ue,markerEnd:ce,selectable:de,focusable:fe,deletable:he=!0,hidden:$e,zIndex:ge,class:pe,ariaLabel:me}=t.edge;return q}),f=C(()=>{let{source:O,target:H,sourceX:Y,sourceY:V,targetX:K,targetY:U,sourcePosition:ee,targetPosition:Q,animated:F=!1,selected:q=!1,label:ne,labelStyle:re,data:ae={},style:X,interactionWidth:G,type:ie="default",sourceHandle:oe,targetHandle:le,markerStart:ue,markerEnd:ce,selectable:de,focusable:fe,deletable:he=!0,hidden:$e,zIndex:ge,class:pe,ariaLabel:me}=t.edge;return ne}),h=C(()=>{let{source:O,target:H,sourceX:Y,sourceY:V,targetX:K,targetY:U,sourcePosition:ee,targetPosition:Q,animated:F=!1,selected:q=!1,label:ne,labelStyle:re,data:ae={},style:X,interactionWidth:G,type:ie="default",sourceHandle:oe,targetHandle:le,markerStart:ue,markerEnd:ce,selectable:de,focusable:fe,deletable:he=!0,hidden:$e,zIndex:ge,class:pe,ariaLabel:me}=t.edge;return re}),g=C(()=>{let{source:O,target:H,sourceX:Y,sourceY:V,targetX:K,targetY:U,sourcePosition:ee,targetPosition:Q,animated:F=!1,selected:q=!1,label:ne,labelStyle:re,data:ae={},style:X,interactionWidth:G,type:ie="default",sourceHandle:oe,targetHandle:le,markerStart:ue,markerEnd:ce,selectable:de,focusable:fe,deletable:he=!0,hidden:$e,zIndex:ge,class:pe,ariaLabel:me}=t.edge;return ae}),b=C(()=>{let{source:O,target:H,sourceX:Y,sourceY:V,targetX:K,targetY:U,sourcePosition:ee,targetPosition:Q,animated:F=!1,selected:q=!1,label:ne,labelStyle:re,data:ae={},style:X,interactionWidth:G,type:ie="default",sourceHandle:oe,targetHandle:le,markerStart:ue,markerEnd:ce,selectable:de,focusable:fe,deletable:he=!0,hidden:$e,zIndex:ge,class:pe,ariaLabel:me}=t.edge;return X}),p=C(()=>{let{source:O,target:H,sourceX:Y,sourceY:V,targetX:K,targetY:U,sourcePosition:ee,targetPosition:Q,animated:F=!1,selected:q=!1,label:ne,labelStyle:re,data:ae={},style:X,interactionWidth:G,type:ie="default",sourceHandle:oe,targetHandle:le,markerStart:ue,markerEnd:ce,selectable:de,focusable:fe,deletable:he=!0,hidden:$e,zIndex:ge,class:pe,ariaLabel:me}=t.edge;return G}),v=C(()=>{let{source:O,target:H,sourceX:Y,sourceY:V,targetX:K,targetY:U,sourcePosition:ee,targetPosition:Q,animated:F=!1,selected:q=!1,label:ne,labelStyle:re,data:ae={},style:X,interactionWidth:G,type:ie="default",sourceHandle:oe,targetHandle:le,markerStart:ue,markerEnd:ce,selectable:de,focusable:fe,deletable:he=!0,hidden:$e,zIndex:ge,class:pe,ariaLabel:me}=t.edge;return ie}),E=C(()=>{let{source:O,target:H,sourceX:Y,sourceY:V,targetX:K,targetY:U,sourcePosition:ee,targetPosition:Q,animated:F=!1,selected:q=!1,label:ne,labelStyle:re,data:ae={},style:X,interactionWidth:G,type:ie="default",sourceHandle:oe,targetHandle:le,markerStart:ue,markerEnd:ce,selectable:de,focusable:fe,deletable:he=!0,hidden:$e,zIndex:ge,class:pe,ariaLabel:me}=t.edge;return oe}),_=C(()=>{let{source:O,target:H,sourceX:Y,sourceY:V,targetX:K,targetY:U,sourcePosition:ee,targetPosition:Q,animated:F=!1,selected:q=!1,label:ne,labelStyle:re,data:ae={},style:X,interactionWidth:G,type:ie="default",sourceHandle:oe,targetHandle:le,markerStart:ue,markerEnd:ce,selectable:de,focusable:fe,deletable:he=!0,hidden:$e,zIndex:ge,class:pe,ariaLabel:me}=t.edge;return le}),y=C(()=>{let{source:O,target:H,sourceX:Y,sourceY:V,targetX:K,targetY:U,sourcePosition:ee,targetPosition:Q,animated:F=!1,selected:q=!1,label:ne,labelStyle:re,data:ae={},style:X,interactionWidth:G,type:ie="default",sourceHandle:oe,targetHandle:le,markerStart:ue,markerEnd:ce,selectable:de,focusable:fe,deletable:he=!0,hidden:$e,zIndex:ge,class:pe,ariaLabel:me}=t.edge;return ue}),S=C(()=>{let{source:O,target:H,sourceX:Y,sourceY:V,targetX:K,targetY:U,sourcePosition:ee,targetPosition:Q,animated:F=!1,selected:q=!1,label:ne,labelStyle:re,data:ae={},style:X,interactionWidth:G,type:ie="default",sourceHandle:oe,targetHandle:le,markerStart:ue,markerEnd:ce,selectable:de,focusable:fe,deletable:he=!0,hidden:$e,zIndex:ge,class:pe,ariaLabel:me}=t.edge;return ce}),N=C(()=>{let{source:O,target:H,sourceX:Y,sourceY:V,targetX:K,targetY:U,sourcePosition:ee,targetPosition:Q,animated:F=!1,selected:q=!1,label:ne,labelStyle:re,data:ae={},style:X,interactionWidth:G,type:ie="default",sourceHandle:oe,targetHandle:le,markerStart:ue,markerEnd:ce,selectable:de,focusable:fe,deletable:he=!0,hidden:$e,zIndex:ge,class:pe,ariaLabel:me}=t.edge;return de}),D=C(()=>{let{source:O,target:H,sourceX:Y,sourceY:V,targetX:K,targetY:U,sourcePosition:ee,targetPosition:Q,animated:F=!1,selected:q=!1,label:ne,labelStyle:re,data:ae={},style:X,interactionWidth:G,type:ie="default",sourceHandle:oe,targetHandle:le,markerStart:ue,markerEnd:ce,selectable:de,focusable:fe,deletable:he=!0,hidden:$e,zIndex:ge,class:pe,ariaLabel:me}=t.edge;return fe}),k=C(()=>{let{source:O,target:H,sourceX:Y,sourceY:V,targetX:K,targetY:U,sourcePosition:ee,targetPosition:Q,animated:F=!1,selected:q=!1,label:ne,labelStyle:re,data:ae={},style:X,interactionWidth:G,type:ie="default",sourceHandle:oe,targetHandle:le,markerStart:ue,markerEnd:ce,selectable:de,focusable:fe,deletable:he=!0,hidden:$e,zIndex:ge,class:pe,ariaLabel:me}=t.edge;return he}),I=C(()=>{let{source:O,target:H,sourceX:Y,sourceY:V,targetX:K,targetY:U,sourcePosition:ee,targetPosition:Q,animated:F=!1,selected:q=!1,label:ne,labelStyle:re,data:ae={},style:X,interactionWidth:G,type:ie="default",sourceHandle:oe,targetHandle:le,markerStart:ue,markerEnd:ce,selectable:de,focusable:fe,deletable:he=!0,hidden:$e,zIndex:ge,class:pe,ariaLabel:me}=t.edge;return $e}),A=C(()=>{let{source:O,target:H,sourceX:Y,sourceY:V,targetX:K,targetY:U,sourcePosition:ee,targetPosition:Q,animated:F=!1,selected:q=!1,label:ne,labelStyle:re,data:ae={},style:X,interactionWidth:G,type:ie="default",sourceHandle:oe,targetHandle:le,markerStart:ue,markerEnd:ce,selectable:de,focusable:fe,deletable:he=!0,hidden:$e,zIndex:ge,class:pe,ariaLabel:me}=t.edge;return ge}),w=C(()=>{let{source:O,target:H,sourceX:Y,sourceY:V,targetX:K,targetY:U,sourcePosition:ee,targetPosition:Q,animated:F=!1,selected:q=!1,label:ne,labelStyle:re,data:ae={},style:X,interactionWidth:G,type:ie="default",sourceHandle:oe,targetHandle:le,markerStart:ue,markerEnd:ce,selectable:de,focusable:fe,deletable:he=!0,hidden:$e,zIndex:ge,class:pe,ariaLabel:me}=t.edge;return pe}),x=C(()=>{let{source:O,target:H,sourceX:Y,sourceY:V,targetX:K,targetY:U,sourcePosition:ee,targetPosition:Q,animated:F=!1,selected:q=!1,label:ne,labelStyle:re,data:ae={},style:X,interactionWidth:G,type:ie="default",sourceHandle:oe,targetHandle:le,markerStart:ue,markerEnd:ce,selectable:de,focusable:fe,deletable:he=!0,hidden:$e,zIndex:ge,class:pe,ariaLabel:me}=t.edge;return me}),M=null;const{id:m}=t.edge;hr("svelteflow__edge_id",m);let P=C(()=>$(N)??t.store.elementsSelectable),T=C(()=>$(D)??t.store.edgesFocusable),L=C(()=>t.store.edgeTypes[$(v)]??Ru),W=C(()=>$(y)?`url('#${xo($(y),t.store.flowId)}')`:void 0),j=C(()=>$(S)?`url('#${xo($(S),t.store.flowId)}')`:void 0);function Z(O){const H=t.store.edgeLookup.get(m);H&&($(P)&&t.store.handleEdgeSelection(m),t.onedgeclick?.({event:O,edge:H}))}function te(O,H){const Y=t.store.edgeLookup.get(m);Y&&H({event:O,edge:Y})}onkeydown=O=>{if(!t.store.disableKeyboardA11y&&$u.includes(O.key)&&$(P)){const{unselectNodesAndEdges:H,addSelectedEdges:Y}=t.store;O.key==="Escape"?(M?.blur(),H({edges:[t.edge]})):Y([m])}};var se=Wt(),R=Le(se);{var z=O=>{var H=vm();let Y;var V=He(H);let K;ve(V,"data-id",m),V.__click=Z,V.__contextmenu=function(...ee){(t.onedgecontextmenu?Q=>{te(Q,t.onedgecontextmenu)}:void 0)?.apply(this,ee)},V.__keydown=function(...ee){($(T)?onkeydown:void 0)?.apply(this,ee)};var U=He(V);Do(U,()=>$(L),(ee,Q)=>{Q(ee,{id:m,get source(){return $(n)},get target(){return $(r)},get sourceX(){return $(i)},get sourceY(){return $(s)},get targetX(){return $(o)},get targetY(){return $(a)},get sourcePosition(){return $(l)},get targetPosition(){return $(c)},get animated(){return $(u)},get selected(){return $(d)},get label(){return $(f)},get labelStyle(){return $(h)},get data(){return $(g)},get style(){return $(b)},get interactionWidth(){return $(p)},get selectable(){return $(P)},get deletable(){return $(k)},get type(){return $(v)},get sourceHandleId(){return $(E)},get targetHandleId(){return $(_)},get markerStart(){return $(W)},get markerEnd(){return $(j)}})}),Wn(V,ee=>M=ee,()=>M),Te(ee=>{Y=$t(H,"",Y,{"z-index":$(A)}),K=pt(V,0,Ct(["svelte-flow__edge",$(w)]),null,K,ee),ve(V,"aria-label",$(x)===null?void 0:$(x)?$(x):`Edge from ${$(n)} to ${$(r)}`),ve(V,"aria-describedby",$(T)?`${Yu}-${t.store.flowId}`:void 0),ve(V,"role",$(T)?"button":"img"),ve(V,"tabindex",$(T)?0:void 0)},[()=>({animated:$(u),selected:$(d),selectable:$(P)})]),sn("pointerenter",V,function(...ee){(t.onedgepointerenter?Q=>{te(Q,t.onedgepointerenter)}:void 0)?.apply(this,ee)}),sn("pointerleave",V,function(...ee){(t.onedgepointerleave?Q=>{te(Q,t.onedgepointerleave)}:void 0)?.apply(this,ee)}),be(O,H)};Ke(R,O=>{$(I)||O(z)})}be(e,se),_e()}bn(["click","contextmenu","keydown"]);ac();var bm=Je("<defs></defs>");function wm(e,t){we(t,!1);const n=Zt();ud();var r=bm();To(r,5,()=>n.markers,i=>i.id,(i,s)=>{km(i,hd(()=>$(s)))}),be(e,r),_e()}var _m=Je('<polyline stroke-linecap="round" stroke-linejoin="round" fill="none" points="-5,-4 0,0 -5,4"></polyline>'),xm=Je('<polyline stroke-linecap="round" stroke-linejoin="round" points="-5,-4 0,0 -5,4 -5,-4"></polyline>'),Em=Je('<marker class="svelte-flow__arrowhead" viewBox="-10 -10 20 20" refX="0" refY="0"><!></marker>');function km(e,t){we(t,!0);let n=J(t,"width",3,12.5),r=J(t,"height",3,12.5),i=J(t,"markerUnits",3,"strokeWidth"),s=J(t,"orient",3,"auto-start-reverse");var o=Em(),a=He(o);{var l=u=>{var d=_m();Te(()=>{ve(d,"stroke",t.color),ve(d,"stroke-width",t.strokeWidth)}),be(u,d)},c=(u,d)=>{{var f=h=>{var g=xm();Te(()=>{ve(g,"stroke",t.color),ve(g,"stroke-width",t.strokeWidth),ve(g,"fill",t.color)}),be(h,g)};Ke(u,h=>{t.type===Sr.ArrowClosed&&h(f)},d)}};Ke(a,u=>{t.type===Sr.Arrow?u(l):u(c,!1)})}Te(()=>{ve(o,"id",t.id),ve(o,"markerWidth",`${n()}`),ve(o,"markerHeight",`${r()}`),ve(o,"markerUnits",i()),ve(o,"orient",s())}),be(e,o),_e()}var Nm=De('<div class="svelte-flow__edges"><svg class="svelte-flow__marker"><!></svg> <!></div>');function Sm(e,t){we(t,!0);let n=J(t,"store",15);var r=Nm(),i=He(r),s=He(i);wm(s,{});var o=Re(i,2);To(o,17,()=>n().visible.edges.values(),a=>a.id,(a,l)=>{ym(a,{get edge(){return $(l)},get onedgeclick(){return t.onedgeclick},get onedgecontextmenu(){return t.onedgecontextmenu},get onedgepointerenter(){return t.onedgepointerenter},get onedgepointerleave(){return t.onedgepointerleave},get store(){return n()},set store(c){n(c)}})}),be(e,r),_e()}var Pm=De('<div class="svelte-flow__selection svelte-1iugwpu"></div>');function Fu(e,t){we(t,!0);let n=J(t,"x",3,0),r=J(t,"y",3,0),i=J(t,"width",3,0),s=J(t,"height",3,0),o=J(t,"isVisible",3,!0);var a=Wt(),l=Le(a);{var c=u=>{var d=Pm();let f;Te((h,g)=>f=$t(d,"",f,{width:h,height:g,transform:`translate(${n()}px, ${r()}px)`}),[()=>typeof i()=="string"?i():gt(i()),()=>typeof s()=="string"?s():gt(s())]),be(u,d)};Ke(l,u=>{o()&&u(c)})}be(e,a),_e()}function Cm(e,t){const n=t.store.nodes.filter(r=>r.selected);t.onselectioncontextmenu?.({nodes:n,event:e})}function Im(e,t){const n=t.store.nodes.filter(r=>r.selected);t.onselectionclick?.({nodes:n,event:e})}var Om=De("<div><!></div>");function Am(e,t){we(t,!0);let n=Pe(void 0);Ht(()=>{t.store.disableKeyboardA11y||$(n)?.focus({preventScroll:!0})});let r=C(()=>t.store.selectionRectMode==="nodes"?(t.store.nodes,Gr(t.store.nodeLookup,{filter:l=>!!l.selected})):null);function i(l){Object.prototype.hasOwnProperty.call(Ar,l.key)&&(l.preventDefault(),t.store.moveSelectedNodes(Ar[l.key],l.shiftKey?4:1))}var s=Wt(),o=Le(s);{var a=l=>{var c=Om();c.__contextmenu=[Cm,t],c.__click=[Im,t],c.__keydown=function(...f){(t.store.disableKeyboardA11y?void 0:i)?.apply(this,f)};let u;var d=He(c);Fu(d,{width:"100%",height:"100%",x:0,y:0}),qe(c,(f,h)=>Lu?.(f,h),()=>({disabled:!1,store:t.store,onDrag:(f,h,g,b)=>{t.onnodedrag?.({event:f,targetNode:null,nodes:b})},onDragStart:(f,h,g,b)=>{t.onnodedragstart?.({event:f,targetNode:null,nodes:b})},onDragStop:(f,h,g,b)=>{t.onnodedragstop?.({event:f,targetNode:null,nodes:b})}})),Wn(c,f=>B(n,f),()=>$(n)),Te((f,h)=>{pt(c,1,Ct(["svelte-flow__selection-wrapper",t.store.noPanClass]),"svelte-16qgzgd"),ve(c,"role",t.store.disableKeyboardA11y?void 0:"button"),ve(c,"tabindex",t.store.disableKeyboardA11y?void 0:-1),u=$t(c,"",u,{width:f,height:h,transform:`translate(${$(r).x??""}px, ${$(r).y??""}px)`})},[()=>gt($(r).width),()=>gt($(r).height)]),be(l,c)};Ke(o,l=>{t.store.selectionRectMode==="nodes"&&$(r)&&xt($(r).x)&&xt($(r).y)&&l(a)})}be(e,s),_e()}bn(["contextmenu","click","keydown"]);function Mm(e){switch(e){case"ctrl":return 8;case"shift":return 4;case"alt":return 2;case"meta":return 1}}function lt(e,t){let{enabled:n=!0,trigger:r,type:i="keydown"}=t;function s(a){const l=Array.isArray(r)?r:[r],c=[a.metaKey,a.altKey,a.shiftKey,a.ctrlKey].reduce((u,d,f)=>d?u|1<<f:u,0);for(const u of l){const d={preventDefault:!1,enabled:!0,...u},{modifier:f,key:h,callback:g,preventDefault:b,enabled:p}=d;if(p){if(a.key!==h)continue;if(f===null||f===!1){if(c!==0)continue}else if(f!==void 0&&f?.[0]?.length>0){const E=Array.isArray(f)?f:[f];let _=!1;for(const y of E)if((Array.isArray(y)?y:[y]).reduce((N,D)=>N|Mm(D),0)===c){_=!0;break}if(!_)continue}b&&a.preventDefault();const v={node:e,trigger:d,originalEvent:a};e.dispatchEvent(new CustomEvent("shortcut",{detail:v})),g?.(v)}}}let o;return n&&(o=co(e,i,s)),{update:a=>{const{enabled:l=!0,type:c="keydown"}=a;n&&(!l||i!==c)?o?.():!n&&l&&(o=co(e,c,s)),n=l,i=c,r=a.trigger},destroy:()=>{o?.()}}}function Tm(){const e=C(Zt),t=s=>{const o=Ha(s)?s:$(e).nodeLookup.get(s.id),a=o.parentId?jg(o.position,o.measured,o.parentId,$(e).nodeLookup,$(e).nodeOrigin):o.position,l={...o,position:a,width:o.measured?.width??o.width,height:o.measured?.height??o.height};return fn(l)};function n(s,o,a={replace:!1}){$(e).nodes=Be(()=>$(e).nodes).map(l=>{if(l.id===s){const c=typeof o=="function"?o(l):o;return a?.replace&&Ha(c)?c:{...l,...c}}return l})}function r(s,o,a={replace:!1}){$(e).edges=Be(()=>$(e).edges).map(l=>{if(l.id===s){const c=typeof o=="function"?o(l):o;return a.replace&&Lp(c)?c:{...l,...c}}return l})}const i=s=>$(e).nodeLookup.get(s);return{zoomIn:$(e).zoomIn,zoomOut:$(e).zoomOut,getInternalNode:i,getNode:s=>i(s)?.internals.userNode,getNodes:s=>s===void 0?$(e).nodes:qa($(e).nodeLookup,s),getEdge:s=>$(e).edgeLookup.get(s),getEdges:s=>s===void 0?$(e).edges:qa($(e).edgeLookup,s),setZoom:(s,o)=>{const a=$(e).panZoom;return a?a.scaleTo(s,{duration:o?.duration}):Promise.resolve(!1)},getZoom:()=>$(e).viewport.zoom,setViewport:async(s,o)=>{const a=$(e).viewport;return $(e).panZoom?(await $(e).panZoom.setViewport({x:s.x??a.x,y:s.y??a.y,zoom:s.zoom??a.zoom},{duration:o?.duration}),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>Ja($(e).viewport),setCenter:async(s,o,a)=>{const l=typeof a?.zoom<"u"?a.zoom:$(e).maxZoom,c=$(e).panZoom;return c?(await c.setViewport({x:$(e).width/2-s*l,y:$(e).height/2-o*l,zoom:l},{duration:a?.duration}),Promise.resolve(!0)):Promise.resolve(!1)},fitView:s=>$(e).fitView(s),fitBounds:async(s,o)=>{if(!$(e).panZoom)return Promise.resolve(!1);const a=Xo(s,$(e).width,$(e).height,$(e).minZoom,$(e).maxZoom,o?.padding??.1);return await $(e).panZoom.setViewport(a,{duration:o?.duration}),Promise.resolve(!0)},getIntersectingNodes:(s,o=!0,a)=>{const l=ka(s),c=l?s:t(s);return c?(a||$(e).nodes).filter(u=>{const d=$(e).nodeLookup.get(u.id);if(!d||!l&&u.id===s.id)return!1;const f=fn(d),h=Hn(f,c);return o&&h>0||h>=c.width*c.height}):[]},isNodeIntersecting:(s,o,a=!0)=>{const c=ka(s)?s:t(s);if(!c)return!1;const u=Hn(c,o);return a&&u>0||u>=c.width*c.height},deleteElements:async({nodes:s=[],edges:o=[]})=>{const{nodes:a,edges:l}=await Fg({nodesToRemove:s,edgesToRemove:o,nodes:$(e).nodes,edges:$(e).edges,onBeforeDelete:$(e).onbeforedelete});return a&&($(e).nodes=Be(()=>$(e).nodes).filter(c=>!a.some(({id:u})=>u===c.id))),l&&($(e).edges=Be(()=>$(e).edges).filter(c=>!l.some(({id:u})=>u===c.id))),{deletedNodes:a,deletedEdges:l}},screenToFlowPosition:(s,o={snapToGrid:!0})=>{if(!$(e).domNode)return s;const a=o.snapToGrid?$(e).snapGrid:!1,{x:l,y:c,zoom:u}=$(e).viewport,{x:d,y:f}=$(e).domNode.getBoundingClientRect(),h={x:s.x-d,y:s.y-f};return Zn(h,[l,c,u],a!==null,a||[1,1])},flowToScreenPosition:s=>{if(!$(e).domNode)return s;const{x:o,y:a,zoom:l}=$(e).viewport,{x:c,y:u}=$(e).domNode.getBoundingClientRect(),d=Cr(s,[o,a,l]);return{x:d.x+c,y:d.y+u}},toObject:()=>structuredClone({nodes:[...$(e).nodes],edges:[...$(e).edges],viewport:{...$(e).viewport}}),updateNode:n,updateNodeData:(s,o,a)=>{const l=$(e).nodeLookup.get(s)?.internals.userNode;if(!l)return;const c=typeof o=="function"?o(l):o;n(s,u=>({...u,data:a?.replace?c:{...u.data,...c}}))},updateEdge:r,getNodesBounds:s=>Hg(s,{nodeLookup:$(e).nodeLookup,nodeOrigin:$(e).nodeOrigin}),getHandleConnections:({type:s,id:o,nodeId:a})=>Array.from($(e).connectionLookup.get(`${a}-${s}-${o??null}`)?.values()??[])}}function qa(e,t){const n=[];for(const r of t){const i=e.get(r);if(i){const s="internals"in i?i.internals?.userNode:i;n.push(s)}}return n}function Dm(e,t){we(t,!0);let n=J(t,"store",15),r=J(t,"selectionKey",3,"Shift"),i=J(t,"multiSelectionKey",19,()=>Ir()?"Meta":"Control"),s=J(t,"deleteKey",3,"Backspace"),o=J(t,"panActivationKey",3," "),a=J(t,"zoomActivationKey",19,()=>Ir()?"Meta":"Control"),{deleteElements:l}=Tm();function c(b){return b!==null&&typeof b=="object"}function u(b){return c(b)?b.modifier||[]:[]}function d(b){return b==null?"":c(b)?b.key:b}function f(b,p){return(Array.isArray(b)?b:[b]).map(E=>{const _=d(E);return{key:_,modifier:u(E),enabled:_!==null,callback:p}})}function h(){n(n().selectionRect=null,!0),n(n().selectionKeyPressed=!1,!0),n(n().multiselectionKeyPressed=!1,!0),n(n().deleteKeyPressed=!1,!0),n(n().panActivationKeyPressed=!1,!0),n(n().zoomActivationKeyPressed=!1,!0)}async function g(){const b=n().nodes.filter(_=>_.selected),p=n().edges.filter(_=>_.selected),{deletedNodes:v,deletedEdges:E}=await l({nodes:b,edges:p});(v.length>0||E.length>0)&&n().ondelete?.({nodes:v,edges:E})}sn("blur",Fe,h),sn("contextmenu",Fe,h),qe(Fe,(b,p)=>lt?.(b,p),()=>({trigger:f(r(),()=>n(n().selectionKeyPressed=!0,!0)),type:"keydown"})),qe(Fe,(b,p)=>lt?.(b,p),()=>({trigger:f(r(),()=>n(n().selectionKeyPressed=!1,!0)),type:"keyup"})),qe(Fe,(b,p)=>lt?.(b,p),()=>({trigger:f(i(),()=>{n(n().multiselectionKeyPressed=!0,!0)}),type:"keydown"})),qe(Fe,(b,p)=>lt?.(b,p),()=>({trigger:f(i(),()=>n(n().multiselectionKeyPressed=!1,!0)),type:"keyup"})),qe(Fe,(b,p)=>lt?.(b,p),()=>({trigger:f(s(),b=>{!(b.originalEvent.ctrlKey||b.originalEvent.metaKey||b.originalEvent.shiftKey)&&!_u(b.originalEvent)&&(n(n().deleteKeyPressed=!0,!0),g())}),type:"keydown"})),qe(Fe,(b,p)=>lt?.(b,p),()=>({trigger:f(s(),()=>n(n().deleteKeyPressed=!1,!0)),type:"keyup"})),qe(Fe,(b,p)=>lt?.(b,p),()=>({trigger:f(o(),()=>n(n().panActivationKeyPressed=!0,!0)),type:"keydown"})),qe(Fe,(b,p)=>lt?.(b,p),()=>({trigger:f(o(),()=>n(n().panActivationKeyPressed=!1,!0)),type:"keyup"})),qe(Fe,(b,p)=>lt?.(b,p),()=>({trigger:f(a(),()=>n(n().zoomActivationKeyPressed=!0,!0)),type:"keydown"})),qe(Fe,(b,p)=>lt?.(b,p),()=>({trigger:f(a(),()=>n(n().zoomActivationKeyPressed=!1,!0)),type:"keyup"})),_e()}var Rm=Je('<path fill="none" class="svelte-flow__connection-path"></path>'),zm=Je('<svg class="svelte-flow__connectionline"><g><!></g></svg>');function Hm(e,t){we(t,!0);let n=C(()=>{if(!t.store.connection.inProgress)return"";const o={sourceX:t.store.connection.from.x,sourceY:t.store.connection.from.y,sourcePosition:t.store.connection.fromPosition,targetX:t.store.connection.to.x,targetY:t.store.connection.to.y,targetPosition:t.store.connection.toPosition};switch(t.type){case wt.Bezier:{const[a]=Eu(o);return a}case wt.Straight:{const[a]=Nu(o);return a}case wt.Step:case wt.SmoothStep:{const[a]=Ko({...o,borderRadius:t.type===wt.Step?0:void 0});return a}}});var r=Wt(),i=Le(r);{var s=o=>{var a=zm(),l=He(a),c=He(l);{var u=f=>{var h=Wt(),g=Le(h);Do(g,()=>t.LineComponent,(b,p)=>{p(b,{})}),be(f,h)},d=f=>{var h=Rm();Te(()=>{ve(h,"d",$(n)),$t(h,t.style)}),be(f,h)};Ke(c,f=>{t.LineComponent?f(u):f(d,!1)})}Te(f=>{ve(a,"width",t.store.width),ve(a,"height",t.store.height),$t(a,t.containerStyle),pt(l,0,f)},[()=>Ct(["svelte-flow__connection",Rg(t.store.connection.isValid)])]),be(o,a)};Ke(i,o=>{t.store.connection.inProgress&&o(s)})}be(e,r),_e()}var Lm=De("<div><!></div>");function qu(e,t){we(t,!0);let n=J(t,"position",3,"top-right"),r=Xn(t,["$$slots","$$events","$$legacy","position","style","class","children"]),i=C(Zt),s=C(()=>`${n()}`.split("-"));var o=Lm();let a;var l=He(o);Yt(l,()=>t.children??$n),Te(c=>a=Bn(o,a,{class:c,style:t.style,...r,[At]:{"pointer-events":$(i).selectionRectMode?"none":""}}),[()=>["svelte-flow__panel",t.class,...$(s)]]),be(e,o),_e()}var Vm=De('<a href="https://svelteflow.dev" target="_blank" rel="noopener noreferrer" aria-label="Svelte Flow attribution">Svelte Flow</a>');function Ym(e,t){we(t,!0);let n=J(t,"position",3,"bottom-right");var r=Wt(),i=Le(r);{var s=o=>{qu(o,{get position(){return n()},class:"svelte-flow__attribution","data-message":"Feel free to remove the attribution or check out how you could support us: https://svelteflow.dev/support-us",children:(a,l)=>{var c=Vm();be(a,c)},$$slots:{default:!0}})};Ke(i,o=>{t.proOptions?.hideAttribution||o(s)})}be(e,r),_e()}var Fm=De("<div><!></div>");function qm(e,t){we(t,!0);let n=J(t,"domNode",15),r=J(t,"clientWidth",15),i=J(t,"clientHeight",15),s=C(()=>{let{id:u,class:d,nodeTypes:f,edgeTypes:h,colorMode:g,isValidConnection:b,onmove:p,onmovestart:v,onmoveend:E,onflowerror:_,ondelete:y,onbeforedelete:S,onbeforeconnect:N,onconnect:D,onconnectstart:k,onconnectend:I,onbeforereconnect:A,onreconnect:w,onreconnectstart:x,onreconnectend:M,onclickconnectstart:m,onclickconnectend:P,oninit:T,onselectionchange:L,onselectiondragstart:W,onselectiondrag:j,onselectiondragstop:Z,onselectionstart:te,onselectionend:se,clickConnect:R,fitView:z,fitViewOptions:O,nodeOrigin:H,nodeDragThreshold:Y,minZoom:V,maxZoom:K,initialViewport:U,connectionRadius:ee,connectionMode:Q,selectionMode:F,selectNodesOnDrag:q,snapGrid:ne,defaultMarkerColor:re,translateExtent:ae,nodeExtent:X,onlyRenderVisibleElements:G,autoPanOnConnect:ie,autoPanOnNodeDrag:oe,colorModeSSR:le,style:ue,defaultEdgeOptions:ce,elevateNodesOnSelect:de,elevateEdgesOnSelect:fe,nodesDraggable:he,nodesConnectable:$e,elementsSelectable:ge,nodesFocusable:pe,edgesFocusable:me,disableKeyboardA11y:Ee,noDragClass:ke,noPanClass:Ne,noWheelClass:Se,...xe}=t.rest;return d}),o=C(()=>{let{id:u,class:d,nodeTypes:f,edgeTypes:h,colorMode:g,isValidConnection:b,onmove:p,onmovestart:v,onmoveend:E,onflowerror:_,ondelete:y,onbeforedelete:S,onbeforeconnect:N,onconnect:D,onconnectstart:k,onconnectend:I,onbeforereconnect:A,onreconnect:w,onreconnectstart:x,onreconnectend:M,onclickconnectstart:m,onclickconnectend:P,oninit:T,onselectionchange:L,onselectiondragstart:W,onselectiondrag:j,onselectiondragstop:Z,onselectionstart:te,onselectionend:se,clickConnect:R,fitView:z,fitViewOptions:O,nodeOrigin:H,nodeDragThreshold:Y,minZoom:V,maxZoom:K,initialViewport:U,connectionRadius:ee,connectionMode:Q,selectionMode:F,selectNodesOnDrag:q,snapGrid:ne,defaultMarkerColor:re,translateExtent:ae,nodeExtent:X,onlyRenderVisibleElements:G,autoPanOnConnect:ie,autoPanOnNodeDrag:oe,colorModeSSR:le,style:ue,defaultEdgeOptions:ce,elevateNodesOnSelect:de,elevateEdgesOnSelect:fe,nodesDraggable:he,nodesConnectable:$e,elementsSelectable:ge,nodesFocusable:pe,edgesFocusable:me,disableKeyboardA11y:Ee,noDragClass:ke,noPanClass:Ne,noWheelClass:Se,...xe}=t.rest;return xe});var a=Fm();let l;var c=He(a);Yt(c,()=>t.children??$n),Wn(a,u=>n(u),()=>n()),Te((u,d)=>l=Bn(a,l,{class:["svelte-flow","svelte-flow__container",$(s),t.colorMode],"data-testid":"svelte-flow__wrapper",role:"application",...$(o),[At]:{width:u,height:d}},"svelte-12wlba6"),[()=>gt(t.width),()=>gt(t.height)]),ss(a,"clientHeight",i),ss(a,"clientWidth",r),be(e,a),_e()}var Bm=De('<div class="svelte-flow__viewport-back svelte-flow__container"></div> <!> <div class="svelte-flow__edge-labels svelte-flow__container"></div> <!> <!> <!> <div class="svelte-flow__viewport-front svelte-flow__container"></div>',1),Wm=De("<!> <!>",1),Xm=De("<!> <!> <!> <!> <!>",1);function Km(e,t){we(t,!0);let n=J(t,"paneClickDistance",3,1),r=J(t,"nodeClickDistance",3,1),i=J(t,"panOnScrollMode",19,()=>Rt.Free),s=J(t,"preventScrolling",3,!0),o=J(t,"zoomOnScroll",3,!0),a=J(t,"zoomOnDoubleClick",3,!0),l=J(t,"zoomOnPinch",3,!0),c=J(t,"panOnScroll",3,!1),u=J(t,"panOnDrag",3,!0),d=J(t,"selectionOnDrag",3,!0),f=J(t,"connectionLineType",19,()=>wt.Bezier),h=J(t,"nodes",31,()=>Ge([])),g=J(t,"edges",31,()=>Ge([])),b=J(t,"viewport",15,void 0),p=Xn(t,["$$slots","$$events","$$legacy","width","height","proOptions","selectionKey","deleteKey","panActivationKey","multiSelectionKey","zoomActivationKey","paneClickDistance","nodeClickDistance","onmovestart","onmoveend","onmove","oninit","onnodeclick","onnodecontextmenu","onnodedrag","onnodedragstart","onnodedragstop","onnodepointerenter","onnodepointermove","onnodepointerleave","onselectionclick","onselectioncontextmenu","onselectionstart","onselectionend","onedgeclick","onedgecontextmenu","onedgepointerenter","onedgepointerleave","onpaneclick","onpanecontextmenu","panOnScrollMode","preventScrolling","zoomOnScroll","zoomOnDoubleClick","zoomOnPinch","panOnScroll","panOnDrag","selectionOnDrag","connectionLineComponent","connectionLineStyle","connectionLineContainerStyle","connectionLineType","attributionPosition","children","nodes","edges","viewport"]),v=tm({props:p,width:t.width,height:t.height,get nodes(){return h()},set nodes(_){h(_)},get edges(){return g()},set edges(_){g(_)},get viewport(){return b()},set viewport(_){b(_)}});const E=Pn(Eo);E&&E.setStore&&E.setStore(v),hr(Eo,{provider:!1,getStore(){return v}}),Ht(()=>{const _={nodes:v.selectedNodes,edges:v.selectedEdges};Be(()=>t.onselectionchange)?.(_);for(const y of v.selectionChangeHandlers.values())y(_)}),zo(()=>{v.reset()}),qm(e,{get colorMode(){return v.colorMode},get width(){return t.width},get height(){return t.height},get rest(){return p},get domNode(){return v.domNode},set domNode(_){v.domNode=_},get clientWidth(){return v.width},set clientWidth(_){v.width=_},get clientHeight(){return v.height},set clientHeight(_){v.height=_},children:(_,y)=>{var S=Xm(),N=Le(S);Dm(N,{get selectionKey(){return t.selectionKey},get deleteKey(){return t.deleteKey},get panActivationKey(){return t.panActivationKey},get multiSelectionKey(){return t.multiSelectionKey},get zoomActivationKey(){return t.zoomActivationKey},get store(){return v},set store(w){v=w}});var D=Re(N,2);im(D,{get panOnScrollMode(){return i()},get preventScrolling(){return s()},get zoomOnScroll(){return o()},get zoomOnDoubleClick(){return a()},get zoomOnPinch(){return l()},get panOnScroll(){return c()},get panOnDrag(){return u()},get paneClickDistance(){return n()},get onmovestart(){return t.onmovestart},get onmove(){return t.onmove},get onmoveend(){return t.onmoveend},get oninit(){return t.oninit},get store(){return v},set store(w){v=w},children:(w,x)=>{sm(w,{get onpaneclick(){return t.onpaneclick},get onpanecontextmenu(){return t.onpanecontextmenu},get onselectionstart(){return t.onselectionstart},get onselectionend(){return t.onselectionend},get panOnDrag(){return u()},get selectionOnDrag(){return d()},get store(){return v},set store(M){v=M},children:(M,m)=>{var P=Wm(),T=Le(P);lm(T,{get store(){return v},set store(R){v=R},children:(R,z)=>{var O=Bm(),H=Re(Le(O),2);Sm(H,{get onedgeclick(){return t.onedgeclick},get onedgecontextmenu(){return t.onedgecontextmenu},get onedgepointerenter(){return t.onedgepointerenter},get onedgepointerleave(){return t.onedgepointerleave},get store(){return v},set store(U){v=U}});var Y=Re(H,4);Hm(Y,{get type(){return f()},get LineComponent(){return t.connectionLineComponent},get containerStyle(){return t.connectionLineContainerStyle},get style(){return t.connectionLineStyle},get store(){return v},set store(U){v=U}});var V=Re(Y,2);mm(V,{get nodeClickDistance(){return r()},get onnodeclick(){return t.onnodeclick},get onnodecontextmenu(){return t.onnodecontextmenu},get onnodepointerenter(){return t.onnodepointerenter},get onnodepointermove(){return t.onnodepointermove},get onnodepointerleave(){return t.onnodepointerleave},get onnodedrag(){return t.onnodedrag},get onnodedragstart(){return t.onnodedragstart},get onnodedragstop(){return t.onnodedragstop},get store(){return v},set store(U){v=U}});var K=Re(V,2);Am(K,{get onselectionclick(){return t.onselectionclick},get onselectioncontextmenu(){return t.onselectioncontextmenu},get onnodedrag(){return t.onnodedrag},get onnodedragstart(){return t.onnodedragstart},get onnodedragstop(){return t.onnodedragstop},get store(){return v},set store(U){v=U}}),be(R,O)},$$slots:{default:!0}});var L=Re(T,2);const W=C(()=>!!(v.selectionRect&&v.selectionRectMode==="user")),j=C(()=>v.selectionRect?.width),Z=C(()=>v.selectionRect?.height),te=C(()=>v.selectionRect?.x),se=C(()=>v.selectionRect?.y);Fu(L,{get isVisible(){return $(W)},get width(){return $(j)},get height(){return $(Z)},get x(){return $(te)},get y(){return $(se)}}),be(M,P)},$$slots:{default:!0}})},$$slots:{default:!0}});var k=Re(D,2);Ym(k,{get proOptions(){return t.proOptions},get position(){return t.attributionPosition}});var I=Re(k,2);dm(I,{store:v});var A=Re(I,2);Yt(A,()=>t.children??$n),be(_,S)},$$slots:{default:!0}}),_e()}var zt;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(zt||(zt={}));var jm=Je("<circle></circle>");function Gm(e,t){var n=jm();Te(()=>{ve(n,"cx",t.radius),ve(n,"cy",t.radius),ve(n,"r",t.radius),pt(n,0,Ct(["svelte-flow__background-pattern","dots",t.class]))}),be(e,n)}var Zm=Je("<path></path>");function Um(e,t){we(t,!0);var n=Zm();Te(()=>{ve(n,"stroke-width",t.lineWidth),ve(n,"d",`M${t.dimensions[0]/2} 0 V${t.dimensions[1]} M0 ${t.dimensions[1]/2} H${t.dimensions[0]}`),pt(n,0,Ct(["svelte-flow__background-pattern",t.variant,t.class]))}),be(e,n),_e()}const Qm={[zt.Dots]:1,[zt.Lines]:1,[zt.Cross]:6};var Jm=Je('<svg data-testid="svelte-flow__background"><pattern patternUnits="userSpaceOnUse"><!></pattern><rect x="0" y="0" width="100%" height="100%"></rect></svg>');function ev(e,t){we(t,!0);let n=J(t,"variant",19,()=>zt.Dots),r=J(t,"gap",3,20),i=J(t,"lineWidth",3,1),s=C(Zt),o=C(()=>n()===zt.Dots),a=C(()=>n()===zt.Cross),l=C(()=>Array.isArray(r())?r():[r(),r()]),c=C(()=>`background-pattern-${$(s).flowId}-${t.id??""}`),u=C(()=>[$(l)[0]*$(s).viewport.zoom||1,$(l)[1]*$(s).viewport.zoom||1]),d=C(()=>(t.size??Qm[n()])*$(s).viewport.zoom),f=C(()=>$(a)?[$(d),$(d)]:$(u)),h=C(()=>$(o)?[$(d)/2,$(d)/2]:[$(f)[0]/2,$(f)[1]/2]);var g=Jm();let b;var p=He(g),v=He(p);{var E=S=>{const N=C(()=>$(d)/2);Gm(S,{get radius(){return $(N)},get class(){return t.patternClass}})},_=S=>{Um(S,{get dimensions(){return $(f)},get variant(){return n()},get lineWidth(){return i()},get class(){return t.patternClass}})};Ke(v,S=>{$(o)?S(E):S(_,!1)})}var y=Re(p);Te(()=>{pt(g,0,Ct(["svelte-flow__background","svelte-flow__container",t.class])),b=$t(g,"",b,{"--xy-background-color-props":t.bgColor,"--xy-background-pattern-color-props":t.patternColor}),ve(p,"id",$(c)),ve(p,"x",$(s).viewport.x%$(u)[0]),ve(p,"y",$(s).viewport.y%$(u)[1]),ve(p,"width",$(u)[0]),ve(p,"height",$(u)[1]),ve(p,"patternTransform",`translate(-${$(h)[0]},-${$(h)[1]})`),ve(y,"fill",`url(#${$(c)})`)}),be(e,g),_e()}const et={x:0,y:0},yt="smoothstep",tv=[{id:"1",type:"input",data:{label:"input"},position:et},{id:"2",data:{label:"node 2"},position:et},{id:"2a",data:{label:"node 2a"},position:et},{id:"2b",data:{label:"node 2b"},position:et},{id:"2c",data:{label:"node 2c"},position:et},{id:"2d",data:{label:"node 2d"},position:et},{id:"3",data:{label:"node 3"},position:et},{id:"4",data:{label:"node 4"},position:et},{id:"5",data:{label:"node 5"},position:et},{id:"6",type:"output",data:{label:"output"},position:et},{id:"7",type:"output",data:{label:"output"},position:et}],nv=[{id:"e12",source:"1",target:"2",type:yt,animated:!0},{id:"e13",source:"1",target:"3",type:yt,animated:!0},{id:"e22a",source:"2",target:"2a",type:yt,animated:!0},{id:"e22b",source:"2",target:"2b",type:yt,animated:!0},{id:"e22c",source:"2",target:"2c",type:yt,animated:!0},{id:"e2c2d",source:"2c",target:"2d",type:yt,animated:!0},{id:"e45",source:"4",target:"5",type:yt,animated:!0},{id:"e56",source:"5",target:"6",type:yt,animated:!0},{id:"e57",source:"5",target:"7",type:yt,animated:!0}];var rv=(e,t)=>t("TB"),iv=(e,t)=>t("LR"),ov=De("<button>vertical layout</button> <button>horizontal layout</button>",1),sv=De("<!> <!>",1);function av(e,t){we(t,!0);const n=new ra.graphlib.Graph;n.setDefaultEdgeLabel(()=>({}));const r=172,i=36;function s(d,f,h="TB"){const g=h==="LR";return n.setGraph({rankdir:h}),d.forEach(p=>{n.setNode(p.id,{width:r,height:i})}),f.forEach(p=>{n.setEdge(p.source,p.target)}),ra.layout(n),{nodes:d.map(p=>{const v=n.node(p.id);return p.targetPosition=g?ye.Left:ye.Top,p.sourcePosition=g?ye.Right:ye.Bottom,{...p,position:{x:v.x-r/2,y:v.y-i/2}}}),edges:f}}const{nodes:o,edges:a}=s(tv,nv);let l=Pe(o),c=Pe(a);function u(d){const f=s($(l),$(c),d);B(l,f.nodes),B(c,f.edges)}Km(e,{fitView:!0,get connectionLineType(){return wt.SmoothStep},defaultEdgeOptions:{type:"smoothstep",animated:!0},get nodes(){return $(l)},set nodes(d){B(l,d)},get edges(){return $(c)},set edges(d){B(c,d)},children:(d,f)=>{var h=sv(),g=Le(h);qu(g,{position:"top-right",children:(p,v)=>{var E=ov(),_=Le(E);_.__click=[rv,u];var y=Re(_,2);y.__click=[iv,u],be(p,E)},$$slots:{default:!0}});var b=Re(g,2);ev(b,{}),be(d,h)},$$slots:{default:!0}}),_e()}bn(["click"]);Zc(av,{target:document.getElementById("app")});</script>
    <style rel="stylesheet" crossorigin>.transparent.svelte-w2n27y{background:transparent}.svelte-flow__selection.svelte-1iugwpu{position:absolute;top:0;left:0}.svelte-flow__selection-wrapper.svelte-16qgzgd{position:absolute;top:0;left:0;z-index:2000;pointer-events:all}.svelte-flow.svelte-12wlba6{width:100%;height:100%;overflow:hidden;position:relative;z-index:0;background-color:var(--background-color, var(--background-color-default))}:root{--background-color-default: #fff;--background-pattern-color-default: #ddd;--minimap-mask-color-default: rgb(240, 240, 240, .6);--minimap-mask-stroke-color-default: none;--minimap-mask-stroke-width-default: 1;--controls-button-background-color-default: #fefefe;--controls-button-background-color-hover-default: #f4f4f4;--controls-button-color-default: inherit;--controls-button-color-hover-default: inherit;--controls-button-border-color-default: #eee}.svelte-flow{direction:ltr;--xy-edge-stroke-default: #b1b1b7;--xy-edge-stroke-width-default: 1;--xy-edge-stroke-selected-default: #555;--xy-connectionline-stroke-default: #b1b1b7;--xy-connectionline-stroke-width-default: 1;--xy-attribution-background-color-default: rgba(255, 255, 255, .5);--xy-minimap-background-color-default: #fff;--xy-minimap-mask-background-color-default: rgba(240, 240, 240, .6);--xy-minimap-mask-stroke-color-default: transparent;--xy-minimap-mask-stroke-width-default: 1;--xy-minimap-node-background-color-default: #e2e2e2;--xy-minimap-node-stroke-color-default: transparent;--xy-minimap-node-stroke-width-default: 2;--xy-background-color-default: transparent;--xy-background-pattern-dots-color-default: #91919a;--xy-background-pattern-lines-color-default: #eee;--xy-background-pattern-cross-color-default: #e2e2e2;background-color:var(--xy-background-color, var(--xy-background-color-default));--xy-node-color-default: inherit;--xy-node-border-default: 1px solid #1a192b;--xy-node-background-color-default: #fff;--xy-node-group-background-color-default: rgba(240, 240, 240, .25);--xy-node-boxshadow-hover-default: 0 1px 4px 1px rgba(0, 0, 0, .08);--xy-node-boxshadow-selected-default: 0 0 0 .5px #1a192b;--xy-node-border-radius-default: 3px;--xy-handle-background-color-default: #1a192b;--xy-handle-border-color-default: #fff;--xy-selection-background-color-default: rgba(0, 89, 220, .08);--xy-selection-border-default: 1px dotted rgba(0, 89, 220, .8);--xy-controls-button-background-color-default: #fefefe;--xy-controls-button-background-color-hover-default: #f4f4f4;--xy-controls-button-color-default: inherit;--xy-controls-button-color-hover-default: inherit;--xy-controls-button-border-color-default: #eee;--xy-controls-box-shadow-default: 0 0 2px 1px rgba(0, 0, 0, .08);--xy-edge-label-background-color-default: #ffffff;--xy-edge-label-color-default: inherit;--xy-resize-background-color-default: #3367d9}.svelte-flow.dark{--xy-edge-stroke-default: #3e3e3e;--xy-edge-stroke-width-default: 1;--xy-edge-stroke-selected-default: #727272;--xy-connectionline-stroke-default: #b1b1b7;--xy-connectionline-stroke-width-default: 1;--xy-attribution-background-color-default: rgba(150, 150, 150, .25);--xy-minimap-background-color-default: #141414;--xy-minimap-mask-background-color-default: rgba(60, 60, 60, .6);--xy-minimap-mask-stroke-color-default: transparent;--xy-minimap-mask-stroke-width-default: 1;--xy-minimap-node-background-color-default: #2b2b2b;--xy-minimap-node-stroke-color-default: transparent;--xy-minimap-node-stroke-width-default: 2;--xy-background-color-default: #141414;--xy-background-pattern-dots-color-default: #777;--xy-background-pattern-lines-color-default: #777;--xy-background-pattern-cross-color-default: #777;--xy-node-color-default: #f8f8f8;--xy-node-border-default: 1px solid #3c3c3c;--xy-node-background-color-default: #1e1e1e;--xy-node-group-background-color-default: rgba(240, 240, 240, .25);--xy-node-boxshadow-hover-default: 0 1px 4px 1px rgba(255, 255, 255, .08);--xy-node-boxshadow-selected-default: 0 0 0 .5px #999;--xy-handle-background-color-default: #bebebe;--xy-handle-border-color-default: #1e1e1e;--xy-selection-background-color-default: rgba(200, 200, 220, .08);--xy-selection-border-default: 1px dotted rgba(200, 200, 220, .8);--xy-controls-button-background-color-default: #2b2b2b;--xy-controls-button-background-color-hover-default: #3e3e3e;--xy-controls-button-color-default: #f8f8f8;--xy-controls-button-color-hover-default: #fff;--xy-controls-button-border-color-default: #5b5b5b;--xy-controls-box-shadow-default: 0 0 2px 1px rgba(0, 0, 0, .08);--xy-edge-label-background-color-default: #141414;--xy-edge-label-color-default: #f8f8f8}.svelte-flow__background{background-color:var(--xy-background-color-props, var(--xy-background-color, var(--xy-background-color-default)));pointer-events:none;z-index:-1}.svelte-flow__container{position:absolute;width:100%;height:100%;top:0;left:0}.svelte-flow__pane{z-index:1}.svelte-flow__pane.draggable{cursor:grab}.svelte-flow__pane.dragging{cursor:grabbing}.svelte-flow__pane.selection{cursor:pointer}.svelte-flow__viewport{transform-origin:0 0;z-index:2;pointer-events:none}.svelte-flow__renderer{z-index:4}.svelte-flow__selection{z-index:6}.svelte-flow__nodesselection-rect:focus,.svelte-flow__nodesselection-rect:focus-visible{outline:none}.svelte-flow__edge-path{stroke:var(--xy-edge-stroke, var(--xy-edge-stroke-default));stroke-width:var(--xy-edge-stroke-width, var(--xy-edge-stroke-width-default));fill:none}.svelte-flow__connection-path{stroke:var(--xy-connectionline-stroke, var(--xy-connectionline-stroke-default));stroke-width:var(--xy-connectionline-stroke-width, var(--xy-connectionline-stroke-width-default));fill:none}.svelte-flow .svelte-flow__edges{position:absolute}.svelte-flow .svelte-flow__edges svg{overflow:visible;position:absolute;pointer-events:none}.svelte-flow__edge{pointer-events:visibleStroke}.svelte-flow__edge.selectable{cursor:pointer}.svelte-flow__edge.animated path{stroke-dasharray:5;animation:dashdraw .5s linear infinite}.svelte-flow__edge.animated path.svelte-flow__edge-interaction{stroke-dasharray:none;animation:none}.svelte-flow__edge.inactive{pointer-events:none}.svelte-flow__edge.selected,.svelte-flow__edge:focus,.svelte-flow__edge:focus-visible{outline:none}.svelte-flow__edge.selected .svelte-flow__edge-path,.svelte-flow__edge.selectable:focus .svelte-flow__edge-path,.svelte-flow__edge.selectable:focus-visible .svelte-flow__edge-path{stroke:var(--xy-edge-stroke-selected, var(--xy-edge-stroke-selected-default))}.svelte-flow__edge-textwrapper{pointer-events:all}.svelte-flow__edge .svelte-flow__edge-text{pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.svelte-flow__connection{pointer-events:none}.svelte-flow__connection .animated{stroke-dasharray:5;animation:dashdraw .5s linear infinite}svg.svelte-flow__connectionline{z-index:1001;overflow:visible;position:absolute}.svelte-flow__nodes{pointer-events:none;transform-origin:0 0}.svelte-flow__node{position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none;pointer-events:all;transform-origin:0 0;box-sizing:border-box;cursor:default}.svelte-flow__node.selectable{cursor:pointer}.svelte-flow__node.draggable{cursor:grab;pointer-events:all}.svelte-flow__node.draggable.dragging{cursor:grabbing}.svelte-flow__nodesselection{z-index:3;transform-origin:left top;pointer-events:none}.svelte-flow__nodesselection-rect{position:absolute;pointer-events:all;cursor:grab}.svelte-flow__handle{position:absolute;pointer-events:none;min-width:5px;min-height:5px;width:6px;height:6px;background-color:var(--xy-handle-background-color, var(--xy-handle-background-color-default));border:1px solid var(--xy-handle-border-color, var(--xy-handle-border-color-default));border-radius:100%}.svelte-flow__handle.connectingfrom{pointer-events:all}.svelte-flow__handle.connectionindicator{pointer-events:all;cursor:crosshair}.svelte-flow__handle-bottom{top:auto;left:50%;bottom:0;transform:translate(-50%,50%)}.svelte-flow__handle-top{top:0;left:50%;transform:translate(-50%,-50%)}.svelte-flow__handle-left{top:50%;left:0;transform:translate(-50%,-50%)}.svelte-flow__handle-right{top:50%;right:0;transform:translate(50%,-50%)}.svelte-flow__edgeupdater{cursor:move;pointer-events:all}.svelte-flow__panel{position:absolute;z-index:5;margin:15px}.svelte-flow__panel.top{top:0}.svelte-flow__panel.bottom{bottom:0}.svelte-flow__panel.top.center,.svelte-flow__panel.bottom.center{left:50%;transform:translate(-15px) translate(-50%)}.svelte-flow__panel.left{left:0}.svelte-flow__panel.right{right:0}.svelte-flow__panel.left.center,.svelte-flow__panel.right.center{top:50%;transform:translateY(-15px) translateY(-50%)}.svelte-flow__attribution{font-size:10px;background:var(--xy-attribution-background-color, var(--xy-attribution-background-color-default));padding:2px 3px;margin:0}.svelte-flow__attribution a{text-decoration:none;color:#999}@keyframes dashdraw{0%{stroke-dashoffset:10}}.svelte-flow__edgelabel-renderer{position:absolute;width:100%;height:100%;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;left:0;top:0}.svelte-flow__viewport-portal{position:absolute;width:100%;height:100%;left:0;top:0;-webkit-user-select:none;-moz-user-select:none;user-select:none}.svelte-flow__minimap{background:var( --xy-minimap-background-color-props, var(--xy-minimap-background-color, var(--xy-minimap-background-color-default)) )}.svelte-flow__minimap-svg{display:block}.svelte-flow__minimap-mask{fill:var( --xy-minimap-mask-background-color-props, var(--xy-minimap-mask-background-color, var(--xy-minimap-mask-background-color-default)) );stroke:var( --xy-minimap-mask-stroke-color-props, var(--xy-minimap-mask-stroke-color, var(--xy-minimap-mask-stroke-color-default)) );stroke-width:var( --xy-minimap-mask-stroke-width-props, var(--xy-minimap-mask-stroke-width, var(--xy-minimap-mask-stroke-width-default)) )}.svelte-flow__minimap-node{fill:var( --xy-minimap-node-background-color-props, var(--xy-minimap-node-background-color, var(--xy-minimap-node-background-color-default)) );stroke:var( --xy-minimap-node-stroke-color-props, var(--xy-minimap-node-stroke-color, var(--xy-minimap-node-stroke-color-default)) );stroke-width:var( --xy-minimap-node-stroke-width-props, var(--xy-minimap-node-stroke-width, var(--xy-minimap-node-stroke-width-default)) )}.svelte-flow__background-pattern.dots{fill:var( --xy-background-pattern-color-props, var(--xy-background-pattern-color, var(--xy-background-pattern-dots-color-default)) )}.svelte-flow__background-pattern.lines{stroke:var( --xy-background-pattern-color-props, var(--xy-background-pattern-color, var(--xy-background-pattern-lines-color-default)) )}.svelte-flow__background-pattern.cross{stroke:var( --xy-background-pattern-color-props, var(--xy-background-pattern-color, var(--xy-background-pattern-cross-color-default)) )}.svelte-flow__controls{display:flex;flex-direction:column;box-shadow:var(--xy-controls-box-shadow, var(--xy-controls-box-shadow-default))}.svelte-flow__controls.horizontal{flex-direction:row}.svelte-flow__controls-button{display:flex;justify-content:center;align-items:center;height:26px;width:26px;padding:4px;border:none;background:var(--xy-controls-button-background-color, var(--xy-controls-button-background-color-default));border-bottom:1px solid var( --xy-controls-button-border-color-props, var(--xy-controls-button-border-color, var(--xy-controls-button-border-color-default)) );color:var( --xy-controls-button-color-props, var(--xy-controls-button-color, var(--xy-controls-button-color-default)) );cursor:pointer;-webkit-user-select:none;-moz-user-select:none;user-select:none}.svelte-flow__controls-button svg{width:100%;max-width:12px;max-height:12px;fill:currentColor}.svelte-flow__edge.updating .svelte-flow__edge-path{stroke:#777}.svelte-flow__edge-text{font-size:10px}.svelte-flow__node.selectable:focus,.svelte-flow__node.selectable:focus-visible{outline:none}.svelte-flow__node-input,.svelte-flow__node-default,.svelte-flow__node-output,.svelte-flow__node-group{padding:10px;border-radius:var(--xy-node-border-radius, var(--xy-node-border-radius-default));width:150px;font-size:12px;color:var(--xy-node-color, var(--xy-node-color-default));text-align:center;border:var(--xy-node-border, var(--xy-node-border-default));background-color:var(--xy-node-background-color, var(--xy-node-background-color-default))}.svelte-flow__node-input.selectable:hover,.svelte-flow__node-default.selectable:hover,.svelte-flow__node-output.selectable:hover,.svelte-flow__node-group.selectable:hover{box-shadow:var(--xy-node-boxshadow-hover, var(--xy-node-boxshadow-hover-default))}.svelte-flow__node-input.selectable.selected,.svelte-flow__node-input.selectable:focus,.svelte-flow__node-input.selectable:focus-visible,.svelte-flow__node-default.selectable.selected,.svelte-flow__node-default.selectable:focus,.svelte-flow__node-default.selectable:focus-visible,.svelte-flow__node-output.selectable.selected,.svelte-flow__node-output.selectable:focus,.svelte-flow__node-output.selectable:focus-visible,.svelte-flow__node-group.selectable.selected,.svelte-flow__node-group.selectable:focus,.svelte-flow__node-group.selectable:focus-visible{box-shadow:var(--xy-node-boxshadow-selected, var(--xy-node-boxshadow-selected-default))}.svelte-flow__node-group{background-color:var(--xy-node-group-background-color, var(--xy-node-group-background-color-default))}.svelte-flow__nodesselection-rect,.svelte-flow__selection{background:var(--xy-selection-background-color, var(--xy-selection-background-color-default));border:var(--xy-selection-border, var(--xy-selection-border-default))}.svelte-flow__nodesselection-rect:focus,.svelte-flow__nodesselection-rect:focus-visible,.svelte-flow__selection:focus,.svelte-flow__selection:focus-visible{outline:none}.svelte-flow__controls-button:hover{background:var( --xy-controls-button-background-color-hover-props, var(--xy-controls-button-background-color-hover, var(--xy-controls-button-background-color-hover-default)) );color:var( --xy-controls-button-color-hover-props, var(--xy-controls-button-color-hover, var(--xy-controls-button-color-hover-default)) )}.svelte-flow__controls-button:disabled{pointer-events:none}.svelte-flow__controls-button:disabled svg{fill-opacity:.4}.svelte-flow__controls-button:last-child{border-bottom:none}.svelte-flow__controls.horizontal .svelte-flow__controls-button{border-bottom:none;border-right:1px solid var( --xy-controls-button-border-color-props, var(--xy-controls-button-border-color, var(--xy-controls-button-border-color-default)) )}.svelte-flow__controls.horizontal .svelte-flow__controls-button:last-child{border-right:none}.svelte-flow__resize-control{position:absolute}.svelte-flow__resize-control.left,.svelte-flow__resize-control.right{cursor:ew-resize}.svelte-flow__resize-control.top,.svelte-flow__resize-control.bottom{cursor:ns-resize}.svelte-flow__resize-control.top.left,.svelte-flow__resize-control.bottom.right{cursor:nwse-resize}.svelte-flow__resize-control.bottom.left,.svelte-flow__resize-control.top.right{cursor:nesw-resize}.svelte-flow__resize-control.handle{width:4px;height:4px;border:1px solid #fff;border-radius:1px;background-color:var(--xy-resize-background-color, var(--xy-resize-background-color-default));transform:translate(-50%,-50%)}.svelte-flow__resize-control.handle.left{left:0;top:50%}.svelte-flow__resize-control.handle.right{left:100%;top:50%}.svelte-flow__resize-control.handle.top{left:50%;top:0}.svelte-flow__resize-control.handle.bottom{left:50%;top:100%}.svelte-flow__resize-control.handle.top.left,.svelte-flow__resize-control.handle.bottom.left{left:0}.svelte-flow__resize-control.handle.top.right,.svelte-flow__resize-control.handle.bottom.right{left:100%}.svelte-flow__resize-control.line{border-color:var(--xy-resize-background-color, var(--xy-resize-background-color-default));border-width:0;border-style:solid}.svelte-flow__resize-control.line.left,.svelte-flow__resize-control.line.right{width:1px;transform:translate(-50%);top:0;height:100%}.svelte-flow__resize-control.line.left{left:0;border-left-width:1px}.svelte-flow__resize-control.line.right{left:100%;border-right-width:1px}.svelte-flow__resize-control.line.top,.svelte-flow__resize-control.line.bottom{height:1px;transform:translateY(-50%);left:0;width:100%}.svelte-flow__resize-control.line.top{top:0;border-top-width:1px}.svelte-flow__resize-control.line.bottom{border-bottom-width:1px;top:100%}.svelte-flow__edge-label{text-align:center;position:absolute;padding:2px;font-size:10px;color:var(--xy-edge-label-color, var(--xy-edge-label-color-default));background:var(--xy-edge-label-background-color, var(--xy-edge-label-background-color-default))}.svelte-flow__container{-webkit-user-select:none;-moz-user-select:none;user-select:none}.svelte-flow{--xy-background-color: #f7f9fb;--xy-theme-selected: #ff4000;--xy-theme-hover: #c5c5c5;--xy-theme-edge-hover: black;--xy-theme-color-focus: #e8e8e8;--xy-node-border-default: 1px solid #ededed;--xy-node-boxshadow-default: 0px 3.54px 4.55px 0px #00000005, 0px 3.54px 4.55px 0px #0000000d, 0px .51px 1.01px 0px #0000001a;--xy-node-border-radius-default: 8px;--xy-handle-background-color-default: #ffffff;--xy-handle-border-color-default: #aaaaaa;--xy-edge-label-color-default: #505050;--xy-resize-background-color-default: #9e86ed}.svelte-flow.dark{--xy-node-boxshadow-default: 0px 3.54px 4.55px 0px rgba(255, 255, 255, .05), 0px 3.54px 4.55px 0px rgba(255, 255, 255, .13), 0px .51px 1.01px 0px rgba(255, 255, 255, .2);--xy-theme-color-focus: #535353}.svelte-flow__node{box-shadow:var(--xy-node-boxshadow-default);border-radius:var(--xy-node-border-radius-default);background-color:var(--xy-node-background-color-default);display:flex;justify-content:center;align-items:center;text-align:center;padding:10px;font-size:12px;flex-direction:column;border:var(--xy-node-border-default);color:var(--xy-node-color, var(--xy-node-color-default))}.svelte-flow__node.selectable:focus{box-shadow:0 0 0 4px var(--xy-theme-color-focus);border-color:#d9d9d9}.svelte-flow__node.selectable:focus:active{box-shadow:var(--xy-node-boxshadow-default)}.svelte-flow__node.selectable:hover,.svelte-flow__node.draggable:hover{border-color:var(--xy-theme-hover)}.svelte-flow__node.selectable.selected{border-color:var(--xy-theme-selected);box-shadow:var(--xy-node-boxshadow-default)}.svelte-flow__node-group{background-color:#cfb6ff66;border-color:#9e86ed}.svelte-flow__edge.selectable:hover .svelte-flow__edge-path,.svelte-flow__edge.selectable.selected .svelte-flow__edge-path{stroke:var(--xy-theme-edge-hover)}.svelte-flow__handle{background-color:var(--xy-handle-background-color-default)}.svelte-flow__handle.connectionindicator:hover{pointer-events:all;border-color:var(--xy-theme-edge-hover);background-color:#fff}.svelte-flow__handle.connectionindicator:focus,.svelte-flow__handle.connectingfrom,.svelte-flow__handle.connectingto{border-color:var(--xy-theme-edge-hover)}.svelte-flow__node:has(.svelte-flow__resize-control.line){border-radius:0}.svelte-flow__resize-control.handle{border:none;border-radius:0;width:5px;height:5px}.svelte-flow__edge-label{background:#f7f9fb}:root{--color-primary: #ff4000;--color-background: #fefefe;--color-hover-bg: #f6f6f6;--color-disabled: #76797e}.xy-theme__button{cursor:pointer;display:inline-flex;align-items:center;justify-content:center;height:2.5rem;padding:0 1rem;border-radius:100px;border:1px solid var(--color-primary);background-color:var(--color-background);color:var(--color-primary);transition:background-color .2s ease,border-color .2s ease;box-shadow:var(--xy-node-boxshadow-default)}.xy-theme__button:hover{background-color:var(--xy-controls-button-background-color-hover-default)}.xy-theme__button:active{background-color:var(--color-hover-bg)}.xy-theme__button:disabled{color:var(--color-disabled);opacity:.8;cursor:not-allowed;border:1px solid var(--color-disabled)}.xy-theme__button>span{margin-right:.2rem}.xy-theme__button+.xy-theme__button{margin-left:.3rem}.xy-theme__input{padding:.5rem .75rem;border:1px solid var(--color-primary);border-radius:7px;background-color:var(--color-background);transition:background-color .2s ease,border-color .2s ease;font-size:1rem;color:inherit}.xy-theme__input:focus{outline:none;border-color:var(--color-primary);box-shadow:0 0 0 2px #ff00734d}.xy-theme__checkbox{appearance:none;-webkit-appearance:none;width:1.25rem;height:1.25rem;border-radius:7px;border:2px solid var(--color-primary);background-color:var(--color-background);transition:background-color .2s ease,border-color .2s ease;cursor:pointer;display:inline-block;vertical-align:middle;margin-right:.5rem}.xy-theme__checkbox:checked{background-color:var(--color-primary);border-color:var(--color-primary)}.xy-theme__checkbox:focus{outline:none;box-shadow:0 0 0 2px #ff00734d}.xy-theme__select{padding:.5rem .75rem;border:1px solid var(--color-primary);border-radius:50px;background-color:var(--color-background);transition:background-color .2s ease,border-color .2s ease;font-size:1rem;color:inherit;margin-right:.5rem;box-shadow:var(--xy-node-boxshadow-default)}.xy-theme__select:focus{outline:none;border-color:var(--color-primary);box-shadow:0 0 0 2px #ff00734d}.xy-theme__label{margin-top:10px;margin-bottom:3px;display:inline-block}html,body{margin:0;font-family:sans-serif}#app{width:100vw;height:100vh}</style>
  </head>
  <body>
    <div id="app"></div>
  </body>
</html>
